(function(){/*
 @pixi/polyfill - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/polyfill is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/settings - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/settings is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/constants - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/constants is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/utils - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/utils is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/math - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/math is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/display - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/display is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
**************************************************************************** @pixi/accessibility - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/accessibility is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/ticker - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/ticker is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/interaction - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/interaction is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/runner - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/runner is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/core - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/core is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/app - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/app is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/extract - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/extract is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 resource-loader - v3.0.1
 https://github.com/pixijs/pixi-sound
 Compiled Tue, 02 Jul 2019 14:06:18 UTC

 resource-loader is licensed under the MIT license.
 http://www.opensource.org/licenses/mit-license
 @pixi/loaders - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/loaders is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/compressed-textures - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/compressed-textures is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/particles - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/particles is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/graphics - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/graphics is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/sprite is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/text - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/text is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/prepare - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/prepare is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/spritesheet - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/spritesheet is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite-tiling - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/sprite-tiling is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mesh - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/mesh is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/text-bitmap - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/text-bitmap is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-alpha - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-alpha is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-blur - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-blur is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-color-matrix - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-color-matrix is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-displacement - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-displacement is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-fxaa - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-fxaa is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-noise - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/filter-noise is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-cache-as-bitmap - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-get-child-by-name - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/mixin-get-child-by-name is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-get-global-position - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/mixin-get-global-position is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mesh-extras - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/mesh-extras is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite-animated - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 @pixi/sprite-animated is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 pixi.js - v6.0.1
 Compiled Wed, 24 Mar 2021 20:02:24 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.3.2 by @mathias */
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(H){var P=0;return function(){return P<H.length?{done:!1,value:H[P++]}:{done:!0}}};$jscomp.arrayIterator=function(H){return{next:$jscomp.arrayIteratorImpl(H)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(H,P,O){if(H==Array.prototype||H==Object.prototype)return H;H[P]=O.value;return H};$jscomp.getGlobal=function(H){H=["object"==typeof globalThis&&globalThis,H,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var P=0;P<H.length;++P){var O=H[P];if(O&&O.Math==Math)return O}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(H,P){var O=$jscomp.propertyToPolyfillSymbol[P];if(null==O)return H[P];O=H[O];return void 0!==O?O:H[P]};
$jscomp.polyfill=function(H,P,O,t){P&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(H,P,O,t):$jscomp.polyfillUnisolated(H,P,O,t))};$jscomp.polyfillUnisolated=function(H,P,O,t){O=$jscomp.global;H=H.split(".");for(t=0;t<H.length-1;t++){var u=H[t];if(!(u in O))return;O=O[u]}H=H[H.length-1];t=O[H];P=P(t);P!=t&&null!=P&&$jscomp.defineProperty(O,H,{configurable:!0,writable:!0,value:P})};
$jscomp.polyfillIsolated=function(H,P,O,t){var u=H.split(".");H=1===u.length;t=u[0];t=!H&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var B=0;B<u.length-1;B++){var v=u[B];if(!(v in t))return;t=t[v]}u=u[u.length-1];O=$jscomp.IS_SYMBOL_NATIVE&&"es6"===O?t[u]:null;P=P(O);null!=P&&(H?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:P}):P!==O&&(void 0===$jscomp.propertyToPolyfillSymbol[u]&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):
$jscomp.POLYFILL_PREFIX+u),$jscomp.defineProperty(t,$jscomp.propertyToPolyfillSymbol[u],{configurable:!0,writable:!0,value:P})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(H){if(H)return H;var P=function(u,B){this.$jscomp$symbol$id_=u;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:B})};P.prototype.toString=function(){return this.$jscomp$symbol$id_};var O=0,t=function(u){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new P("jscomp_symbol_"+(u||"")+"_"+O++,u)};return t},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(H){if(H)return H;H=Symbol("Symbol.iterator");for(var P="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),O=0;O<P.length;O++){var t=$jscomp.global[P[O]];"function"===typeof t&&"function"!=typeof t.prototype[H]&&$jscomp.defineProperty(t.prototype,H,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return H},"es6",
"es3");$jscomp.iteratorPrototype=function(H){H={next:H};H[Symbol.iterator]=function(){return this};return H};$jscomp.makeIterator=function(H){var P="undefined"!=typeof Symbol&&Symbol.iterator&&H[Symbol.iterator];return P?P.call(H):$jscomp.arrayIterator(H)};$jscomp.arrayFromIterator=function(H){for(var P,O=[];!(P=H.next()).done;)O.push(P.value);return O};$jscomp.arrayFromIterable=function(H){return H instanceof Array?H:$jscomp.arrayFromIterator($jscomp.makeIterator(H))};
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(H){var P=function(){};P.prototype=H;return new P};
$jscomp.getConstructImplementation=function(){function H(){function O(){}new O;Reflect.construct(O,[],function(){});return new O instanceof O}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(H())return Reflect.construct;var P=Reflect.construct;return function(O,t,u){O=P(O,t);u&&Reflect.setPrototypeOf(O,u.prototype);return O}}return function(O,t,u){void 0===u&&(u=O);u=$jscomp.objectCreate(u.prototype||Object.prototype);return Function.prototype.apply.call(O,u,t)||
u}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var H={a:!0},P={};try{return P.__proto__=H,P.a}catch(O){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(H,P){H.__proto__=P;if(H.__proto__!==P)throw new TypeError(H+" is not extensible");return H}:null;
$jscomp.inherits=function(H,P){H.prototype=$jscomp.objectCreate(P.prototype);H.prototype.constructor=H;if($jscomp.setPrototypeOf){var O=$jscomp.setPrototypeOf;O(H,P)}else for(O in P)if("prototype"!=O)if(Object.defineProperties){var t=Object.getOwnPropertyDescriptor(P,O);t&&Object.defineProperty(H,O,t)}else H[O]=P[O];H.superClass_=P.prototype};$jscomp.polyfill("Reflect",function(H){return H?H:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(H){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(H){if(H)return H;if($jscomp.setPrototypeOf){var P=$jscomp.setPrototypeOf;return function(O,t){try{return P(O,t),!0}catch(u){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Array.from",function(H){return H?H:function(P,O,t){O=null!=O?O:function(K){return K};var u=[],B="undefined"!=typeof Symbol&&Symbol.iterator&&P[Symbol.iterator];if("function"==typeof B){P=B.call(P);for(var v=0;!(B=P.next()).done;)u.push(O.call(t,B.value,v++))}else for(B=P.length,v=0;v<B;v++)u.push(O.call(t,P[v],v));return u}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(H){return H?H:function(){return[]}},"es6","es5");
$jscomp.iteratorFromArray=function(H,P){H instanceof String&&(H+="");var O=0,t=!1,u={next:function(){if(!t&&O<H.length){var B=O++;return{value:P(B,H[B]),done:!1}}t=!0;return{done:!0,value:void 0}}};u[Symbol.iterator]=function(){return u};return u};$jscomp.polyfill("Array.prototype.keys",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(P){return P})}},"es6","es3");$jscomp.owns=function(H,P){return Object.prototype.hasOwnProperty.call(H,P)};
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(H,P){for(var O=1;O<arguments.length;O++){var t=arguments[O];if(t)for(var u in t)$jscomp.owns(t,u)&&(H[u]=t[u])}return H};$jscomp.polyfill("Object.assign",function(H){return H||$jscomp.assign},"es6","es3");$jscomp.polyfill("Math.sign",function(H){return H?H:function(P){P=Number(P);return 0===P||isNaN(P)?P:0<P?1:-1}},"es6","es3");
$jscomp.polyfill("Object.setPrototypeOf",function(H){return H||$jscomp.setPrototypeOf},"es6","es5");$jscomp.polyfill("Number.isFinite",function(H){return H?H:function(P){return"number"!==typeof P?!1:!isNaN(P)&&Infinity!==P&&-Infinity!==P}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(H){return H?H:function(P){return Number.isFinite(P)?P===Math.floor(P):!1}},"es6","es3");
$jscomp.polyfill("Promise",function(H){function P(){this.batch_=null}function O(v){return v instanceof u?v:new u(function(K,A){K(v)})}if(H&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return H;P.prototype.asyncExecute=function(v){if(null==this.batch_){this.batch_=[];var K=this;this.asyncExecuteFunction(function(){K.executeBatch_()})}this.batch_.push(v)};
var t=$jscomp.global.setTimeout;P.prototype.asyncExecuteFunction=function(v){t(v,0)};P.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var v=this.batch_;this.batch_=[];for(var K=0;K<v.length;++K){var A=v[K];v[K]=null;try{A()}catch(G){this.asyncThrow_(G)}}}this.batch_=null};P.prototype.asyncThrow_=function(v){this.asyncExecuteFunction(function(){throw v;})};var u=function(v){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var K=this.createResolveAndReject_();
try{v(K.resolve,K.reject)}catch(A){K.reject(A)}};u.prototype.createResolveAndReject_=function(){function v(G){return function(x){A||(A=!0,G.call(K,x))}}var K=this,A=!1;return{resolve:v(this.resolveTo_),reject:v(this.reject_)}};u.prototype.resolveTo_=function(v){if(v===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof u)this.settleSameAsPromise_(v);else{a:switch(typeof v){case "object":var K=null!=v;break a;case "function":K=!0;break a;default:K=!1}K?this.resolveToNonPromiseObj_(v):
this.fulfill_(v)}};u.prototype.resolveToNonPromiseObj_=function(v){var K=void 0;try{K=v.then}catch(A){this.reject_(A);return}"function"==typeof K?this.settleSameAsThenable_(K,v):this.fulfill_(v)};u.prototype.reject_=function(v){this.settle_(2,v)};u.prototype.fulfill_=function(v){this.settle_(1,v)};u.prototype.settle_=function(v,K){if(0!=this.state_)throw Error("Cannot settle("+v+", "+K+"): Promise already settled in state"+this.state_);this.state_=v;this.result_=K;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};u.prototype.scheduleUnhandledRejectionCheck_=function(){var v=this;t(function(){if(v.notifyUnhandledRejection_()){var K=$jscomp.global.console;"undefined"!==typeof K&&K.error(v.result_)}},1)};u.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var v=$jscomp.global.CustomEvent,K=$jscomp.global.Event,A=$jscomp.global.dispatchEvent;if("undefined"===typeof A)return!0;"function"===typeof v?v=new v("unhandledrejection",{cancelable:!0}):
"function"===typeof K?v=new K("unhandledrejection",{cancelable:!0}):(v=$jscomp.global.document.createEvent("CustomEvent"),v.initCustomEvent("unhandledrejection",!1,!0,v));v.promise=this;v.reason=this.result_;return A(v)};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var v=0;v<this.onSettledCallbacks_.length;++v)B.asyncExecute(this.onSettledCallbacks_[v]);this.onSettledCallbacks_=null}};var B=new P;u.prototype.settleSameAsPromise_=function(v){var K=this.createResolveAndReject_();
v.callWhenSettled_(K.resolve,K.reject)};u.prototype.settleSameAsThenable_=function(v,K){var A=this.createResolveAndReject_();try{v.call(K,A.resolve,A.reject)}catch(G){A.reject(G)}};u.prototype.then=function(v,K){function A(I,C){return"function"==typeof I?function(J){try{G(I(J))}catch(M){x(M)}}:C}var G,x,w=new u(function(I,C){G=I;x=C});this.callWhenSettled_(A(v,G),A(K,x));return w};u.prototype.catch=function(v){return this.then(void 0,v)};u.prototype.callWhenSettled_=function(v,K){function A(){switch(G.state_){case 1:v(G.result_);
break;case 2:K(G.result_);break;default:throw Error("Unexpected state: "+G.state_);}}var G=this;null==this.onSettledCallbacks_?B.asyncExecute(A):this.onSettledCallbacks_.push(A);this.isRejectionHandled_=!0};u.resolve=O;u.reject=function(v){return new u(function(K,A){A(v)})};u.race=function(v){return new u(function(K,A){for(var G=$jscomp.makeIterator(v),x=G.next();!x.done;x=G.next())O(x.value).callWhenSettled_(K,A)})};u.all=function(v){var K=$jscomp.makeIterator(v),A=K.next();return A.done?O([]):new u(function(G,
x){function w(J){return function(M){I[J]=M;C--;0==C&&G(I)}}var I=[],C=0;do I.push(void 0),C++,O(A.value).callWhenSettled_(w(I.length-1),x),A=K.next();while(!A.done)})};return u},"es6","es3");$jscomp.polyfill("String.prototype.trimRight",function(H){function P(){return this.replace(/[\s\xa0]+$/,"")}return H||P},"es_2019","es3");
$jscomp.polyfill("Array.prototype.fill",function(H){return H?H:function(P,O,t){var u=this.length||0;0>O&&(O=Math.max(0,u+O));if(null==t||t>u)t=u;t=Number(t);0>t&&(t=Math.max(0,u+t));for(O=Number(O||0);O<t;O++)this[O]=P;return this}},"es6","es3");$jscomp.typedArrayFill=function(H){return H?H:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Object.values",function(H){return H?H:function(P){var O=[],t;for(t in P)$jscomp.owns(P,t)&&O.push(P[t]);return O}},"es8","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var H={},P=Object.create(new $jscomp.global.Proxy(H,{get:function(O,t,u){return O==H&&"q"==t&&u==P}}));return!0===P.q}catch(O){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(H){function P(){if(!H||!Object.seal)return!1;try{var G=Object.seal({}),x=Object.seal({}),w=new H([[G,2],[x,3]]);if(2!=w.get(G)||3!=w.get(x))return!1;w.delete(G);w.set(x,4);return!w.has(G)&&4==w.get(x)}catch(I){return!1}}function O(){}function t(G){var x=typeof G;return"object"===x&&null!==G||"function"===x}function u(G){if(!$jscomp.owns(G,v)){var x=new O;$jscomp.defineProperty(G,v,{value:x})}}function B(G){if(!$jscomp.ISOLATE_POLYFILLS){var x=Object[G];x&&(Object[G]=
function(w){if(w instanceof O)return w;Object.isExtensible(w)&&u(w);return x(w)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(P())return H;var v="$jscomp_hidden_"+Math.random();B("freeze");B("preventExtensions");B("seal");var K=0,A=function(G){this.id_=(K+=Math.random()+1).toString();if(G){G=$jscomp.makeIterator(G);for(var x;!(x=G.next()).done;)x=x.value,this.set(x[0],x[1])}};A.prototype.set=function(G,x){if(!t(G))throw Error("Invalid WeakMap key");
u(G);if(!$jscomp.owns(G,v))throw Error("WeakMap key fail: "+G);G[v][this.id_]=x;return this};A.prototype.get=function(G){return t(G)&&$jscomp.owns(G,v)?G[v][this.id_]:void 0};A.prototype.has=function(G){return t(G)&&$jscomp.owns(G,v)&&$jscomp.owns(G[v],this.id_)};A.prototype.delete=function(G){return t(G)&&$jscomp.owns(G,v)&&$jscomp.owns(G[v],this.id_)?delete G[v][this.id_]:!1};return A},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(H){function P(){if($jscomp.ASSUME_NO_NATIVE_MAP||!H||"function"!=typeof H||!H.prototype.entries||"function"!=typeof Object.seal)return!1;try{var A=Object.seal({x:4}),G=new H($jscomp.makeIterator([[A,"s"]]));if("s"!=G.get(A)||1!=G.size||G.get({x:4})||G.set({x:4},"t")!=G||2!=G.size)return!1;var x=G.entries(),w=x.next();if(w.done||w.value[0]!=A||"s"!=w.value[1])return!1;w=x.next();return w.done||4!=w.value[0].x||"t"!=w.value[1]||!x.next().done?!1:!0}catch(I){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(P())return H;var O=new WeakMap,t=function(A){this.data_={};this.head_=v();this.size=0;if(A){A=$jscomp.makeIterator(A);for(var G;!(G=A.next()).done;)G=G.value,this.set(G[0],G[1])}};t.prototype.set=function(A,G){A=0===A?0:A;var x=u(this,A);x.list||(x.list=this.data_[x.id]=[]);x.entry?x.entry.value=G:(x.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:A,value:G},x.list.push(x.entry),
this.head_.previous.next=x.entry,this.head_.previous=x.entry,this.size++);return this};t.prototype.delete=function(A){A=u(this,A);return A.entry&&A.list?(A.list.splice(A.index,1),A.list.length||delete this.data_[A.id],A.entry.previous.next=A.entry.next,A.entry.next.previous=A.entry.previous,A.entry.head=null,this.size--,!0):!1};t.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=v();this.size=0};t.prototype.has=function(A){return!!u(this,A).entry};t.prototype.get=function(A){return(A=
u(this,A).entry)&&A.value};t.prototype.entries=function(){return B(this,function(A){return[A.key,A.value]})};t.prototype.keys=function(){return B(this,function(A){return A.key})};t.prototype.values=function(){return B(this,function(A){return A.value})};t.prototype.forEach=function(A,G){for(var x=this.entries(),w;!(w=x.next()).done;)w=w.value,A.call(G,w[1],w[0],this)};t.prototype[Symbol.iterator]=t.prototype.entries;var u=function(A,G){var x=G&&typeof G;"object"==x||"function"==x?O.has(G)?x=O.get(G):
(x=""+ ++K,O.set(G,x)):x="p_"+G;var w=A.data_[x];if(w&&$jscomp.owns(A.data_,x))for(A=0;A<w.length;A++){var I=w[A];if(G!==G&&I.key!==I.key||G===I.key)return{id:x,list:w,index:A,entry:I}}return{id:x,list:w,index:-1,entry:void 0}},B=function(A,G){var x=A.head_;return $jscomp.iteratorPrototype(function(){if(x){for(;x.head!=A.head_;)x=x.previous;for(;x.next!=x.head;)return x=x.next,{done:!1,value:G(x)};x=null}return{done:!0,value:void 0}})},v=function(){var A={};return A.previous=A.next=A.head=A},K=0;
return t},"es6","es3");
$jscomp.polyfill("Set",function(H){function P(){if($jscomp.ASSUME_NO_NATIVE_SET||!H||"function"!=typeof H||!H.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),u=new H($jscomp.makeIterator([t]));if(!u.has(t)||1!=u.size||u.add(t)!=u||1!=u.size||u.add({x:4})!=u||2!=u.size)return!1;var B=u.entries(),v=B.next();if(v.done||v.value[0]!=t||v.value[1]!=t)return!1;v=B.next();return v.done||v.value[0]==t||4!=v.value[0].x||v.value[1]!=v.value[0]?!1:B.next().done}catch(K){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(P())return H;var O=function(t){this.map_=new Map;if(t){t=$jscomp.makeIterator(t);for(var u;!(u=t.next()).done;)this.add(u.value)}this.size=this.map_.size};O.prototype.add=function(t){t=0===t?0:t;this.map_.set(t,t);this.size=this.map_.size;return this};O.prototype.delete=function(t){t=this.map_.delete(t);this.size=this.map_.size;return t};O.prototype.clear=function(){this.map_.clear();this.size=0};O.prototype.has=
function(t){return this.map_.has(t)};O.prototype.entries=function(){return this.map_.entries()};O.prototype.values=function(){return this.map_.values()};O.prototype.keys=O.prototype.values;O.prototype[Symbol.iterator]=O.prototype.values;O.prototype.forEach=function(t,u){var B=this;this.map_.forEach(function(v){return t.call(u,v,v,B)})};return O},"es6","es3");$jscomp.polyfill("Object.is",function(H){return H?H:function(P,O){return P===O?0!==P||1/P===1/O:P!==P&&O!==O}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(H){return H?H:function(P,O){var t=this;t instanceof String&&(t=String(t));var u=t.length;O=O||0;for(0>O&&(O=Math.max(O+u,0));O<u;O++){var B=t[O];if(B===P||Object.is(B,P))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(H,P,O){if(null==H)throw new TypeError("The 'this' value for String.prototype."+O+" must not be null or undefined");if(P instanceof RegExp)throw new TypeError("First argument to String.prototype."+O+" must not be a regular expression");return H+""};$jscomp.polyfill("String.prototype.includes",function(H){return H?H:function(P,O){return-1!==$jscomp.checkStringArgs(this,P,"includes").indexOf(P,O||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(P,O){return O})}},"es8","es3");
(function(){function H(t){var u=O[t];if(void 0!==u)return u.exports;u=O[t]={id:t,loaded:!1,exports:{}};P[t].call(u.exports,u,u.exports,H);u.loaded=!0;return u.exports}var P={520:function(t){function u(){}function B(w,I,C){this.fn=w;this.context=I;this.once=C||!1}function v(w,I,C,J,M){if("function"!==typeof C)throw new TypeError("The listener must be a function");C=new B(C,J||w,M);I=x?x+I:I;w._events[I]?w._events[I].fn?w._events[I]=[w._events[I],C]:w._events[I].push(C):(w._events[I]=C,w._eventsCount++);
return w}function K(w,I){0===--w._eventsCount?w._events=new u:delete w._events[I]}function A(){this._events=new u;this._eventsCount=0}var G=Object.prototype.hasOwnProperty,x="~";Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(x=!1));A.prototype.eventNames=function(){var w=[],I,C;if(0===this._eventsCount)return w;for(C in I=this._events)G.call(I,C)&&w.push(x?C.slice(1):C);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(I)):w};A.prototype.listeners=function(w){w=
this._events[x?x+w:w];if(!w)return[];if(w.fn)return[w.fn];for(var I=0,C=w.length,J=Array(C);I<C;I++)J[I]=w[I].fn;return J};A.prototype.listenerCount=function(w){return(w=this._events[x?x+w:w])?w.fn?1:w.length:0};A.prototype.emit=function(w,I,C,J,M,aa){var W=x?x+w:w;if(!this._events[W])return!1;W=this._events[W];var V=arguments.length,ca;if(W.fn){W.once&&this.removeListener(w,W.fn,void 0,!0);switch(V){case 1:return W.fn.call(W.context),!0;case 2:return W.fn.call(W.context,I),!0;case 3:return W.fn.call(W.context,
I,C),!0;case 4:return W.fn.call(W.context,I,C,J),!0;case 5:return W.fn.call(W.context,I,C,J,M),!0;case 6:return W.fn.call(W.context,I,C,J,M,aa),!0}var X=1;for(ca=Array(V-1);X<V;X++)ca[X-1]=arguments[X];W.fn.apply(W.context,ca)}else{var ea=W.length;for(X=0;X<ea;X++)switch(W[X].once&&this.removeListener(w,W[X].fn,void 0,!0),V){case 1:W[X].fn.call(W[X].context);break;case 2:W[X].fn.call(W[X].context,I);break;case 3:W[X].fn.call(W[X].context,I,C);break;case 4:W[X].fn.call(W[X].context,I,C,J);break;default:if(!ca){var z=
1;for(ca=Array(V-1);z<V;z++)ca[z-1]=arguments[z]}W[X].fn.apply(W[X].context,ca)}}return!0};A.prototype.on=function(w,I,C){return v(this,w,I,C,!1)};A.prototype.once=function(w,I,C){return v(this,w,I,C,!0)};A.prototype.removeListener=function(w,I,C,J){w=x?x+w:w;if(!this._events[w])return this;if(!I)return K(this,w),this;var M=this._events[w];if(M.fn)M.fn!==I||J&&!M.once||C&&M.context!==C||K(this,w);else{for(var aa=0,W=[],V=M.length;aa<V;aa++)(M[aa].fn!==I||J&&!M[aa].once||C&&M[aa].context!==C)&&W.push(M[aa]);
W.length?this._events[w]=1===W.length?W[0]:W:K(this,w)}return this};A.prototype.removeAllListeners=function(w){w?(w=x?x+w:w,this._events[w]&&K(this,w)):(this._events=new u,this._eventsCount=0);return this};A.prototype.off=A.prototype.removeListener;A.prototype.addListener=A.prototype.on;A.prefixed=x;A.EventEmitter=A;t.exports=A},660:function(t,u,B){B.d(u,{Z:function(){return K}});u=B(994);u=B.n(u);var v=B(476);B=B.n(v)()(u());B.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;200;300;400;500&display=swap);"]);
B.push([t.id,'#background-canvas{position:absolute;top:0;left:0;z-index:-1}.btn{font-size:20px;font-weight:300;outline:none;background:transparent;color:#fff;border:1px solid #fff;padding:.5rem 3rem;letter-spacing:.1em;transition:transform 150ms ease-in-out,background-color 100ms ease-in-out}.btn:before{content:"";width:100%;height:100%;border:1px solid #fff;border-top:none;border-left:none;position:absolute;top:4px;left:4px;transition:transform 200ms ease-in-out}.btn:hover{background:rgba(255,255,255,.1);transform:translate(4px, 4px)}.btn:hover::before{transform:translate(-4px, -4px)}.btn#start-btn{margin:auto;position:absolute;left:0;right:0;top:0;bottom:0;height:45px;transition:transform 150ms ease-in-out,background-color 100ms ease-in-out,opacity 500ms ease-in-out}*{font-family:Roboto Mono,sans-serif}body{color:rgba(255,255,255,.8);background:#333;margin:0;padding:0;overflow:hidden}',
"",{version:3,sources:["webpack://./../components/canvas/canvas.sass","webpack://./../components/buttons/buttons.sass","webpack://./../mixins.sass","webpack://./../page.sass"],names:[],mappings:"AAAA,mBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CCFF,KAGE,cAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,UAAA,CACA,qBAAA,CACA,kBAAA,CACA,mBAAA,CAEA,yEAXiB,CAajB,YACE,UAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,sCAAA,CAGF,WACE,+BAAA,CACA,6BAAA,CAEA,mBACE,+BAAA,CAEJ,eCnCA,WAAA,CACA,iBAAA,CACA,MAAA,CACA,OAAA,CACA,KAAA,CACA,QAAA,CACA,WD8BmB,CAEjB,mGAAA,CEvCJ,EACE,kCAAA,CAEF,KACE,0BAAA,CACA,eAAA,CACA,QAAA,CACA,SAAA,CACA,eAAA",
sourcesContent:["#background-canvas\r\n  position: absolute\r\n  top: 0\r\n  left: 0\r\n  z-index: -1\r\n","@import \"../../mixins\"\r\n\r\n.btn\r\n  $btn-transition: transform 150ms ease-in-out, background-color 100ms ease-in-out\r\n\r\n  font-size: 20px\r\n  font-weight: 300\r\n  outline: none\r\n  background: transparent\r\n  color: white\r\n  border: 1px solid white\r\n  padding: 0.5rem 3rem\r\n  letter-spacing: 0.1em\r\n\r\n  transition: $btn-transition\r\n\r\n  &:before\r\n    content: ''\r\n    width: 100%\r\n    height: 100%\r\n    border: 1px solid white\r\n    border-top: none\r\n    border-left: none\r\n    position: absolute\r\n    top: 4px\r\n    left: 4px\r\n    transition: transform 200ms ease-in-out\r\n\r\n\r\n  &:hover\r\n    background: rgba(255, 255, 255, 0.1)\r\n    transform: translate(4px, 4px)\r\n\r\n    &::before\r\n      transform: translate(-4px, -4px)\r\n\r\n  &#start-btn\r\n    +absolute-center(45px)\r\n\r\n    transition: $btn-transition, opacity 500ms ease-in-out\r\n",
"=absolute-center($width: fit-content)\r\n  margin: auto\r\n  position: absolute\r\n  left: 0\r\n  right: 0\r\n  top: 0\r\n  bottom: 0\r\n  height: $width\r\n","*\r\n  font-family: Roboto Mono, sans-serif\r\n\r\nbody\r\n  color: transparentize(white, 0.2)\r\n  background: #333\r\n  margin: 0\r\n  padding: 0\r\n  overflow: hidden\r\n"],sourceRoot:""}]);var K=B},476:function(t){t.exports=function(u){var B=[];B.toString=function(){return this.map(function(v){var K=u(v);return v[2]?"@media ".concat(v[2],
" {").concat(K,"}"):K}).join("")};B.i=function(v,K,A){"string"===typeof v&&(v=[[null,v,""]]);var G={};if(A)for(var x=0;x<this.length;x++){var w=this[x][0];null!=w&&(G[w]=!0)}for(x=0;x<v.length;x++)w=[].concat(v[x]),A&&G[w[0]]||(K&&(w[2]=w[2]?"".concat(K," and ").concat(w[2]):K),B.push(w))};return B}},994:function(t){function u(v,K){var A=Array.isArray(v)?v:void 0;if(!A)if("undefined"!==typeof Symbol&&Symbol.iterator in Object(v)){A=[];var G=!0,x=!1,w=void 0;try{for(var I=v[Symbol.iterator](),C;!(G=
(C=I.next()).done)&&(A.push(C.value),!K||A.length!==K);G=!0);}catch(J){x=!0,w=J}finally{try{if(!G&&null!=I["return"])I["return"]()}finally{if(x)throw w;}}}else A=void 0;if(!(I=A))a:{if(v){if("string"===typeof v){I=B(v,K);break a}I=Object.prototype.toString.call(v).slice(8,-1);"Object"===I&&v.constructor&&(I=v.constructor.name);if("Map"===I||"Set"===I){I=Array.from(v);break a}if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)){I=B(v,K);break a}}I=void 0}if(!(v=I))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return v}function B(v,K){if(null==K||K>v.length)K=v.length;for(var A=0,G=Array(K);A<K;A++)G[A]=v[A];return G}t.exports=function(v){var K=u(v,4);v=K[1];var A=K[3];if("function"===typeof btoa){K=btoa(unescape(encodeURIComponent(JSON.stringify(A))));K="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(K);K="/*# ".concat(K," */");var G=A.sources.map(function(x){return"/*# sourceURL=".concat(A.sourceRoot||"").concat(x," */")});return[v].concat(G).concat([K]).join("\n")}return[v].join("\n")}},
106:function(t){function u(p,r,F){F=F||2;var L=r&&r.length,Q=L?r[0]*F:p.length,R=B(p,0,Q,F,!0),ba=[];if(!R||R.next===R.prev)return ba;var Y;if(L){var S=F;L=[];var qa;var ma=0;for(qa=r.length;ma<qa;ma++){var ta=r[ma]*S;var Ba=ma<qa-1?r[ma+1]*S:p.length;ta=B(p,ta,Ba,S,!1);ta===ta.next&&(ta.steiner=!0);Ba=L;var Ka=Ba.push,da=ta,oa=ta;do{if(da.x<oa.x||da.x===oa.x&&da.y<oa.y)oa=da;da=da.next}while(da!==ta);Ka.call(Ba,oa)}L.sort(G);for(ma=0;ma<L.length;ma++){S=L[ma];r=R;if(r=x(S,r))S=ca(r,S),v(r,r.next),
v(S,S.next);R=v(R,R.next)}}if(p.length>80*F){var Lb=Y=p[0];var vb=L=p[1];for(S=F;S<Q;S+=F)ma=p[S],r=p[S+1],ma<Lb&&(Lb=ma),r<vb&&(vb=r),ma>Y&&(Y=ma),r>L&&(L=r);Y=Math.max(Y-Lb,L-vb);Y=0!==Y?1/Y:0}K(R,ba,F,Lb,vb,Y);return ba}function B(p,r,F,L,Q){if(Q===0<D(p,r,F,L))for(Q=r;Q<F;Q+=L)var R=X(Q,p[Q],p[Q+1],R);else for(Q=F-L;Q>=r;Q-=L)R=X(Q,p[Q],p[Q+1],R);R&&J(R,R.next)&&(ea(R),R=R.next);return R}function v(p,r){if(!p)return p;r||(r=p);do{var F=!1;if(p.steiner||!J(p,p.next)&&0!==C(p.prev,p,p.next))p=p.next;
else{ea(p);p=r=p.prev;if(p===p.next)break;F=!0}}while(F||p!==r);return r}function K(p,r,F,L,Q,R,ba){if(p){if(!ba&&R){var Y=p,S=Y;do null===S.z&&(S.z=w(S.x,S.y,L,Q,R)),S.prevZ=S.prev,S=S.nextZ=S.next;while(S!==Y);S.prevZ.nextZ=null;S.prevZ=null;Y=S;var qa,ma,ta,Ba,Ka=1;do{S=Y;var da=Y=null;for(ma=0;S;){ma++;var oa=S;for(qa=ta=0;qa<Ka&&(ta++,oa=oa.nextZ,oa);qa++);for(Ba=Ka;0<ta||0<Ba&&oa;)0!==ta&&(0===Ba||!oa||S.z<=oa.z)?(qa=S,S=S.nextZ,ta--):(qa=oa,oa=oa.nextZ,Ba--),da?da.nextZ=qa:Y=qa,qa.prevZ=da,
da=qa;S=oa}da.nextZ=null;Ka*=2}while(1<ma)}for(Y=p;p.prev!==p.next;){S=p.prev;oa=p.next;if(R)da=A(p,L,Q,R);else a:if(da=p,ma=da.prev,ta=da,Ka=da.next,0<=C(ma,ta,Ka))da=!1;else{for(qa=da.next.next;qa!==da.prev;){if(I(ma.x,ma.y,ta.x,ta.y,Ka.x,Ka.y,qa.x,qa.y)&&0<=C(qa.prev,qa,qa.next)){da=!1;break a}qa=qa.next}da=!0}if(da)r.push(S.i/F),r.push(p.i/F),r.push(oa.i/F),ea(p),Y=p=oa.next;else if(p=oa,p===Y){if(!ba)K(v(p),r,F,L,Q,R,1);else if(1===ba){p=v(p);ba=r;Y=F;S=p;do oa=S.prev,da=S.next.next,!J(oa,da)&&
M(oa,S,S.next,da)&&V(oa,da)&&V(da,oa)&&(ba.push(oa.i/Y),ba.push(S.i/Y),ba.push(da.i/Y),ea(S),ea(S.next),S=p=da),S=S.next;while(S!==p);p=v(S);K(p,r,F,L,Q,R,2)}else if(2===ba)a:{ba=p;do{for(Y=ba.next.next;Y!==ba.prev;){if(S=ba.i!==Y.i){S=ba;oa=Y;if(da=S.next.i!==oa.i&&S.prev.i!==oa.i){b:{da=S;do{if(da.i!==S.i&&da.next.i!==S.i&&da.i!==oa.i&&da.next.i!==oa.i&&M(da,da.next,S,oa)){da=!0;break b}da=da.next}while(da!==S);da=!1}da=!da}if(da){if(da=V(S,oa)&&V(oa,S)){da=S;ma=!1;ta=(S.x+oa.x)/2;Ka=(S.y+oa.y)/
2;do da.y>Ka!==da.next.y>Ka&&da.next.y!==da.y&&ta<(da.next.x-da.x)*(Ka-da.y)/(da.next.y-da.y)+da.x&&(ma=!ma),da=da.next;while(da!==S);da=ma}da=da&&(C(S.prev,S,oa.prev)||C(S,oa.prev,oa))||J(S,oa)&&0<C(S.prev,S,S.next)&&0<C(oa.prev,oa,oa.next)}S=da}if(S){p=ca(ba,Y);ba=v(ba,ba.next);p=v(p,p.next);K(ba,r,F,L,Q,R);K(p,r,F,L,Q,R);break a}Y=Y.next}ba=ba.next}while(ba!==p)}break}}}}function A(p,r,F,L){var Q=p.prev,R=p.next;if(0<=C(Q,p,R))return!1;var ba=Q.x>p.x?Q.x>R.x?Q.x:R.x:p.x>R.x?p.x:R.x,Y=Q.y>p.y?Q.y>
R.y?Q.y:R.y:p.y>R.y?p.y:R.y,S=w(Q.x<p.x?Q.x<R.x?Q.x:R.x:p.x<R.x?p.x:R.x,Q.y<p.y?Q.y<R.y?Q.y:R.y:p.y<R.y?p.y:R.y,r,F,L);r=w(ba,Y,r,F,L);F=p.prevZ;for(L=p.nextZ;F&&F.z>=S&&L&&L.z<=r;){if(F!==p.prev&&F!==p.next&&I(Q.x,Q.y,p.x,p.y,R.x,R.y,F.x,F.y)&&0<=C(F.prev,F,F.next))return!1;F=F.prevZ;if(L!==p.prev&&L!==p.next&&I(Q.x,Q.y,p.x,p.y,R.x,R.y,L.x,L.y)&&0<=C(L.prev,L,L.next))return!1;L=L.nextZ}for(;F&&F.z>=S;){if(F!==p.prev&&F!==p.next&&I(Q.x,Q.y,p.x,p.y,R.x,R.y,F.x,F.y)&&0<=C(F.prev,F,F.next))return!1;
F=F.prevZ}for(;L&&L.z<=r;){if(L!==p.prev&&L!==p.next&&I(Q.x,Q.y,p.x,p.y,R.x,R.y,L.x,L.y)&&0<=C(L.prev,L,L.next))return!1;L=L.nextZ}return!0}function G(p,r){return p.x-r.x}function x(p,r){var F=r,L=p.x,Q=p.y,R=-Infinity;do{if(Q<=F.y&&Q>=F.next.y&&F.next.y!==F.y){var ba=F.x+(Q-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(ba<=L&&ba>R){R=ba;if(ba===L){if(Q===F.y)return F;if(Q===F.next.y)return F.next}var Y=F.x<F.next.x?F:F.next}}F=F.next}while(F!==r);if(!Y)return null;if(L===R)return Y;r=Y;ba=Y.x;var S=Y.y,
qa=Infinity;F=Y;do{if(L>=F.x&&F.x>=ba&&L!==F.x&&I(Q<S?L:R,Q,ba,S,Q<S?R:L,Q,F.x,F.y)){var ma=Math.abs(Q-F.y)/(L-F.x);var ta;if((ta=V(F,p))&&!(ta=ma<qa)&&(ta=ma===qa)&&!(ta=F.x>Y.x)&&(ta=F.x===Y.x)){ta=Y;var Ba=F;ta=0>C(ta.prev,ta,Ba.prev)&&0>C(Ba.next,ta,ta.next)}ta&&(Y=F,qa=ma)}F=F.next}while(F!==r);return Y}function w(p,r,F,L,Q){p=32767*(p-F)*Q;r=32767*(r-L)*Q;p=(p|p<<8)&16711935;p=(p|p<<4)&252645135;p=(p|p<<2)&858993459;r=(r|r<<8)&16711935;r=(r|r<<4)&252645135;r=(r|r<<2)&858993459;return(p|p<<1)&
1431655765|((r|r<<1)&1431655765)<<1}function I(p,r,F,L,Q,R,ba,Y){return 0<=(Q-ba)*(r-Y)-(p-ba)*(R-Y)&&0<=(p-ba)*(L-Y)-(F-ba)*(r-Y)&&0<=(F-ba)*(R-Y)-(Q-ba)*(L-Y)}function C(p,r,F){return(r.y-p.y)*(F.x-r.x)-(r.x-p.x)*(F.y-r.y)}function J(p,r){return p.x===r.x&&p.y===r.y}function M(p,r,F,L){var Q=W(C(p,r,F)),R=W(C(p,r,L)),ba=W(C(F,L,p)),Y=W(C(F,L,r));return Q!==R&&ba!==Y||0===Q&&aa(p,F,r)||0===R&&aa(p,L,r)||0===ba&&aa(F,p,L)||0===Y&&aa(F,r,L)?!0:!1}function aa(p,r,F){return r.x<=Math.max(p.x,F.x)&&r.x>=
Math.min(p.x,F.x)&&r.y<=Math.max(p.y,F.y)&&r.y>=Math.min(p.y,F.y)}function W(p){return 0<p?1:0>p?-1:0}function V(p,r){return 0>C(p.prev,p,p.next)?0<=C(p,r,p.next)&&0<=C(p,p.prev,r):0>C(p,r,p.prev)||0>C(p,p.next,r)}function ca(p,r){var F=new z(p.i,p.x,p.y),L=new z(r.i,r.x,r.y),Q=p.next,R=r.prev;p.next=r;r.prev=p;F.next=Q;Q.prev=F;L.next=F;F.prev=L;R.next=L;L.prev=R;return L}function X(p,r,F,L){p=new z(p,r,F);L?(p.next=L.next,p.prev=L,L.next.prev=p,L.next=p):(p.prev=p,p.next=p);return p}function ea(p){p.next.prev=
p.prev;p.prev.next=p.next;p.prevZ&&(p.prevZ.nextZ=p.nextZ);p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function z(p,r,F){this.i=p;this.x=r;this.y=F;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function D(p,r,F,L){for(var Q=0,R=F-L;r<F;r+=L)Q+=(p[R]-p[r])*(p[r+1]+p[R+1]),R=r;return Q}t.exports=u;t.exports.default=u;u.deviation=function(p,r,F,L){var Q=r&&r.length,R=Math.abs(D(p,0,Q?r[0]*F:p.length,F));if(Q){Q=0;for(var ba=r.length;Q<ba;Q++)R-=Math.abs(D(p,r[Q]*F,Q<ba-1?r[Q+1]*F:p.length,
F))}for(Q=r=0;Q<L.length;Q+=3){ba=L[Q]*F;var Y=L[Q+1]*F,S=L[Q+2]*F;r+=Math.abs((p[ba]-p[S])*(p[Y+1]-p[ba+1])-(p[ba]-p[Y])*(p[S+1]-p[ba+1]))}return 0===R&&0===r?0:Math.abs((r-R)/R)};u.flatten=function(p){for(var r=p[0][0].length,F={vertices:[],holes:[],dimensions:r},L=0,Q=0;Q<p.length;Q++){for(var R=0;R<p[Q].length;R++)for(var ba=0;ba<r;ba++)F.vertices.push(p[Q][R][ba]);0<Q&&(L+=p[Q-1].length,F.holes.push(L))}return F}},552:function(t,u){function B(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function");
}function v(x,w){x._head?(x._tail._next=w,w._prev=x._tail):x._head=w;x._tail=w;w._owner=x;return w}Object.defineProperty(u,"__esModule",{value:!0});var K=function(){function x(w,I){for(var C=0;C<I.length;C++){var J=I[C];J.enumerable=J.enumerable||!1;J.configurable=!0;"value"in J&&(J.writable=!0);Object.defineProperty(w,J.key,J)}}return function(w,I,C){I&&x(w.prototype,I);C&&x(w,C);return w}}(),A=function(){function x(w,I,C){void 0===I&&(I=!1);B(this,x);this._fn=w;this._once=I;this._thisArg=C;this._next=
this._prev=this._owner=null}K(x,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return x}(),G=function(){function x(){B(this,x);this._head=this._tail=void 0}K(x,[{key:"handlers",value:function(){var w=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!w;for(var I=[];w;)I.push(w),w=w._next;return I}},{key:"has",value:function(w){if(!(w instanceof A))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
return w._owner===this}},{key:"dispatch",value:function(){var w=this._head;if(!w)return!1;for(;w;)w._once&&this.detach(w),w._fn.apply(w._thisArg,arguments),w=w._next;return!0}},{key:"add",value:function(w){var I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof w)throw Error("MiniSignal#add(): First arg must be a Function.");return v(this,new A(w,!1,I))}},{key:"once",value:function(w){var I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==
typeof w)throw Error("MiniSignal#once(): First arg must be a Function.");return v(this,new A(w,!0,I))}},{key:"detach",value:function(w){if(!(w instanceof A))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(w._owner!==this)return this;w._prev&&(w._prev._next=w._next);w._next&&(w._next._prev=w._prev);w===this._head?(this._head=w._next,null===w._next&&(this._tail=null)):w===this._tail&&(this._tail=w._prev,this._tail._next=null);w._owner=null;return this}},{key:"detachAll",
value:function(){var w=this._head;if(!w)return this;for(this._head=this._tail=null;w;)w._owner=null,w=w._next;return this}}]);return x}();G.MiniSignalBinding=A;u.default=G;t.exports=u["default"]},525:function(t){var u=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var K=new String("abc");K[5]="de";if("5"===Object.getOwnPropertyNames(K)[0])return!1;var A={};for(K=0;10>K;K++)A["_"+String.fromCharCode(K)]=
K;if("0123456789"!==Object.getOwnPropertyNames(A).map(function(x){return A[x]}).join(""))return!1;var G={};"abcdefghijklmnopqrst".split("").forEach(function(x){G[x]=x});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},G)).join("")?!1:!0}catch(x){return!1}}()?Object.assign:function(K,A){if(null===K||void 0===K)throw new TypeError("Object.assign cannot be called with null or undefined");var G=Object(K);for(var x,w=1;w<arguments.length;w++){var I=Object(arguments[w]);for(var C in I)B.call(I,
C)&&(G[C]=I[C]);if(u){x=u(I);for(var J=0;J<x.length;J++)v.call(I,x[J])&&(G[x[J]]=I[x[J]])}}return G}},767:function(t){t.exports=function(u,B){if(u){B=B||{};var v="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");u={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[B.strictMode?
"strict":"loose"].exec(u);var K={};for(B=14;B--;)K[v[B]]=u[B]||"";K.queryKey={};K[v[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(A,G,x){G&&(K.queryKey[G]=x)});return K}}},655:function(t,u,B){function v(){}function K(d,c){return function(){d.apply(c,arguments)}}function A(d){if(!(this instanceof A))throw new TypeError("Promises must be constructed via new");if("function"!==typeof d)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];J(d,this)}
function G(d,c){for(;3===d._state;)d=d._value;0===d._state?d._deferreds.push(c):(d._handled=!0,A._immediateFn(function(){var a=1===d._state?c.onFulfilled:c.onRejected;if(null===a)(1===d._state?x:w)(c.promise,d._value);else{try{var b=a(d._value)}catch(e){w(c.promise,e);return}x(c.promise,b)}}))}function x(d,c){try{if(c===d)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"===typeof c||"function"===typeof c)){var a=c.then;if(c instanceof A){d._state=3;d._value=c;I(d);return}if("function"===
typeof a){J(K(a,c),d);return}}d._state=1;d._value=c;I(d)}catch(b){w(d,b)}}function w(d,c){d._state=2;d._value=c;I(d)}function I(d){2===d._state&&0===d._deferreds.length&&A._immediateFn(function(){d._handled||A._unhandledRejectionFn(d._value)});for(var c=0,a=d._deferreds.length;c<a;c++)G(d,d._deferreds[c]);d._deferreds=null}function C(d,c,a){this.onFulfilled="function"===typeof d?d:null;this.onRejected="function"===typeof c?c:null;this.promise=a}function J(d,c){var a=!1;try{d(function(b){a||(a=!0,
x(c,b))},function(b){a||(a=!0,w(c,b))})}catch(b){a||(a=!0,w(c,b))}}function M(d){return function(c){return c.test(d)}}function aa(){$c=!0}function W(d){var c;$c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(d=["\n %c %c %c PixiJS "+Me+" - \u2730 "+d+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;",
"background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],(c=self.console).log.apply(c,d)):self.console&&self.console.log("PixiJS "+Me+" - "+d+" - http://www.pixijs.com/"),$c=!0)}function V(){"undefined"===typeof ad&&(ad=function(){var d={stencil:!0,failIfMajorPerformanceCaveat:ja.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;
var c=document.createElement("canvas"),a=c.getContext("webgl",d)||c.getContext("experimental-webgl",d),b=!(!a||!a.getContextAttributes().stencil);if(a){var e=a.getExtension("WEBGL_lose_context");e&&e.loseContext()}return b}catch(f){return!1}}());return ad}function ca(d,c){void 0===c&&(c=[]);c[0]=(d>>16&255)/255;c[1]=(d>>8&255)/255;c[2]=(d&255)/255;return c}function X(d){d=d.toString(16);d="000000".substr(0,6-d.length)+d;return"#"+d}function ea(d){"string"===typeof d&&(d=ih[d.toLowerCase()]||d,"#"===
d[0]&&(d=d.substr(1)));return parseInt(d,16)}function z(d){return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)}function D(d,c){return bd[c?1:0][d]}function p(d,c,a,b){a=a||new Float32Array(4);b||void 0===b?(a[0]=d[0]*c,a[1]=d[1]*c,a[2]=d[2]*c):(a[0]=d[0],a[1]=d[1],a[2]=d[2]);a[3]=c;return a}function r(d,c){return 1===c?(255*c<<24)+d:0===c?0:(255*c<<24)+(((d>>16&255)*c+.5|0)<<16)+(((d>>8&255)*c+.5|0)<<8)+((d&255)*c+.5|0)}function F(d,c,a,b){a=a||new Float32Array(4);a[0]=(d>>16&255)/255;a[1]=(d>>8&255)/
255;a[2]=(d&255)/255;if(b||void 0===b)a[0]*=c,a[1]*=c,a[2]*=c;a[3]=c;return a}function L(d,c){void 0===c&&(c=null);d*=6;c=c||new Uint16Array(d);if(c.length!==d)throw Error("Out buffer length is incorrect, got "+c.length+" and expected "+d);for(var a=0,b=0;a<d;a+=6,b+=4)c[a+0]=b+0,c[a+1]=b+1,c[a+2]=b+2,c[a+3]=b+0,c[a+4]=b+2,c[a+5]=b+3;return c}function Q(d){if(4===d.BYTES_PER_ELEMENT)return d instanceof Float32Array?"Float32Array":d instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===d.BYTES_PER_ELEMENT){if(d instanceof
Uint16Array)return"Uint16Array"}else if(1===d.BYTES_PER_ELEMENT&&d instanceof Uint8Array)return"Uint8Array";return null}function R(d,c){for(var a=0,b=0,e={},f=0;f<d.length;f++)b+=c[f],a+=d[f].length;a=new ArrayBuffer(4*a);var g=0;for(f=0;f<d.length;f++){var h=c[f],k=d[f];var l=Q(k);e[l]||(e[l]=new jh[l](a));l=e[l];for(var m=0;m<k.length;m++)l[(m/h|0)*b+g+m%h]=k[m];g+=h}return new Float32Array(a)}function ba(d){d+=0===d?1:0;--d;d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;return(d|d>>>16)+1}function Y(d){return!(d&
d-1)&&!!d}function S(d){var c=(65535<d?1:0)<<4;d>>>=c;var a=(255<d?1:0)<<3;d>>>=a;c|=a;a=(15<d?1:0)<<2;d>>>=a;c|=a;a=(3<d?1:0)<<1;return c|a|d>>>a>>1}function qa(d,c,a){var b=d.length;if(!(c>=b||0===a)){a=c+a>b?b-c:a;for(b-=a;c<b;++c)d[c]=d[c+a];d.length=b}}function ma(d){return 0===d?0:0>d?-1:1}function ta(){return++wb}function Ba(d,c,a){void 0===a&&(a=3);if(!Ne[c]){var b=Error().stack;"undefined"===typeof b?console.warn("PixiJS Deprecation Warning: ",c+"\nDeprecated since v"+d):(b=b.split("\n").splice(a).join("\n"),
console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",c+"\nDeprecated since v"+d),console.warn(b),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",c+"\nDeprecated since v"+d),console.warn(b)));Ne[c]=!0}}function Ka(){for(var d in La)La[d].destroy();for(d in Pa)Pa[d].destroy()}function da(){for(var d in La)delete La[d];for(d in Pa)delete Pa[d]}function oa(d){var c=
d.width,a=d.height;d=d.getContext("2d");var b=d.getImageData(0,0,c,a).data,e=b.length,f=null,g=null,h=null,k=null,l=null,m;for(m=0;m<e;m+=4)if(0!==b[m+3]){var n=m/4%c;var q=~~(m/4/c);null===f&&(f=q);null===g?g=n:n<g&&(g=n);null===h?h=n+1:h<n&&(h=n+1);null===k?k=q:k<q&&(k=q)}null!==f&&(c=h-g,a=k-f+1,l=d.getImageData(g,f,c,a));return{height:a,width:c,data:l}}function Lb(d){if(d=Oe.exec(d))return{mediaType:d[1]?d[1].toLowerCase():void 0,subType:d[2]?d[2].toLowerCase():void 0,charset:d[3]?d[3].toLowerCase():
void 0,encoding:d[4]?d[4].toLowerCase():void 0,data:d[5]}}function vb(d,c){void 0===c&&(c=self.location);if(0===d.indexOf("data:"))return"";c=c||self.location;vc||(vc=document.createElement("a"));vc.href=d;d=Mb.parse(vc.href);var a=!d.port&&""===c.port||d.port===c.port;return d.hostname===c.hostname&&a&&d.protocol===c.protocol?"":"anonymous"}function ac(d,c){return(d=ja.RETINA_PREFIX.exec(d))?parseFloat(d[1]):void 0!==c?c:1}function cd(d,c){function a(){this.constructor=d}dd(d,c);d.prototype=null===
c?Object.create(c):(a.prototype=c.prototype,new a)}function kh(d,c){return d.zIndex===c.zIndex?d._lastSortedIndex-c._lastSortedIndex:d.zIndex-c.zIndex}function lh(d,c){function a(){this.constructor=d}ed(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function wc(d,c){if(!d)return null;var a="";if("string"===typeof d){var b=/\.(\w{3,4})(?:$|\?|#)/i.exec(d);b&&(a=b[1].toLowerCase())}for(b=bc.length-1;0<=b;--b){var e=bc[b];if(e.test&&e.test(d,a))return new e(d,c)}throw Error("Unrecognized source type to auto-detect Resource");
}function sa(d,c){function a(){this.constructor=d}fd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function xc(d){d.destroy=function(){};d.on=function(){};d.once=function(){};d.emit=function(){}}function Pe(d){if(4===d.BYTES_PER_ELEMENT)return d instanceof Float32Array?"Float32Array":d instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===d.BYTES_PER_ELEMENT){if(d instanceof Uint16Array)return"Uint16Array"}else if(1===d.BYTES_PER_ELEMENT&&d instanceof Uint8Array)return"Uint8Array";
return null}function Qe(d,c,a){c=d.createShader(c);d.shaderSource(c,a);d.compileShader(c);return c}function Re(d,c,a,b){var e=Qe(d,d.VERTEX_SHADER,c),f=Qe(d,d.FRAGMENT_SHADER,a),g=d.createProgram();d.attachShader(g,e);d.attachShader(g,f);if(b)for(var h in b)d.bindAttribLocation(g,b[h],h);d.linkProgram(g);d.getProgramParameter(g,d.LINK_STATUS)||(d.getShaderParameter(e,d.COMPILE_STATUS)||(console.warn(c),console.error(d.getShaderInfoLog(e))),d.getShaderParameter(f,d.COMPILE_STATUS)||(console.warn(a),
console.error(d.getShaderInfoLog(f))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",d.getProgramParameter(g,d.VALIDATE_STATUS)),console.error("gl.getError()",d.getError()),""!==d.getProgramInfoLog(g)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",d.getProgramInfoLog(g)),d.deleteProgram(g),g=null);d.deleteShader(e);d.deleteShader(f);return g}function gd(d){d=Array(d);for(var c=0;c<d.length;c++)d[c]=!1;return d}function Se(d,c){switch(d){case "float":return 0;
case "vec2":return new Float32Array(2*c);case "vec3":return new Float32Array(3*c);case "vec4":return new Float32Array(4*c);case "int":case "uint":case "sampler2D":case "sampler2DArray":return 0;case "ivec2":return new Int32Array(2*c);case "ivec3":return new Int32Array(3*c);case "ivec4":return new Int32Array(4*c);case "uvec2":return new Uint32Array(2*c);case "uvec3":return new Uint32Array(3*c);case "uvec4":return new Uint32Array(4*c);case "bool":return!1;case "bvec2":return gd(2*c);case "bvec3":return gd(3*
c);case "bvec4":return gd(4*c);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Te(){if(cc===Ue||cc&&cc.isContextLost()){var d=document.createElement("canvas"),c=void 0;ja.PREFER_ENV>=Ya.WEBGL2&&(c=d.getContext("webgl2",{}));c||((c=d.getContext("webgl",{})||d.getContext("experimental-webgl",{}))?c.getExtension("WEBGL_draw_buffers"):c=null);cc=c}return cc}
function Ve(d,c,a){if("precision"!==d.substring(0,9)){var b=c;c===Ta.HIGH&&a!==Ta.HIGH&&(b=Ta.MEDIUM);return"precision "+b+" float;\n"+d}return a!==Ta.HIGH&&"precision highp"===d.substring(0,15)?d.replace("precision highp","precision mediump"):d}function We(d,c){if(!yc){var a=Object.keys(Xe);yc={};for(var b=0;b<a.length;++b){var e=a[b];yc[d[e]]=Xe[e]}}return yc[c]}function Ye(d,c){if(0===d)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var a=c.createShader(c.FRAGMENT_SHADER);;){for(var b=
mh,e=b.replace,f="",g=0;g<d;++g)0<g&&(f+="\nelse "),g<d-1&&(f+="if(test == "+g+".0){}");b=e.call(b,/%forloop%/gi,f);c.shaderSource(a,b);c.compileShader(a);if(c.getShaderParameter(a,c.COMPILE_STATUS))break;else d=d/2|0}return d}function Ze(d){return db.create(d)}function xb(){}function $e(d,c,a,b){var e=0,f=d.length;(function k(h){h||e===f?a&&a(h):b?setTimeout(function(){c(d[e++],k)},1):c(d[e++],k)})()}function nh(d){return function(){if(null===d)throw Error("Callback was already called.");var c=d;
d=null;c.apply(this,arguments)}}function oh(d,c){function a(g,h,k){if(null!=k&&"function"!==typeof k)throw Error("task callback must be a function");f.started=!0;null==g&&f.idle()?setTimeout(function(){return f.drain()},1):(g={data:g,callback:"function"===typeof k?k:xb},h?f._tasks.unshift(g):f._tasks.push(g),setTimeout(function(){return f.process()},1))}function b(g){return function(){--e;g.callback.apply(g,arguments);null!=arguments[0]&&f.error(arguments[0],g.data);e<=f.concurrency-f.buffer&&f.unsaturated();
f.idle()&&f.drain();f.process()}}if(null==c)c=1;else if(0===c)throw Error("Concurrency must not be zero");var e=0,f={_tasks:[],concurrency:c,saturated:xb,unsaturated:xb,buffer:c/4,empty:xb,drain:xb,error:xb,started:!1,paused:!1,push:function(g,h){a(g,!1,h)},kill:function(){e=0;f.drain=xb;f.started=!1;f._tasks=[]},unshift:function(g,h){a(g,!0,h)},process:function(){for(;!f.paused&&e<f.concurrency&&f._tasks.length;){var g=f._tasks.shift();0===f._tasks.length&&f.empty();e+=1;e===f.concurrency&&f.saturated();
d(g.data,nh(b(g)))}},length:function(){return f._tasks.length},running:function(){return e},idle:function(){return 0===f._tasks.length+e},pause:function(){!0!==f.paused&&(f.paused=!0)},resume:function(){if(!1!==f.paused){f.paused=!1;for(var g=1;g<=f.concurrency;g++)f.process()}}};return f}function af(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}function bf(d,c,a){c&&af(d.prototype,c);a&&af(d,
a);return d}function ph(){}function cf(d,c,a){c&&0===c.indexOf(".")&&(c=c.substring(1));c&&(d[c]=a)}function hd(d){return d.toString().replace("object ","")}function qh(d){for(var c="",a=0;a<d.length;){for(var b=[0,0,0],e=[0,0,0,0],f=0;f<b.length;++f)b[f]=a<d.length?d.charCodeAt(a++)&255:0;e[0]=b[0]>>2;e[1]=(b[0]&3)<<4|b[1]>>4;e[2]=(b[1]&15)<<2|b[2]>>6;e[3]=b[2]&63;switch(a-(d.length-1)){case 2:e[3]=64;e[2]=64;break;case 1:e[3]=64}for(b=0;b<e.length;++b)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e[b])}return c}
function rh(d,c){function a(){this.constructor=d}id(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function df(d,c){function a(){this.constructor=d}jd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function sh(d,c,a,b){return new (a||(a=Promise))(function(e,f){function g(l){try{k(b.next(l))}catch(m){f(m)}}function h(l){try{k(b["throw"](l))}catch(m){f(m)}}function k(l){l.done?e(l.value):(new a(function(m){m(l.value)})).then(g,h)}k((b=b.apply(d,
c||[])).next())})}function th(d,c){function a(l){return function(m){return b([l,m])}}function b(l){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(h=l[0]&2?g["return"]:l[0]?g["throw"]||((h=g["return"])&&h.call(g),0):g.next)&&!(h=h.call(g,l[1])).done)return h;if(g=0,h)l=[l[0]&2,h.value];switch(l[0]){case 0:case 1:h=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++;g=l[1];l=[0];continue;case 7:l=e.ops.pop();e.trys.pop();continue;default:if(!(h=
e.trys,h=0<h.length&&h[h.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!h||l[1]>h[0]&&l[1]<h[3]))e.label=l[1];else if(6===l[0]&&e.label<h[1])e.label=h[1],h=l;else if(h&&e.label<h[2])e.label=h[2],e.ops.push(l);else{h[2]&&e.ops.pop();e.trys.pop();continue}}l=c.call(d,e)}catch(m){l=[6,m],g=0}finally{f=h=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,g,h,k;return k={next:a(0),"throw":a(1),
"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function ef(d,c){c&&c.forEach(function(a,b){a=new xa(a,{mipmap:ob.OFF,alphaMode:Za.NO_PREMULTIPLIED_ALPHA});var e=d+"-"+(b+1);xa.addToCache(a,e);na.addToCache(new na(a),e);0===b&&(xa.addToCache(a,d),na.addToCache(new na(a),d))})}function ff(d,c){function a(){this.constructor=d}kd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function ld(d,c){function a(){this.constructor=d}md(d,c);
d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function zc(d,c,a,b,e,f,g){void 0===g&&(g=[]);for(var h,k,l,m,n=0,q;20>=n;++n)q=n/20,h=d+(a-d)*q,k=c+(b-c)*q,l=a+(e-a)*q,m=b+(f-b)*q,h+=(l-h)*q,k+=(m-k)*q,g.push(h,k);return g}function gf(d,c,a,b,e,f,g,h){if(g){g=b;var k=-a}else g=-b,k=a;var l=d+a*f+g;f=c+b*f+k;h.push(d-a*e+g,c-b*e+k);h.push(l,f);return 2}function Nb(d,c,a,b,e,f,g,h){var k=a-d,l=b-c,m=Math.atan2(k,l),n=Math.atan2(e-d,f-c);h&&m<n?m+=2*Math.PI:!h&&m>n&&(n+=2*Math.PI);
n-=m;k=Math.sqrt(k*k+l*l);l=(15*Math.abs(n)*Math.sqrt(k)/Math.PI>>0)+1;n/=l;m+=n;if(h){g.push(d,c);g.push(a,b);a=1;for(b=m;a<l;a++,b+=n)g.push(d,c),g.push(d+Math.sin(b)*k,c+Math.cos(b)*k);g.push(d,c);g.push(e,f)}else{g.push(a,b);g.push(d,c);a=1;for(b=m;a<l;a++,b+=n)g.push(d+Math.sin(b)*k,c+Math.cos(b)*k),g.push(d,c);g.push(e,f);g.push(d,c)}return 2*l}function nd(d,c){if(d.lineStyle.native){var a=d.shape,b=d.points||a.points;d=a.type!==Ca.POLY||a.closeStroke;if(0!==b.length){a=c.points;var e=c.indices,
f=b.length/2,g=a.length/2,h=g;a.push(b[0],b[1]);for(c=1;c<f;c++)a.push(b[2*c],b[2*c+1]),e.push(h,h+1),h++;d&&e.push(h,g)}}else if(a=d.shape,b=d.points||a.points.slice(),g=c.closePointEps,0!==b.length){d=d.lineStyle;e=new Da(b[0],b[1]);f=new Da(b[b.length-2],b[b.length-1]);a=a.type!==Ca.POLY||a.closeStroke;g=Math.abs(e.x-f.x)<g&&Math.abs(e.y-f.y)<g;a&&(b=b.slice(),g&&(b.pop(),b.pop(),f.set(b[b.length-2],b[b.length-1])),g=.5*(e.x+f.x),e=.5*(f.y+e.y),b.unshift(g,e),b.push(g,e));e=c.points;var k=b.length/
2;f=b.length;g=e.length/2;var l=d.width/2,m=l*l,n=d.miterLimit*d.miterLimit,q=b[0],y=b[1];h=b[2];var E=b[3],N=-(y-E),U=q-h,ka=Math.sqrt(N*N+U*U);N=N/ka*l;U=U/ka*l;h=d.alignment;var fa=2*(1-h),ha=2*h;a||(d.cap===eb.ROUND?f+=Nb(q-N*(fa-ha)*.5,y-U*(fa-ha)*.5,q-N*fa,y-U*fa,q+N*ha,y+U*ha,e,!0)+2:d.cap===eb.SQUARE&&(f+=gf(q,y,N,U,fa,ha,!0,e)));e.push(q-N*fa,y-U*fa);e.push(q+N*ha,y+U*ha);for(var ua=1;ua<k-1;++ua){q=b[2*(ua-1)];y=b[2*(ua-1)+1];h=b[2*ua];E=b[2*ua+1];var Z=b[2*(ua+1)];var wa=b[2*(ua+1)+1];
N=-(y-E);U=q-h;ka=Math.sqrt(N*N+U*U);N/=ka;U/=ka;N*=l;U*=l;var T=-(E-wa);var pa=h-Z;ka=Math.sqrt(T*T+pa*pa);T/=ka;pa/=ka;T*=l;pa*=l;ka=h-q;var fb=y-E,yb=h-Z,zb=wa-E,Ga=fb*yb-zb*ka,dc=0>Ga;if(.1>Math.abs(Ga))e.push(h-N*fa,E-U*fa),e.push(h+N*ha,E+U*ha);else{y=(-N+q)*(-U+E)-(-N+h)*(-U+y);Z=(-T+Z)*(-pa+E)-(-T+h)*(-pa+wa);q=(ka*Z-yb*y)/Ga;Ga=(zb*y-fb*Z)/Ga;y=(q-h)*(q-h)+(Ga-E)*(Ga-E);Z=h+(q-h)*fa;wa=E+(Ga-E)*fa;q=h-(q-h)*ha;Ga=E-(Ga-E)*ha;var hf=dc?fa:ha;y<=Math.min(ka*ka+fb*fb,yb*yb+zb*zb)+hf*hf*m?d.join===
gb.BEVEL||y/m>n?(dc?(e.push(Z,wa),e.push(h+N*ha,E+U*ha),e.push(Z,wa),e.push(h+T*ha,E+pa*ha)):(e.push(h-N*fa,E-U*fa),e.push(q,Ga),e.push(h-T*fa,E-pa*fa),e.push(q,Ga)),f+=2):d.join===gb.ROUND?dc?(e.push(Z,wa),e.push(h+N*ha,E+U*ha),f+=Nb(h,E,h+N*ha,E+U*ha,h+T*ha,E+pa*ha,e,!0)+4,e.push(Z,wa),e.push(h+T*ha,E+pa*ha)):(e.push(h-N*fa,E-U*fa),e.push(q,Ga),f+=Nb(h,E,h-N*fa,E-U*fa,h-T*fa,E-pa*fa,e,!1)+4,e.push(h-T*fa,E-pa*fa),e.push(q,Ga)):(e.push(Z,wa),e.push(q,Ga)):(e.push(h-N*fa,E-U*fa),e.push(h+N*ha,E+U*
ha),d.join===gb.BEVEL||y/m>n||(d.join===gb.ROUND?f=dc?f+(Nb(h,E,h+N*ha,E+U*ha,h+T*ha,E+pa*ha,e,!0)+2):f+(Nb(h,E,h-N*fa,E-U*fa,h-T*fa,E-pa*fa,e,!1)+2):(dc?(e.push(q,Ga),e.push(q,Ga)):(e.push(Z,wa),e.push(Z,wa)),f+=2)),e.push(h-T*fa,E-pa*fa),e.push(h+T*ha,E+pa*ha),f+=2)}}q=b[2*(k-2)];y=b[2*(k-2)+1];h=b[2*(k-1)];E=b[2*(k-1)+1];N=-(y-E);U=q-h;ka=Math.sqrt(N*N+U*U);N=N/ka*l;U=U/ka*l;e.push(h-N*fa,E-U*fa);e.push(h+N*ha,E+U*ha);a||(d.cap===eb.ROUND?f+=Nb(h-N*(fa-ha)*.5,E-U*(fa-ha)*.5,h-N*fa,E-U*fa,h+N*ha,
E+U*ha,e,!1)+2:d.cap===eb.SQUARE&&(f+=gf(h,E,N,U,fa,ha,!1,e)));c=c.indices;b=Ob.epsilon*Ob.epsilon;for(ua=g;ua<f+g-2;++ua)q=e[2*ua],y=e[2*ua+1],h=e[2*(ua+1)],E=e[2*(ua+1)+1],Z=e[2*(ua+2)],wa=e[2*(ua+2)+1],Math.abs(q*(E-wa)+h*(wa-y)+Z*(y-E))<b||c.push(ua,ua+1,ua+2)}}function uh(d,c){function a(){this.constructor=d}od(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function vh(d,c){function a(){this.constructor=d}pd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=
c.prototype,new a)}function jf(d){if("number"===typeof d)return X(d);"string"===typeof d&&0===d.indexOf("0x")&&(d=d.replace("0x","#"));return d}function qd(d){if(Array.isArray(d)){for(var c=0;c<d.length;++c)d[c]=jf(d[c]);return d}return jf(d)}function rd(d,c,a){for(var b in a)Array.isArray(c[b])?d[b]=c[b].slice():d[b]=c[b]}function wh(d,c){function a(){this.constructor=d}sd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function xh(d,c){var a=!1;if(d&&d._textures&&d._textures.length)for(var b=
0;b<d._textures.length;b++)if(d._textures[b]instanceof na){var e=d._textures[b].baseTexture;-1===c.indexOf(e)&&(c.push(e),a=!0)}return a}function yh(d,c){return d.baseTexture instanceof xa?(d=d.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function zh(d,c){return d._texture&&d._texture instanceof na?(d=d._texture.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function Ah(d,c){return c instanceof td?(c.updateText(!0),!0):!1}function Bh(d,c){return c instanceof Ab?(d=c.toFontString(),Oa.measureFont(d),
!0):!1}function Ch(d,c){return d instanceof td?(-1===c.indexOf(d.style)&&c.push(d.style),-1===c.indexOf(d)&&c.push(d),d=d._texture.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function Dh(d,c){return d instanceof Ab?(-1===c.indexOf(d)&&c.push(d),!0):!1}function kf(d,c){return c instanceof xa?(c._glTextures[d.CONTEXT_UID]||d.texture.bind(c),!0):!1}function Eh(d,c){if(!(c instanceof ud))return!1;var a=c.geometry;c.finishPoly();a.updateBatches();for(var b=a.batches,e=0;e<b.length;e++){var f=b[e].style.texture;
f&&kf(d,f.baseTexture)}a.batchable||d.geometry.bind(a,c._resolveDirectShader(d));return!0}function Fh(d,c){return d instanceof ud?(c.push(d),!0):!1}function lf(d,c){function a(){this.constructor=d}vd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function wd(d,c){function a(){this.constructor=d}xd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Gh(d,c){function a(){this.constructor=d}yd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=
c.prototype,new a)}function mf(d){for(var c=0;c<zd.length;c++)if(zd[c].test(d))return zd[c];return null}function nf(d,c,a,b,e,f){var g=a.fill;if(!Array.isArray(g))return g;if(1===g.length)return g[0];var h=a.dropShadow?a.dropShadowDistance:0,k=a.padding||0,l=Math.ceil(d.width/b)-h-2*k,m=Math.ceil(d.height/b)-h-2*k;d=g.slice();b=a.fillGradientStops.slice();if(!b.length){var n=d.length+1;for(h=1;h<n;++h)b.push(h/n)}d.unshift(g[0]);b.unshift(0);d.push(g[g.length-1]);b.push(1);if(a.fillGradientType===
Pb.LINEAR_VERTICAL)for(c=c.createLinearGradient(l/2,k,l/2,m+k),g=0,a=(f.fontProperties.fontSize+a.strokeThickness)/m,h=0;h<e.length;h++)for(k=f.lineHeight*h,l=0;l<d.length;l++)g=Math.max(g,k/m+("number"===typeof b[l]?b[l]:l/d.length)*a),g=Math.min(g,1),c.addColorStop(g,d[l]);else for(c=c.createLinearGradient(k,m/2,l+k,m/2),e=d.length+1,f=1,h=0;h<d.length;h++)c.addColorStop("number"===typeof b[h]?b[h]:f/e,d[h]),f++;return c}function Hh(d,c){function a(){this.constructor=d}Ad(d,c);d.prototype=null===
c?Object.create(c):(a.prototype=c.prototype,new a)}function of(d,c){function a(){this.constructor=d}Bd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Ih(d,c){function a(){this.constructor=d}Cd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Jh(d,c){function a(){this.constructor=d}Dd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Kh(d,c){function a(){this.constructor=d}Ed(d,c);d.prototype=
null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Lh(d,c){function a(){this.constructor=d}Fd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Qb(d,c){function a(){this.constructor=d}Gd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Mh(d,c){function a(){this.constructor=d}Hd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}B.r(u);B.d(u,{ALPHA_MODES:function(){return Za},AbstractBatchRenderer:function(){return pf},
AbstractMultiResource:function(){return Ac},AbstractRenderer:function(){return qf},AccessibilityManager:function(){return rf},AnimatedSprite:function(){return Nh},AppLoaderPlugin:function(){return sf},Application:function(){return Bc},ArrayResource:function(){return Id},Attribute:function(){return Jd},BLEND_MODES:function(){return la},BUFFER_BITS:function(){return ec},BaseImageResource:function(){return $a},BasePrepare:function(){return tf},BaseRenderTexture:function(){return Kd},BaseTexture:function(){return xa},
BatchDrawCall:function(){return Cc},BatchGeometry:function(){return Ld},BatchPluginFactory:function(){return uf},BatchRenderer:function(){return vf},BatchShaderGenerator:function(){return wf},BatchSystem:function(){return Md},BatchTextureArray:function(){return Dc},BitmapFont:function(){return Rb},BitmapFontData:function(){return fc},BitmapFontLoader:function(){return xf},BitmapText:function(){return Oh},BlobResource:function(){return yf},Bounds:function(){return gc},Buffer:function(){return Ha},
BufferResource:function(){return Sb},CLEAR_MODES:function(){return hb},CanvasResource:function(){return Ec},Circle:function(){return zf},CompressedTextureLoader:function(){return Af},CompressedTextureResource:function(){return Fc},Container:function(){return Ua},ContextSystem:function(){return Nd},CountLimiter:function(){return Bf},CubeResource:function(){return Od},DDSLoader:function(){return Cf},DEG_TO_RAD:function(){return Df},DRAW_MODES:function(){return Qa},DisplayObject:function(){return Ea},
ENV:function(){return Ya},Ellipse:function(){return Ef},Extract:function(){return Ff},FORMATS:function(){return Va},FORMATS_TO_COMPONENTS:function(){return Gf},FillStyle:function(){return Pd},Filter:function(){return ib},FilterState:function(){return Hf},FilterSystem:function(){return Qd},Framebuffer:function(){return Gc},FramebufferSystem:function(){return Rd},GC_MODES:function(){return Hc},GLFramebuffer:function(){return If},GLProgram:function(){return Jf},GLTexture:function(){return Ic},GRAPHICS_CURVES:function(){return Ob},
Geometry:function(){return Tb},GeometrySystem:function(){return Sd},Graphics:function(){return ud},GraphicsData:function(){return Td},GraphicsGeometry:function(){return Kf},IGLUniformData:function(){return Ph},INSTALLED:function(){return bc},INTERNAL_FORMATS:function(){return ra},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:function(){return hc},ImageBitmapResource:function(){return Ud},ImageResource:function(){return Jc},InteractionData:function(){return Vd},InteractionEvent:function(){return Lf},InteractionManager:function(){return Mf},
InteractionTrackingData:function(){return Kc},KTXLoader:function(){return Nf},LINE_CAP:function(){return eb},LINE_JOIN:function(){return gb},LineStyle:function(){return Of},Loader:function(){return ab},LoaderResource:function(){return Ra},MASK_TYPES:function(){return Ma},MIPMAP_MODES:function(){return ob},MSAA_QUALITY:function(){return Bb},MaskData:function(){return Pf},MaskSystem:function(){return Wd},Matrix:function(){return Fa},Mesh:function(){return Ub},MeshBatchUvs:function(){return Qf},MeshGeometry:function(){return ic},
MeshMaterial:function(){return jc},NineSlicePlane:function(){return Qh},ObjectRenderer:function(){return kc},ObservablePoint:function(){return Cb},PI_2:function(){return lc},PRECISION:function(){return Ta},ParticleContainer:function(){return Rh},ParticleRenderer:function(){return Rf},PlaneGeometry:function(){return Sf},Point:function(){return Da},Polygon:function(){return mc},Prepare:function(){return Tf},Program:function(){return nc},ProjectionSystem:function(){return Xd},Quad:function(){return Uf},
QuadUv:function(){return Yd},RAD_TO_DEG:function(){return Vf},RENDERER_TYPE:function(){return Vb},Rectangle:function(){return va},RenderTexture:function(){return pb},RenderTexturePool:function(){return Wf},RenderTextureSystem:function(){return Zd},Renderer:function(){return db},Resource:function(){return Db},RopeGeometry:function(){return Xf},RoundedRectangle:function(){return Yf},Runner:function(){return Ja},SCALE_MODES:function(){return bb},SHAPES:function(){return Ca},SVGResource:function(){return $d},
ScissorSystem:function(){return ae},Shader:function(){return qb},ShaderSystem:function(){return be},SimpleMesh:function(){return Sh},SimplePlane:function(){return Zf},SimpleRope:function(){return Th},Sprite:function(){return Wb},SpriteMaskFilter:function(){return $f},Spritesheet:function(){return ag},SpritesheetLoader:function(){return bg},State:function(){return rb},StateSystem:function(){return ce},StencilSystem:function(){return de},System:function(){return Na},TARGETS:function(){return sb},TEXT_GRADIENT:function(){return Pb},
TYPES:function(){return za},TYPES_TO_BYTES_PER_COMPONENT:function(){return ee},TYPES_TO_BYTES_PER_PIXEL:function(){return cg},TemporaryDisplayObject:function(){return fe},Text:function(){return td},TextMetrics:function(){return Oa},TextStyle:function(){return Ab},Texture:function(){return na},TextureGCSystem:function(){return ge},TextureLoader:function(){return dg},TextureMatrix:function(){return Lc},TextureSystem:function(){return he},TextureUvs:function(){return ie},Ticker:function(){return Ia},
TickerPlugin:function(){return eg},TilingSprite:function(){return Uh},TilingSpriteRenderer:function(){return fg},TimeLimiter:function(){return Vh},Transform:function(){return je},UPDATE_PRIORITY:function(){return cb},UniformGroup:function(){return tb},VERSION:function(){return"6.0.1"},VideoResource:function(){return ke},ViewableBuffer:function(){return Mc},WRAP_MODES:function(){return jb},accessibleTarget:function(){return gg},autoDetectRenderer:function(){return Ze},autoDetectResource:function(){return wc},
checkMaxIfStatementsInShader:function(){return Ye},defaultFilterVertex:function(){return le},defaultVertex:function(){return hg},filters:function(){return Wh},graphicsUtils:function(){return Xh},groupD8:function(){return Aa},interactiveTarget:function(){return ig},isMobile:function(){return Sa},resources:function(){return jg},settings:function(){return ja},systems:function(){return kg},uniformParsers:function(){return Nc},utils:function(){return me}});var me={};B.r(me);B.d(me,{BaseTextureCache:function(){return Pa},
CanvasRenderTarget:function(){return ne},DATA_URI:function(){return Oe},EventEmitter:function(){return Xb()},ProgramCache:function(){return oe},TextureCache:function(){return La},clearTextureCache:function(){return da},correctBlendMode:function(){return D},createIndicesForQuads:function(){return L},decomposeDataUri:function(){return Lb},deprecation:function(){return Ba},destroyTextureCache:function(){return Ka},determineCrossOrigin:function(){return vb},earcut:function(){return pe()},getBufferType:function(){return Q},
getResolutionOfUrl:function(){return ac},hex2rgb:function(){return ca},hex2string:function(){return X},interleaveTypedArrays:function(){return R},isMobile:function(){return Sa},isPow2:function(){return Y},isWebGLSupported:function(){return V},log2:function(){return S},nextPow2:function(){return ba},premultiplyBlendMode:function(){return bd},premultiplyRgba:function(){return p},premultiplyTint:function(){return r},premultiplyTintToRgba:function(){return F},removeItems:function(){return qa},rgb2hex:function(){return z},
sayHello:function(){return W},sign:function(){return ma},skipHello:function(){return aa},string2hex:function(){return ea},trimCanvas:function(){return oa},uid:function(){return ta},url:function(){return Mb}});var Yh=setTimeout;A.prototype["catch"]=function(d){return this.then(null,d)};A.prototype.then=function(d,c){var a=new this.constructor(v);G(this,new C(d,c,a));return a};A.prototype["finally"]=function(d){var c=this.constructor;return this.then(function(a){return c.resolve(d()).then(function(){return a})},
function(a){return c.resolve(d()).then(function(){return c.reject(a)})})};A.all=function(d){return new A(function(c,a){function b(h,k){try{if(k&&("object"===typeof k||"function"===typeof k)){var l=k.then;if("function"===typeof l){l.call(k,function(m){b(h,m)},a);return}}e[h]=k;0===--f&&c(e)}catch(m){a(m)}}if(!d||"undefined"===typeof d.length)return a(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(d);if(0===e.length)return c([]);for(var f=e.length,g=0;g<e.length;g++)b(g,
e[g])})};A.allSettled=function(d){return new this(function(c,a){function b(g,h){if(h&&("object"===typeof h||"function"===typeof h)){var k=h.then;if("function"===typeof k){k.call(h,function(l){b(g,l)},function(l){e[g]={status:"rejected",reason:l};0===--f&&c(e)});return}}e[g]={status:"fulfilled",value:h};0===--f&&c(e)}if(!d||"undefined"===typeof d.length)return a(new TypeError(typeof d+" "+d+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(d);if(0===
e.length)return c([]);var f=e.length;for(a=0;a<e.length;a++)b(a,e[a])})};A.resolve=function(d){return d&&"object"===typeof d&&d.constructor===A?d:new A(function(c){c(d)})};A.reject=function(d){return new A(function(c,a){a(d)})};A.race=function(d){return new A(function(c,a){if(!d||"undefined"===typeof d.length)return a(new TypeError("Promise.race accepts an array"));for(var b=0,e=d.length;b<e;b++)A.resolve(d[b]).then(c,a)})};A._immediateFn="function"===typeof setImmediate&&function(d){setImmediate(d)}||
function(d){Yh(d,0)};A._unhandledRejectionFn=function(d){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",d)};var Zh=B(525),$h=B.n(Zh);self.Promise||(self.Promise=A);Object.assign||(Object.assign=$h());Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});if(!self.performance||!self.performance.now){var ai=Date.now();self.performance||(self.performance={});self.performance.now=function(){return Date.now()-ai}}for(var qe=Date.now(),
lg=["ms","moz","webkit","o"],re=0;re<lg.length&&!self.requestAnimationFrame;++re){var se=lg[re];self.requestAnimationFrame=self[se+"RequestAnimationFrame"];self.cancelAnimationFrame=self[se+"CancelAnimationFrame"]||self[se+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(d){if("function"!==typeof d)throw new TypeError(d+"is not a function");var c=Date.now(),a=16+qe-c;0>a&&(a=0);qe=c;return self.setTimeout(function(){qe=Date.now();d(performance.now())},
a)});self.cancelAnimationFrame||(self.cancelAnimationFrame=function(d){return clearTimeout(d)});Math.sign||(Math.sign=function(d){d=Number(d);return 0===d||isNaN(d)?d:0<d?1:-1});Number.isInteger||(Number.isInteger=function(d){return"number"===typeof d&&isFinite(d)&&Math.floor(d)===d});self.ArrayBuffer||(self.ArrayBuffer=Array);self.Float32Array||(self.Float32Array=Array);self.Uint32Array||(self.Uint32Array=Array);self.Uint16Array||(self.Uint16Array=Array);self.Uint8Array||(self.Uint8Array=Array);
self.Int32Array||(self.Int32Array=Array);var te=/iPhone/i,mg=/iPod/i,ng=/iPad/i,og=/\biOS-universal(?:.+)Mac\b/i,ue=/\bAndroid(?:.+)Mobile\b/i,pg=/Android/i,Yb=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oc=/Silk/i,kb=/Windows Phone/i,qg=/\bWindows(?:.+)ARM\b/i,rg=/BlackBerry/i,sg=/BB10/i,tg=/Opera Mini/i,ug=/\b(CriOS|Chrome)(?:.+)Mobile/i,vg=/Mobile(?:.+)Firefox\b/i,wg=function(d){return"undefined"!==typeof d&&"MacIntel"===d.platform&&"number"===typeof d.maxTouchPoints&&1<d.maxTouchPoints&&"undefined"===
typeof MSStream},Sa=function(d){var c={userAgent:"",platform:"",maxTouchPoints:0};d||"undefined"===typeof navigator?"string"===typeof d?c.userAgent=d:d&&d.userAgent&&(c={userAgent:d.userAgent,platform:d.platform,maxTouchPoints:d.maxTouchPoints||0}):c={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};d=c.userAgent;var a=d.split("[FBAN");"undefined"!==typeof a[1]&&(d=a[0]);a=d.split("Twitter");"undefined"!==typeof a[1]&&(d=a[0]);d=M(d);c={apple:{phone:d(te)&&
!d(kb),ipod:d(mg),tablet:!d(te)&&(d(ng)||wg(c))&&!d(kb),universal:d(og),device:(d(te)||d(mg)||d(ng)||d(og)||wg(c))&&!d(kb)},amazon:{phone:d(Yb),tablet:!d(Yb)&&d(Oc),device:d(Yb)||d(Oc)},android:{phone:!d(kb)&&d(Yb)||!d(kb)&&d(ue),tablet:!d(kb)&&!d(Yb)&&!d(ue)&&(d(Oc)||d(pg)),device:!d(kb)&&(d(Yb)||d(Oc)||d(ue)||d(pg))||d(/\bokhttp\b/i)},windows:{phone:d(kb),tablet:d(qg),device:d(kb)||d(qg)},other:{blackberry:d(rg),blackberry10:d(sg),opera:d(tg),firefox:d(vg),chrome:d(ug),device:d(rg)||d(sg)||d(tg)||
d(vg)||d(ug)},any:!1,phone:!1,tablet:!1};c.any=c.apple.device||c.android.device||c.windows.device||c.other.device;c.phone=c.apple.phone||c.android.phone||c.windows.phone;c.tablet=c.apple.tablet||c.android.tablet||c.windows.tablet;return c}(self.navigator),ja={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(d){var c=!0;if(Sa.tablet||Sa.phone){if(Sa.apple.device){var a=navigator.userAgent.match(/OS (\d+)_(\d+)?/);a&&(a=parseInt(a[1],10),11>a&&(c=!1))}Sa.android.device&&
(a=navigator.userAgent.match(/Android\s([0-9.]*)/))&&(a=parseInt(a[1],10),7>a&&(c=!1))}return c?d:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Sa.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Sa.apple.device,
CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},bi=B(520),Xb=B.n(bi),ci=B(106),pe=B.n(ci),ve=B(760),Ya;(function(d){d[d.WEBGL_LEGACY=0]="WEBGL_LEGACY";d[d.WEBGL=1]="WEBGL";d[d.WEBGL2=2]="WEBGL2"})(Ya||(Ya={}));var Vb;(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.WEBGL=1]="WEBGL";d[d.CANVAS=2]="CANVAS"})(Vb||(Vb={}));var ec;(function(d){d[d.COLOR=16384]="COLOR";d[d.DEPTH=256]="DEPTH";d[d.STENCIL=1024]="STENCIL"})(ec||(ec={}));var la;(function(d){d[d.NORMAL=0]="NORMAL";d[d.ADD=1]="ADD";d[d.MULTIPLY=2]="MULTIPLY";
d[d.SCREEN=3]="SCREEN";d[d.OVERLAY=4]="OVERLAY";d[d.DARKEN=5]="DARKEN";d[d.LIGHTEN=6]="LIGHTEN";d[d.COLOR_DODGE=7]="COLOR_DODGE";d[d.COLOR_BURN=8]="COLOR_BURN";d[d.HARD_LIGHT=9]="HARD_LIGHT";d[d.SOFT_LIGHT=10]="SOFT_LIGHT";d[d.DIFFERENCE=11]="DIFFERENCE";d[d.EXCLUSION=12]="EXCLUSION";d[d.HUE=13]="HUE";d[d.SATURATION=14]="SATURATION";d[d.COLOR=15]="COLOR";d[d.LUMINOSITY=16]="LUMINOSITY";d[d.NORMAL_NPM=17]="NORMAL_NPM";d[d.ADD_NPM=18]="ADD_NPM";d[d.SCREEN_NPM=19]="SCREEN_NPM";d[d.NONE=20]="NONE";d[d.SRC_OVER=
0]="SRC_OVER";d[d.SRC_IN=21]="SRC_IN";d[d.SRC_OUT=22]="SRC_OUT";d[d.SRC_ATOP=23]="SRC_ATOP";d[d.DST_OVER=24]="DST_OVER";d[d.DST_IN=25]="DST_IN";d[d.DST_OUT=26]="DST_OUT";d[d.DST_ATOP=27]="DST_ATOP";d[d.ERASE=26]="ERASE";d[d.SUBTRACT=28]="SUBTRACT";d[d.XOR=29]="XOR"})(la||(la={}));var Qa;(function(d){d[d.POINTS=0]="POINTS";d[d.LINES=1]="LINES";d[d.LINE_LOOP=2]="LINE_LOOP";d[d.LINE_STRIP=3]="LINE_STRIP";d[d.TRIANGLES=4]="TRIANGLES";d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Qa||
(Qa={}));var Va;(function(d){d[d.RGBA=6408]="RGBA";d[d.RGB=6407]="RGB";d[d.ALPHA=6406]="ALPHA";d[d.LUMINANCE=6409]="LUMINANCE";d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";d[d.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Va||(Va={}));var sb;(function(d){d[d.TEXTURE_2D=3553]="TEXTURE_2D";d[d.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";d[d.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY";d[d.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";d[d.TEXTURE_CUBE_MAP_NEGATIVE_X=
34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";d[d.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";d[d.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(sb||(sb={}));var za;(function(d){d[d.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";d[d.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";d[d.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";d[d.UNSIGNED_SHORT_4_4_4_4=
32819]="UNSIGNED_SHORT_4_4_4_4";d[d.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";d[d.FLOAT=5126]="FLOAT";d[d.HALF_FLOAT=36193]="HALF_FLOAT"})(za||(za={}));var bb;(function(d){d[d.NEAREST=0]="NEAREST";d[d.LINEAR=1]="LINEAR"})(bb||(bb={}));var jb;(function(d){d[d.CLAMP=33071]="CLAMP";d[d.REPEAT=10497]="REPEAT";d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(jb||(jb={}));var ob;(function(d){d[d.OFF=0]="OFF";d[d.POW2=1]="POW2";d[d.ON=2]="ON";d[d.ON_MANUAL=3]="ON_MANUAL"})(ob||(ob={}));var Za;
(function(d){d[d.NPM=0]="NPM";d[d.UNPACK=1]="UNPACK";d[d.PMA=2]="PMA";d[d.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";d[d.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";d[d.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Za||(Za={}));var hb;(function(d){d[d.NO=0]="NO";d[d.YES=1]="YES";d[d.AUTO=2]="AUTO";d[d.BLEND=0]="BLEND";d[d.CLEAR=1]="CLEAR";d[d.BLIT=2]="BLIT"})(hb||(hb={}));var Hc;(function(d){d[d.AUTO=0]="AUTO";d[d.MANUAL=1]="MANUAL"})(Hc||(Hc={}));var Ta;(function(d){d.LOW="lowp";d.MEDIUM=
"mediump";d.HIGH="highp"})(Ta||(Ta={}));var Ma;(function(d){d[d.NONE=0]="NONE";d[d.SCISSOR=1]="SCISSOR";d[d.STENCIL=2]="STENCIL";d[d.SPRITE=3]="SPRITE"})(Ma||(Ma={}));var Bb;(function(d){d[d.NONE=0]="NONE";d[d.LOW=2]="LOW";d[d.MEDIUM=4]="MEDIUM";d[d.HIGH=8]="HIGH"})(Bb||(Bb={}));var Mb={parse:ve.Qc,format:ve.WU,resolve:ve.DB};ja.RETINA_PREFIX=/@([0-9\.]+)x/;var $c=ja.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Me="6.0.1",ad,ih={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",
azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",
darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",
greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",
lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",
olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",
slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},bd=function(){for(var d=[],c=[],a=0;32>a;a++)d[a]=a,c[a]=a;d[la.NORMAL_NPM]=la.NORMAL;d[la.ADD_NPM]=la.ADD;d[la.SCREEN_NPM]=la.SCREEN;c[la.NORMAL]=la.NORMAL_NPM;c[la.ADD]=la.ADD_NPM;c[la.SCREEN]=
la.SCREEN_NPM;a=[];a.push(c);a.push(d);return a}(),jh={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},wb=0,Ne={},oe={},La=Object.create(null),Pa=Object.create(null),ne=function(){function d(c,a,b){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=b||ja.RESOLUTION;this.resize(c,a)}d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};
d.prototype.resize=function(c,a){this.canvas.width=c*this.resolution;this.canvas.height=a*this.resolution};d.prototype.destroy=function(){this.canvas=this.context=null};Object.defineProperty(d.prototype,"width",{get:function(){return this.canvas.width},set:function(c){this.canvas.width=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return this.canvas.height},set:function(c){this.canvas.height=c},enumerable:!1,configurable:!0});return d}(),Oe=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,
vc,lc=2*Math.PI,Vf=180/Math.PI,Df=Math.PI/180,Ca;(function(d){d[d.POLY=0]="POLY";d[d.RECT=1]="RECT";d[d.CIRC=2]="CIRC";d[d.ELIP=3]="ELIP";d[d.RREC=4]="RREC"})(Ca||(Ca={}));var va=function(){function d(c,a,b,e){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=0);this.x=Number(c);this.y=Number(a);this.width=Number(b);this.height=Number(e);this.type=Ca.RECT}Object.defineProperty(d.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0});Object.defineProperty(d,"EMPTY",{get:function(){return new d(0,0,0,0)},enumerable:!1,configurable:!0});d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copyFrom=
function(c){this.x=c.x;this.y=c.y;this.width=c.width;this.height=c.height;return this};d.prototype.copyTo=function(c){c.x=this.x;c.y=this.y;c.width=this.width;c.height=this.height;return c};d.prototype.contains=function(c,a){return 0>=this.width||0>=this.height?!1:c>=this.x&&c<this.x+this.width&&a>=this.y&&a<this.y+this.height?!0:!1};d.prototype.pad=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.x-=c;this.y-=a;this.width+=2*c;this.height+=2*a;return this};d.prototype.fit=function(c){var a=
Math.max(this.x,c.x),b=Math.min(this.x+this.width,c.x+c.width),e=Math.max(this.y,c.y);c=Math.min(this.y+this.height,c.y+c.height);this.x=a;this.width=Math.max(b-a,0);this.y=e;this.height=Math.max(c-e,0);return this};d.prototype.ceil=function(c,a){void 0===c&&(c=1);void 0===a&&(a=.001);var b=Math.ceil((this.x+this.width-a)*c)/c,e=Math.ceil((this.y+this.height-a)*c)/c;this.x=Math.floor((this.x+a)*c)/c;this.y=Math.floor((this.y+a)*c)/c;this.width=b-this.x;this.height=e-this.y;return this};d.prototype.enlarge=
function(c){var a=Math.min(this.x,c.x),b=Math.max(this.x+this.width,c.x+c.width),e=Math.min(this.y,c.y);c=Math.max(this.y+this.height,c.y+c.height);this.x=a;this.width=b-a;this.y=e;this.height=c-e;return this};d.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"};return d}(),zf=function(){function d(c,a,b){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);this.x=c;this.y=a;this.radius=b;this.type=Ca.CIRC}d.prototype.clone=
function(){return new d(this.x,this.y,this.radius)};d.prototype.contains=function(c,a){if(0>=this.radius)return!1;c=this.x-c;a=this.y-a;return c*c+a*a<=this.radius*this.radius};d.prototype.getBounds=function(){return new va(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};d.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"};return d}(),Ef=function(){function d(c,a,b,e){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);
void 0===e&&(e=0);this.x=c;this.y=a;this.width=b;this.height=e;this.type=Ca.ELIP}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.contains=function(c,a){if(0>=this.width||0>=this.height)return!1;c=(c-this.x)/this.width;a=(a-this.y)/this.height;return 1>=c*c+a*a};d.prototype.getBounds=function(){return new va(this.x-this.width,this.y-this.height,this.width,this.height)};d.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+
this.width+" height="+this.height+"]"};return d}(),mc=function(){function d(){for(var c=arguments,a=[],b=0;b<arguments.length;b++)a[b]=c[b];c=Array.isArray(a[0])?a[0]:a;if("number"!==typeof c[0]){a=[];b=0;for(var e=c.length;b<e;b++)a.push(c[b].x,c[b].y);c=a}this.points=c;this.type=Ca.POLY;this.closeStroke=!0}d.prototype.clone=function(){var c=this.points.slice();c=new d(c);c.closeStroke=this.closeStroke;return c};d.prototype.contains=function(c,a){for(var b=!1,e=this.points.length/2,f=0,g=e-1;f<e;g=
f++){var h=this.points[2*f],k=this.points[2*f+1],l=this.points[2*g];g=this.points[2*g+1];k>a!==g>a&&c<(a-k)/(g-k)*(l-h)+h&&(b=!b)}return b};d.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+("points="+this.points.reduce(function(c,a){return c+", "+a},"")+"]")};return d}(),Yf=function(){function d(c,a,b,e,f){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=0);void 0===f&&(f=20);this.x=c;this.y=a;this.width=b;this.height=e;this.radius=f;this.type=
Ca.RREC}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height,this.radius)};d.prototype.contains=function(c,a){if(0>=this.width||0>=this.height)return!1;if(c>=this.x&&c<=this.x+this.width&&a>=this.y&&a<=this.y+this.height){if(a>=this.y+this.radius&&a<=this.y+this.height-this.radius||c>=this.x+this.radius&&c<=this.x+this.width-this.radius)return!0;var b=c-(this.x+this.radius),e=a-(this.y+this.radius),f=this.radius*this.radius;if(b*b+e*e<=f)return!0;b=c-(this.x+this.width-this.radius);
if(b*b+e*e<=f)return!0;e=a-(this.y+this.height-this.radius);if(b*b+e*e<=f)return!0;b=c-(this.x+this.radius);if(b*b+e*e<=f)return!0}return!1};d.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")};return d}(),Da=function(){function d(c,a){void 0===c&&(c=0);void 0===a&&(a=0);this.x=c;this.y=a}d.prototype.clone=function(){return new d(this.x,this.y)};d.prototype.copyFrom=function(c){this.set(c.x,
c.y);return this};d.prototype.copyTo=function(c){c.set(this.x,this.y);return c};d.prototype.equals=function(c){return c.x===this.x&&c.y===this.y};d.prototype.set=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.x=c;this.y=a;return this};d.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"};return d}(),Cb=function(){function d(c,a,b,e){void 0===b&&(b=0);void 0===e&&(e=0);this._x=b;this._y=e;this.cb=c;this.scope=a}d.prototype.clone=function(c,a){void 0===c&&(c=
this.cb);void 0===a&&(a=this.scope);return new d(c,a,this._x,this._y)};d.prototype.set=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);if(this._x!==c||this._y!==a)this._x=c,this._y=a,this.cb.call(this.scope);return this};d.prototype.copyFrom=function(c){if(this._x!==c.x||this._y!==c.y)this._x=c.x,this._y=c.y,this.cb.call(this.scope);return this};d.prototype.copyTo=function(c){c.set(this._x,this._y);return c};d.prototype.equals=function(c){return c.x===this._x&&c.y===this._y};d.prototype.toString=
function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"};Object.defineProperty(d.prototype,"x",{get:function(){return this._x},set:function(c){this._x!==c&&(this._x=c,this.cb.call(this.scope))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this._y},set:function(c){this._y!==c&&(this._y=c,this.cb.call(this.scope))},enumerable:!1,configurable:!0});return d}(),Fa=function(){function d(c,a,b,e,f,g){void 0===c&&(c=1);void 0===a&&(a=0);
void 0===b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=0);void 0===g&&(g=0);this.array=null;this.a=c;this.b=a;this.c=b;this.d=e;this.tx=f;this.ty=g}d.prototype.fromArray=function(c){this.a=c[0];this.b=c[1];this.c=c[3];this.d=c[4];this.tx=c[2];this.ty=c[5]};d.prototype.set=function(c,a,b,e,f,g){this.a=c;this.b=a;this.c=b;this.d=e;this.tx=f;this.ty=g;return this};d.prototype.toArray=function(c,a){this.array||(this.array=new Float32Array(9));a=a||this.array;c?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,
a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a};d.prototype.apply=function(c,a){a=a||new Da;var b=c.x;c=c.y;a.x=this.a*b+this.c*c+this.tx;a.y=this.b*b+this.d*c+this.ty;return a};d.prototype.applyInverse=function(c,a){a=a||new Da;var b=1/(this.a*this.d+this.c*-this.b),e=c.x;c=c.y;a.x=this.d*b*e+-this.c*b*c+(this.ty*this.c-this.tx*this.d)*b;a.y=this.a*b*c+-this.b*b*e+(-this.ty*this.a+this.tx*this.b)*
b;return a};d.prototype.translate=function(c,a){this.tx+=c;this.ty+=a;return this};d.prototype.scale=function(c,a){this.a*=c;this.d*=a;this.c*=c;this.b*=a;this.tx*=c;this.ty*=a;return this};d.prototype.rotate=function(c){var a=Math.cos(c);c=Math.sin(c);var b=this.a,e=this.c,f=this.tx;this.a=b*a-this.b*c;this.b=b*c+this.b*a;this.c=e*a-this.d*c;this.d=e*c+this.d*a;this.tx=f*a-this.ty*c;this.ty=f*c+this.ty*a;return this};d.prototype.append=function(c){var a=this.a,b=this.b,e=this.c,f=this.d;this.a=c.a*
a+c.b*e;this.b=c.a*b+c.b*f;this.c=c.c*a+c.d*e;this.d=c.c*b+c.d*f;this.tx=c.tx*a+c.ty*e+this.tx;this.ty=c.tx*b+c.ty*f+this.ty;return this};d.prototype.setTransform=function(c,a,b,e,f,g,h,k,l){this.a=Math.cos(h+l)*f;this.b=Math.sin(h+l)*f;this.c=-Math.sin(h-k)*g;this.d=Math.cos(h-k)*g;this.tx=c-(b*this.a+e*this.c);this.ty=a-(b*this.b+e*this.d);return this};d.prototype.prepend=function(c){var a=this.tx;if(1!==c.a||0!==c.b||0!==c.c||1!==c.d){var b=this.a,e=this.c;this.a=b*c.a+this.b*c.c;this.b=b*c.b+
this.b*c.d;this.c=e*c.a+this.d*c.c;this.d=e*c.b+this.d*c.d}this.tx=a*c.a+this.ty*c.c+c.tx;this.ty=a*c.b+this.ty*c.d+c.ty;return this};d.prototype.decompose=function(c){var a=this.a,b=this.b,e=this.c,f=this.d,g=c.pivot,h=-Math.atan2(-e,f),k=Math.atan2(b,a),l=Math.abs(h+k);1E-5>l||1E-5>Math.abs(lc-l)?(c.rotation=k,c.skew.x=c.skew.y=0):(c.rotation=0,c.skew.x=h,c.skew.y=k);c.scale.x=Math.sqrt(a*a+b*b);c.scale.y=Math.sqrt(e*e+f*f);c.position.x=this.tx+(g.x*a+g.y*e);c.position.y=this.ty+(g.x*b+g.y*f);return c};
d.prototype.invert=function(){var c=this.a,a=this.b,b=this.c,e=this.d,f=this.tx,g=c*e-a*b;this.a=e/g;this.b=-a/g;this.c=-b/g;this.d=c/g;this.tx=(b*this.ty-e*f)/g;this.ty=-(c*this.ty-a*f)/g;return this};d.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};d.prototype.clone=function(){var c=new d;c.a=this.a;c.b=this.b;c.c=this.c;c.d=this.d;c.tx=this.tx;c.ty=this.ty;return c};d.prototype.copyTo=function(c){c.a=this.a;c.b=this.b;c.c=this.c;c.d=this.d;c.tx=this.tx;
c.ty=this.ty;return c};d.prototype.copyFrom=function(c){this.a=c.a;this.b=c.b;this.c=c.c;this.d=c.d;this.tx=c.tx;this.ty=c.ty;return this};d.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"};Object.defineProperty(d,"IDENTITY",{get:function(){return new d},enumerable:!1,configurable:!0});Object.defineProperty(d,"TEMP_MATRIX",{get:function(){return new d},enumerable:!1,configurable:!0});return d}(),Eb=[1,1,0,
-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Fb=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Gb=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Hb=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],we=[],xg=[],Pc=Math.sign;(function(){for(var d=0;16>d;d++){var c=[];we.push(c);for(var a=0;16>a;a++)for(var b=Pc(Eb[d]*Eb[a]+Gb[d]*Fb[a]),e=Pc(Fb[d]*Eb[a]+Hb[d]*Fb[a]),f=Pc(Eb[d]*Gb[a]+Gb[d]*Hb[a]),g=Pc(Fb[d]*Gb[a]+Hb[d]*Hb[a]),h=0;16>h;h++)if(Eb[h]===b&&Fb[h]===e&&Gb[h]===f&&Hb[h]===g){c.push(h);break}}for(d=0;16>d;d++)c=new Fa,c.set(Eb[d],
Fb[d],Gb[d],Hb[d],0,0),xg.push(c)})();var Aa={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(d){return Eb[d]},uY:function(d){return Fb[d]},vX:function(d){return Gb[d]},vY:function(d){return Hb[d]},inv:function(d){return d&8?d&15:-d&7},add:function(d,c){return we[d][c]},sub:function(d,c){return we[d][Aa.inv(c)]},rotate180:function(d){return d^4},isVertical:function(d){return 2===(d&3)},byDirection:function(d,c){return 2*Math.abs(d)<=
Math.abs(c)?0<=c?Aa.S:Aa.N:2*Math.abs(c)<=Math.abs(d)?0<d?Aa.E:Aa.W:0<c?0<d?Aa.SE:Aa.SW:0<d?Aa.NE:Aa.NW},matrixAppendRotationInv:function(d,c,a,b){void 0===a&&(a=0);void 0===b&&(b=0);c=xg[Aa.inv(c)];c.tx=a;c.ty=b;d.append(c)}},je=function(){function d(){this.worldTransform=new Fa;this.localTransform=new Fa;this.position=new Cb(this.onChange,this,0,0);this.scale=new Cb(this.onChange,this,1,1);this.pivot=new Cb(this.onChange,this,0,0);this.skew=new Cb(this.updateSkew,this,0,0);this._rotation=0;this._cx=
1;this._cy=this._sx=0;this._sy=1;this._parentID=this._worldID=this._currentLocalID=this._localID=0}d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++};d.prototype.toString=function(){return"[@pixi/math:Transform position=("+(this.position.x+", "+this.position.y+") rotation=")+
(this.rotation+" scale=(")+(this.scale.x+", "+this.scale.y+") skew=(")+(this.skew.x+", "+this.skew.y+") ]")};d.prototype.updateLocalTransform=function(){var c=this.localTransform;this._localID!==this._currentLocalID&&(c.a=this._cx*this.scale.x,c.b=this._sx*this.scale.x,c.c=this._cy*this.scale.y,c.d=this._sy*this.scale.y,c.tx=this.position.x-(this.pivot.x*c.a+this.pivot.y*c.c),c.ty=this.position.y-(this.pivot.x*c.b+this.pivot.y*c.d),this._currentLocalID=this._localID,this._parentID=-1)};d.prototype.updateTransform=
function(c){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale.x,a.b=this._sx*this.scale.x,a.c=this._cy*this.scale.y,a.d=this._sy*this.scale.y,a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c),a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==c._worldID){var b=c.worldTransform,e=this.worldTransform;e.a=a.a*b.a+a.b*b.c;e.b=a.a*b.b+a.b*b.d;e.c=a.c*b.a+a.d*b.c;e.d=a.c*b.b+a.d*
b.d;e.tx=a.tx*b.a+a.ty*b.c+b.tx;e.ty=a.tx*b.b+a.ty*b.d+b.ty;this._parentID=c._worldID;this._worldID++}};d.prototype.setFromMatrix=function(c){c.decompose(this);this._localID++};Object.defineProperty(d.prototype,"rotation",{get:function(){return this._rotation},set:function(c){this._rotation!==c&&(this._rotation=c,this.updateSkew())},enumerable:!1,configurable:!0});d.IDENTITY=new d;return d}();ja.SORTABLE_CHILDREN=!1;var gc=function(){function d(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;
this.rect=null;this.updateID=-1}d.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};d.prototype.clear=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};d.prototype.getRectangle=function(c){if(this.minX>this.maxX||this.minY>this.maxY)return va.EMPTY;c=c||new va(0,0,1,1);c.x=this.minX;c.y=this.minY;c.width=this.maxX-this.minX;c.height=this.maxY-this.minY;return c};d.prototype.addPoint=function(c){this.minX=Math.min(this.minX,c.x);this.maxX=Math.max(this.maxX,
c.x);this.minY=Math.min(this.minY,c.y);this.maxY=Math.max(this.maxY,c.y)};d.prototype.addPointMatrix=function(c,a){var b=c.a*a.x+c.c*a.y+c.tx;c=c.b*a.x+c.d*a.y+c.ty;this.minX=Math.min(this.minX,b);this.maxX=Math.max(this.maxX,b);this.minY=Math.min(this.minY,c);this.maxY=Math.max(this.maxY,c)};d.prototype.addQuad=function(c){var a=this.minX,b=this.minY,e=this.maxX,f=this.maxY,g=c[0],h=c[1];a=g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[2];h=c[3];a=g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[4];h=c[5];a=
g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[6];h=c[7];this.minX=g<a?g:a;this.minY=h<b?h:b;this.maxX=g>e?g:e;this.maxY=h>f?h:f};d.prototype.addFrame=function(c,a,b,e,f){this.addFrameMatrix(c.worldTransform,a,b,e,f)};d.prototype.addFrameMatrix=function(c,a,b,e,f){var g=c.a,h=c.b,k=c.c,l=c.d,m=c.tx;c=c.ty;var n=this.minX,q=this.minY,y=this.maxX,E=this.maxY,N=g*a+k*b+m,U=h*a+l*b+c;n=N<n?N:n;q=U<q?U:q;y=N>y?N:y;E=U>E?U:E;N=g*e+k*b+m;U=h*e+l*b+c;n=N<n?N:n;q=U<q?U:q;y=N>y?N:y;E=U>E?U:E;N=g*a+k*f+m;U=h*a+l*
f+c;n=N<n?N:n;q=U<q?U:q;y=N>y?N:y;E=U>E?U:E;N=g*e+k*f+m;U=h*e+l*f+c;this.minX=N<n?N:n;this.minY=U<q?U:q;this.maxX=N>y?N:y;this.maxY=U>E?U:E};d.prototype.addVertexData=function(c,a,b){for(var e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;a<b;a+=2){var k=c[a],l=c[a+1];e=k<e?k:e;f=l<f?l:f;g=k>g?k:g;h=l>h?l:h}this.minX=e;this.minY=f;this.maxX=g;this.maxY=h};d.prototype.addVertices=function(c,a,b,e){this.addVerticesMatrix(c.worldTransform,a,b,e)};d.prototype.addVerticesMatrix=function(c,a,b,e,f,g){void 0===
f&&(f=0);void 0===g&&(g=f);var h=c.a,k=c.b,l=c.c,m=c.d,n=c.tx;c=c.ty;for(var q=this.minX,y=this.minY,E=this.maxX,N=this.maxY;b<e;b+=2){var U=a[b],ka=a[b+1],fa=h*U+l*ka+n;U=m*ka+k*U+c;q=Math.min(q,fa-f);E=Math.max(E,fa+f);y=Math.min(y,U-g);N=Math.max(N,U+g)}this.minX=q;this.minY=y;this.maxX=E;this.maxY=N};d.prototype.addBounds=function(c){var a=this.minX,b=this.minY,e=this.maxX,f=this.maxY;this.minX=c.minX<a?c.minX:a;this.minY=c.minY<b?c.minY:b;this.maxX=c.maxX>e?c.maxX:e;this.maxY=c.maxY>f?c.maxY:
f};d.prototype.addBoundsMask=function(c,a){var b=c.minX>a.minX?c.minX:a.minX,e=c.minY>a.minY?c.minY:a.minY,f=c.maxX<a.maxX?c.maxX:a.maxX;c=c.maxY<a.maxY?c.maxY:a.maxY;if(b<=f&&e<=c){a=this.minX;var g=this.minY,h=this.maxX,k=this.maxY;this.minX=b<a?b:a;this.minY=e<g?e:g;this.maxX=f>h?f:h;this.maxY=c>k?c:k}};d.prototype.addBoundsMatrix=function(c,a){this.addFrameMatrix(a,c.minX,c.minY,c.maxX,c.maxY)};d.prototype.addBoundsArea=function(c,a){var b=c.minX>a.x?c.minX:a.x,e=c.minY>a.y?c.minY:a.y,f=c.maxX<
a.x+a.width?c.maxX:a.x+a.width;c=c.maxY<a.y+a.height?c.maxY:a.y+a.height;if(b<=f&&e<=c){a=this.minX;var g=this.minY,h=this.maxX,k=this.maxY;this.minX=b<a?b:a;this.minY=e<g?e:g;this.maxX=f>h?f:h;this.maxY=c>k?c:k}};d.prototype.pad=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.isEmpty()||(this.minX-=c,this.maxX+=c,this.minY-=a,this.maxY+=a)};d.prototype.addFramePad=function(c,a,b,e,f,g){c-=f;a-=g;b+=f;e+=g;this.minX=this.minX<c?this.minX:c;this.maxX=this.maxX>b?this.maxX:b;this.minY=this.minY<
a?this.minY:a;this.maxY=this.maxY>e?this.maxY:e};return d}(),dd=function(d,c){dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return dd(d,c)},Ea=function(d){function c(){var a=d.call(this)||this;a.tempDisplayObjectParent=null;a.transform=new je;a.alpha=1;a.visible=!0;a.renderable=!0;a.parent=null;a.worldAlpha=1;a._lastSortedIndex=0;a._zIndex=0;a.filterArea=null;a.filters=null;a._enabledFilters=null;
a._bounds=new gc;a._localBounds=null;a._boundsID=0;a._boundsRect=null;a._localBoundsRect=null;a._mask=null;a._destroyed=!1;a.isSprite=!1;a.isMask=!1;return a}cd(c,d);c.mixin=function(a){for(var b=Object.keys(a),e=0;e<b.length;++e){var f=b[e];Object.defineProperty(c.prototype,f,Object.getOwnPropertyDescriptor(a,f))}};c.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};
c.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha};c.prototype.getBounds=function(a,b){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID);b||(this._boundsRect||(this._boundsRect=
new va),b=this._boundsRect);return this._bounds.getRectangle(b)};c.prototype.getLocalBounds=function(a){a||(this._localBoundsRect||(this._localBoundsRect=new va),a=this._localBoundsRect);this._localBounds||(this._localBounds=new gc);var b=this.transform,e=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;var f=this._bounds,g=this._boundsID;this._bounds=this._localBounds;a=this.getBounds(!1,a);this.parent=e;this.transform=b;this._bounds=f;this._bounds.updateID+=this._boundsID-
g;return a};c.prototype.toGlobal=function(a,b,e){void 0===e&&(e=!1);e||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,b)};c.prototype.toLocal=function(a,b,e,f){b&&(a=b.toGlobal(a,e,f));f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,e)};c.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};c.prototype.setTransform=function(a,b,e,f,g,h,k,l,m){void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=1);void 0===g&&(g=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);this.position.x=a;this.position.y=b;this.scale.x=e?e:1;this.scale.y=f?f:1;this.rotation=
g;this.skew.x=h;this.skew.y=k;this.pivot.x=l;this.pivot.y=m;return this};c.prototype.destroy=function(a){this.parent&&this.parent.removeChild(this);this.removeAllListeners();this.hitArea=this.filterArea=this.filters=this._mask=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1;this._destroyed=!0};Object.defineProperty(c.prototype,"_tempDisplayObjectParent",{get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new fe);return this.tempDisplayObjectParent},
enumerable:!1,configurable:!0});c.prototype.enableTempParent=function(){var a=this.parent;this.parent=this._tempDisplayObjectParent;return a};c.prototype.disableTempParent=function(a){this.parent=a};Object.defineProperty(c.prototype,"x",{get:function(){return this.position.x},set:function(a){this.transform.position.x=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"y",{get:function(){return this.position.y},set:function(a){this.transform.position.y=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this.transform.position},set:function(a){this.transform.position.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"scale",{get:function(){return this.transform.scale},
set:function(a){this.transform.scale.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"skew",{get:function(){return this.transform.skew},set:function(a){this.transform.skew.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rotation",{get:function(){return this.transform.rotation},
set:function(a){this.transform.rotation=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"angle",{get:function(){return this.transform.rotation*Vf},set:function(a){this.transform.rotation=a*Df},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"zIndex",{get:function(){return this._zIndex},set:function(a){this._zIndex=a;this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"worldVisible",{get:function(){var a=
this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"mask",{get:function(){return this._mask},set:function(a){if(this._mask){var b=this._mask.maskObject||this._mask;b.renderable=!0;b.isMask=!1}if(this._mask=a)b=this._mask.maskObject||this._mask,b.renderable=!1,b.isMask=!0},enumerable:!1,configurable:!0});return c}(Xb()),fe=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.sortDirty=null;return a}cd(c,
d);return c}(Ea);Ea.prototype.displayObjectUpdateTransform=Ea.prototype.updateTransform;var Ua=function(d){function c(){var a=d.call(this)||this;a.children=[];a.sortableChildren=ja.SORTABLE_CHILDREN;a.sortDirty=!1;return a}cd(c,d);c.prototype.onChildrenChange=function(a){};c.prototype.addChild=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];if(1<b.length)for(a=0;a<b.length;a++)this.addChild(b[a]);else a=b[0],a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,
a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this);return b[0]};c.prototype.addChildAt=function(a,b){if(0>b||b>this.children.length)throw Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;this.sortDirty=!0;a.transform._parentID=-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);
a.emit("added",this);this.emit("childAdded",a,this,b);return a};c.prototype.swapChildren=function(a,b){if(a!==b){var e=this.getChildIndex(a),f=this.getChildIndex(b);this.children[e]=b;this.children[f]=a;this.onChildrenChange(e<f?e:f)}};c.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");return a};c.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw Error("The index "+b+" supplied is out of bounds "+
this.children.length);var e=this.getChildIndex(a);qa(this.children,e,1);this.children.splice(b,0,a);this.onChildrenChange(b)};c.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};c.prototype.removeChild=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];if(1<b.length)for(a=0;a<b.length;a++)this.removeChild(b[a]);else{a=b[0];e=this.children.indexOf(a);if(-1===e)return null;a.parent=
null;a.transform._parentID=-1;qa(this.children,e,1);this._boundsID++;this.onChildrenChange(e);a.emit("removed",this);this.emit("childRemoved",a,this,e)}return b[0]};c.prototype.removeChildAt=function(a){var b=this.getChildAt(a);b.parent=null;b.transform._parentID=-1;qa(this.children,a,1);this._boundsID++;this.onChildrenChange(a);b.emit("removed",this);this.emit("childRemoved",b,this,a);return b};c.prototype.removeChildren=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.children.length);var e=
a,f=b-e;if(0<f&&f<=b){e=this.children.splice(e,f);for(b=0;b<e.length;++b)e[b].parent=null,e[b].transform&&(e[b].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(b=0;b<e.length;++b)e[b].emit("removed",this),this.emit("childRemoved",e[b],this,b);return e}if(0===f&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};c.prototype.sortChildren=function(){for(var a=!1,b=0,e=this.children.length;b<e;++b){var f=this.children[b];
f._lastSortedIndex=b;a||0===f.zIndex||(a=!0)}a&&1<this.children.length&&this.children.sort(kh);this.sortDirty=!1};c.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren();this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var e=this.children[a];e.visible&&e.updateTransform()}};c.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();
for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b.visible&&b.renderable)if(b.calculateBounds(),b._mask){var e=b._mask.maskObject||b._mask;e.calculateBounds();this._bounds.addBoundsMask(b._bounds,e._bounds)}else b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds)}this._bounds.updateID=this._boundsID};c.prototype.getLocalBounds=function(a,b){void 0===b&&(b=!1);a=d.prototype.getLocalBounds.call(this,a);if(!b){b=0;for(var e=this.children.length;b<
e;++b){var f=this.children[b];f.visible&&f.updateTransform()}}return a};c.prototype._calculateBounds=function(){};c.prototype.render=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(a);else{this._render(a);for(var b=0,e=this.children.length;b<e;++b)this.children[b].render(a)}};c.prototype.renderAdvanced=function(a){a.batch.flush();var b=this.filters,e=this._mask;if(b){this._enabledFilters||(this._enabledFilters=
[]);for(var f=this._enabledFilters.length=0;f<b.length;f++)b[f].enabled&&this._enabledFilters.push(b[f]);this._enabledFilters.length&&a.filter.push(this,this._enabledFilters)}e&&a.mask.push(this,this._mask);this._render(a);f=0;for(var g=this.children.length;f<g;f++)this.children[f].render(a);a.batch.flush();e&&a.mask.pop(this);b&&this._enabledFilters&&this._enabledFilters.length&&a.filter.pop()};c.prototype._render=function(a){};c.prototype.destroy=function(a){d.prototype.destroy.call(this);this.sortDirty=
!1;var b="boolean"===typeof a?a:a&&a.children,e=this.removeChildren(0,this.children.length);if(b)for(b=0;b<e.length;++b)e[b].destroy(a)};Object.defineProperty(c.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;
this.scale.y=0!==b?a/b:1;this._height=a},enumerable:!1,configurable:!0});return c}(Ea);Ua.prototype.containerUpdateTransform=Ua.prototype.updateTransform;var gg={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ea.mixin(gg);var rf=function(){function d(c){this._isMobileAccessibility=this._isActive=this.debug=!1;this.pool=[];this.renderId=0;this.children=
[];this.androidUpdateCount=0;this.androidUpdateFrequency=500;this._hookDiv=null;(Sa.tablet||Sa.phone)&&this.createTouchHook();var a=document.createElement("div");a.style.width="100px";a.style.height="100px";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.zIndex=(2).toString();this.div=a;this.renderer=c;this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);self.addEventListener("keydown",this._onKeyDown,!1)}Object.defineProperty(d.prototype,
"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0});d.prototype.createTouchHook=function(){var c=this,a=document.createElement("button");a.style.width="1px";a.style.height="1px";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";a.style.zIndex=(2).toString();a.style.backgroundColor="#FF0000";a.title="select to enable accessibility for this content";
a.addEventListener("focus",function(){c._isMobileAccessibility=!0;c.activate();c.destroyTouchHook()});document.body.appendChild(a);this._hookDiv=a};d.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)};d.prototype.activate=function(){var c;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,
this),null===(c=this.renderer.view.parentNode)||void 0===c?void 0:c.appendChild(this.div))};d.prototype.deactivate=function(){var c;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(c=this.div.parentNode)||void 0===c?void 0:c.removeChild(this.div))};d.prototype.updateAccessibleObjects=function(c){if(c.visible&&c.accessibleChildren){c.accessible&&
c.interactive&&(c._accessibleActive||this.addChild(c),c.renderId=this.renderId);c=c.children;for(var a=0;a<c.length;a++)this.updateAccessibleObjects(c[a])}};d.prototype.update=function(){var c=performance.now();if(!(Sa.android.device&&c<this.androidUpdateCount)&&(this.androidUpdateCount=c+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),b=
a.top;c=this.renderer;var e=c.width,f=c.height,g=c.resolution;c=a.width/e*g;g*=a.height/f;var h=this.div;h.style.left=a.left+"px";h.style.top=b+"px";h.style.width=e+"px";h.style.height=f+"px";for(a=0;a<this.children.length;a++)if(b=this.children[a],b.renderId!==this.renderId)b._accessibleActive=!1,qa(this.children,a,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,a--;else if(h=b._accessibleDiv,e=b.hitArea,f=b.worldTransform,b.hitArea?(h.style.left=
(f.tx+e.x*f.a)*c+"px",h.style.top=(f.ty+e.y*f.d)*g+"px",h.style.width=e.width*f.a*c+"px",h.style.height=e.height*f.d*g+"px"):(e=b.getBounds(),this.capHitArea(e),h.style.left=e.x*c+"px",h.style.top=e.y*g+"px",h.style.width=e.width*c+"px",h.style.height=e.height*g+"px",h.title!==b.accessibleTitle&&null!==b.accessibleTitle&&(h.title=b.accessibleTitle),h.getAttribute("aria-label")!==b.accessibleHint&&null!==b.accessibleHint&&h.setAttribute("aria-label",b.accessibleHint)),b.accessibleTitle!==h.title||
b.tabIndex!==h.tabIndex)h.title=b.accessibleTitle,h.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(h);this.renderId++}};d.prototype.updateDebugHTML=function(c){c.innerHTML="type: "+c.type+"</br> title : "+c.title+"</br> tabIndex: "+c.tabIndex};d.prototype.capHitArea=function(c){0>c.x&&(c.width+=c.x,c.x=0);0>c.y&&(c.height+=c.y,c.y=0);var a=this.renderer,b=a.width;a=a.height;c.x+c.width>b&&(c.width=b-c.x);c.y+c.height>a&&(c.height=a-c.y)};d.prototype.addChild=function(c){var a=this.pool.pop();
a||(a=document.createElement("button"),a.style.width="100px",a.style.height="100px",a.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=(2).toString(),a.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?a.setAttribute("aria-live","off"):a.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?a.setAttribute("aria-relevant","additions"):a.setAttribute("aria-relevant","text"),a.addEventListener("click",
this._onClick.bind(this)),a.addEventListener("focus",this._onFocus.bind(this)),a.addEventListener("focusout",this._onFocusOut.bind(this)));a.style.pointerEvents=c.accessiblePointerEvents;a.type=c.accessibleType;c.accessibleTitle&&null!==c.accessibleTitle?a.title=c.accessibleTitle:c.accessibleHint&&null!==c.accessibleHint||(a.title="displayObject "+c.tabIndex);c.accessibleHint&&null!==c.accessibleHint&&a.setAttribute("aria-label",c.accessibleHint);this.debug&&this.updateDebugHTML(a);c._accessibleActive=
!0;c._accessibleDiv=a;a.displayObject=c;this.children.push(c);this.div.appendChild(c._accessibleDiv);c._accessibleDiv.tabIndex=c.tabIndex};d.prototype._onClick=function(c){var a=this.renderer.plugins.interaction;c=c.target.displayObject;var b=a.eventData;a.dispatchEvent(c,"click",b);a.dispatchEvent(c,"pointertap",b);a.dispatchEvent(c,"tap",b)};d.prototype._onFocus=function(c){c.target.getAttribute("aria-live")||c.target.setAttribute("aria-live","assertive");var a=this.renderer.plugins.interaction;
a.dispatchEvent(c.target.displayObject,"mouseover",a.eventData)};d.prototype._onFocusOut=function(c){c.target.getAttribute("aria-live")||c.target.setAttribute("aria-live","polite");var a=this.renderer.plugins.interaction;a.dispatchEvent(c.target.displayObject,"mouseout",a.eventData)};d.prototype._onKeyDown=function(c){9===c.keyCode&&this.activate()};d.prototype._onMouseMove=function(c){0===c.movementX&&0===c.movementY||this.deactivate()};d.prototype.destroy=function(){this.destroyTouchHook();this.div=
null;self.document.removeEventListener("mousemove",this._onMouseMove,!0);self.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return d}();ja.TARGET_FPMS=.06;var cb;(function(d){d[d.INTERACTION=50]="INTERACTION";d[d.HIGH=25]="HIGH";d[d.NORMAL=0]="NORMAL";d[d.LOW=-25]="LOW";d[d.UTILITY=-50]="UTILITY"})(cb||(cb={}));var xe=function(){function d(c,a,b,e){void 0===a&&(a=null);void 0===b&&(b=0);void 0===e&&(e=!1);this.previous=this.next=null;this._destroyed=!1;
this.fn=c;this.context=a;this.priority=b;this.once=e}d.prototype.match=function(c,a){void 0===a&&(a=null);return this.fn===c&&this.context===a};d.prototype.emit=function(c){this.fn&&(this.context?this.fn.call(this.context,c):this.fn(c));c=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return c};d.prototype.connect=function(c){this.previous=c;c.next&&(c.next.previous=this);this.next=c.next;c.next=this};d.prototype.destroy=function(c){void 0===c&&(c=!1);this._destroyed=!0;this.context=
this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var a=this.next;this.next=c?null:a;this.previous=null;return a};return d}(),Ia=function(){function d(){var c=this;this.autoStart=!1;this.deltaTime=1;this.lastTime=-1;this.speed=1;this.started=!1;this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this._protected=!1;this._lastFrame=-1;this._head=new xe(null,null,Infinity);this.deltaMS=1/ja.TARGET_FPMS;this.elapsedMS=1/ja.TARGET_FPMS;
this._tick=function(a){c._requestId=null;c.started&&(c.update(a),c.started&&null===c._requestId&&c._head.next&&(c._requestId=requestAnimationFrame(c._tick)))}}d.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this._lastFrame=this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};d.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};d.prototype._startIfPossible=function(){this.started?
this._requestIfNeeded():this.autoStart&&this.start()};d.prototype.add=function(c,a,b){void 0===b&&(b=cb.NORMAL);return this._addListener(new xe(c,a,b))};d.prototype.addOnce=function(c,a,b){void 0===b&&(b=cb.NORMAL);return this._addListener(new xe(c,a,b,!0))};d.prototype._addListener=function(c){var a=this._head.next,b=this._head;if(a){for(;a;){if(c.priority>a.priority){c.connect(b);break}b=a;a=a.next}c.previous||c.connect(b)}else c.connect(b);this._startIfPossible();return this};d.prototype.remove=
function(c,a){for(var b=this._head.next;b;)b=b.match(c,a)?b.destroy():b.next;this._head.next||this._cancelIfNeeded();return this};Object.defineProperty(d.prototype,"count",{get:function(){if(!this._head)return 0;for(var c=0,a=this._head;a=a.next;)c++;return c},enumerable:!1,configurable:!0});d.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};d.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};d.prototype.destroy=function(){if(!this._protected){this.stop();
for(var c=this._head.next;c;)c=c.destroy(!0);this._head.destroy();this._head=null}};d.prototype.update=function(c){void 0===c&&(c=performance.now());if(c>this.lastTime){var a=this.elapsedMS=c-this.lastTime;a>this._maxElapsedMS&&(a=this._maxElapsedMS);a*=this.speed;if(this._minElapsedMS){var b=c-this._lastFrame|0;if(b<this._minElapsedMS)return;this._lastFrame=c-b%this._minElapsedMS}this.deltaMS=a;this.deltaTime=this.deltaMS*ja.TARGET_FPMS;a=this._head;for(b=a.next;b;)b=b.emit(this.deltaTime);a.next||
this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=c};Object.defineProperty(d.prototype,"FPS",{get:function(){return 1E3/this.elapsedMS},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"minFPS",{get:function(){return 1E3/this._maxElapsedMS},set:function(c){this._maxElapsedMS=1/Math.min(Math.max(0,Math.min(this.maxFPS,c))/1E3,ja.TARGET_FPMS)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"maxFPS",{get:function(){return this._minElapsedMS?
Math.round(1E3/this._minElapsedMS):0},set:function(c){this._minElapsedMS=0===c?0:1/(Math.max(this.minFPS,c)/1E3)},enumerable:!1,configurable:!0});Object.defineProperty(d,"shared",{get:function(){if(!d._shared){var c=d._shared=new d;c.autoStart=!0;c._protected=!0}return d._shared},enumerable:!1,configurable:!0});Object.defineProperty(d,"system",{get:function(){if(!d._system){var c=d._system=new d;c.autoStart=!0;c._protected=!0}return d._system},enumerable:!1,configurable:!0});return d}(),eg=function(){function d(){}
d.init=function(c){var a=this;c=Object.assign({autoStart:!0,sharedTicker:!1},c);Object.defineProperty(this,"ticker",{set:function(b){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=b)&&b.add(this.render,this,cb.LOW)},get:function(){return this._ticker}});this.stop=function(){a._ticker.stop()};this.start=function(){a._ticker.start()};this._ticker=null;this.ticker=c.sharedTicker?Ia.shared:new Ia;c.autoStart&&this.start()};d.destroy=function(){if(this._ticker){var c=this._ticker;this.ticker=
null;c.destroy()}};return d}(),Vd=function(){function d(){this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0;this.global=new Da;this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}Object.defineProperty(d.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0});d.prototype.getLocalPosition=
function(c,a,b){return c.worldTransform.applyInverse(b||this.global,a)};d.prototype.copyEvent=function(c){"isPrimary"in c&&c.isPrimary&&(this.isPrimary=!0);this.button="button"in c&&c.button;var a="buttons"in c&&c.buttons;this.buttons=Number.isInteger(a)?a:"which"in c&&c.which;this.width="width"in c&&c.width;this.height="height"in c&&c.height;this.tiltX="tiltX"in c&&c.tiltX;this.tiltY="tiltY"in c&&c.tiltY;this.pointerType="pointerType"in c&&c.pointerType;this.pressure="pressure"in c&&c.pressure;this.rotationAngle=
"rotationAngle"in c&&c.rotationAngle;this.twist="twist"in c&&c.twist||0;this.tangentialPressure="tangentialPressure"in c&&c.tangentialPressure||0};d.prototype.reset=function(){this.isPrimary=!1};return d}(),ed=function(d,c){ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return ed(d,c)},Lf=function(){function d(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.data=
this.type=this.currentTarget=this.target=null}d.prototype.stopPropagation=function(){this.stopPropagationHint=this.stopped=!0;this.stopsPropagatingAt=this.currentTarget};d.prototype.reset=function(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.target=this.currentTarget=null};return d}(),Kc=function(){function d(c){this._pointerId=c;this._flags=d.FLAGS.NONE}d.prototype._doSet=function(c,a){this._flags=a?this._flags|c:this._flags&~c};Object.defineProperty(d.prototype,
"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"flags",{get:function(){return this._flags},set:function(c){this._flags=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"none",{get:function(){return this._flags===d.FLAGS.NONE},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"over",{get:function(){return 0!==(this._flags&d.FLAGS.OVER)},set:function(c){this._doSet(d.FLAGS.OVER,c)},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"rightDown",{get:function(){return 0!==(this._flags&d.FLAGS.RIGHT_DOWN)},set:function(c){this._doSet(d.FLAGS.RIGHT_DOWN,c)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"leftDown",{get:function(){return 0!==(this._flags&d.FLAGS.LEFT_DOWN)},set:function(c){this._doSet(d.FLAGS.LEFT_DOWN,c)},enumerable:!1,configurable:!0});d.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});return d}(),di=function(){function d(){this._tempPoint=
new Da}d.prototype.recursiveFindHit=function(c,a,b,e,f){if(!a||!a.visible)return!1;var g=c.data.global;f=a.interactive||f;var h=!1,k=f,l=!0;a.hitArea?(e&&(a.worldTransform.applyInverse(g,this._tempPoint),a.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?h=!0:l=e=!1),k=!1):a._mask&&e&&(a._mask.containsPoint&&a._mask.containsPoint(g)||(e=!1));if(l&&a.interactiveChildren&&a.children){l=a.children;for(var m=l.length-1;0<=m;m--){var n=l[m],q=this.recursiveFindHit(c,n,b,e,k);q&&n.parent&&(k=!1,q&&
(c.target&&(e=!1),h=!0))}}f&&(e&&!c.target&&!a.hitArea&&a.containsPoint&&a.containsPoint(g)&&(h=!0),a.interactive&&(h&&!c.target&&(c.target=a),b&&b(c,a,!!h)));return h};d.prototype.findHit=function(c,a,b,e){this.recursiveFindHit(c,a,b,e,!1)};return d}(),ig={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(d){d?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&
(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0};Ea.mixin(ig);var Qc={target:null,data:{global:null}},Mf=function(d){function c(a,b){var e=d.call(this)||this;b=b||{};e.renderer=a;e.autoPreventDefault=void 0!==b.autoPreventDefault?b.autoPreventDefault:!0;e.interactionFrequency=b.interactionFrequency||10;e.mouse=new Vd;e.mouse.identifier=1;e.mouse.global.set(-999999);e.activeInteractionData={};e.activeInteractionData[1]=e.mouse;e.interactionDataPool=[];e.eventData=new Lf;
e.interactionDOMElement=null;e.moveWhenInside=!1;e.eventsAdded=!1;e.tickerAdded=!1;e.mouseOverRenderer=!("PointerEvent"in self);e.supportsTouchEvents="ontouchstart"in self;e.supportsPointerEvents=!!self.PointerEvent;e.onPointerUp=e.onPointerUp.bind(e);e.processPointerUp=e.processPointerUp.bind(e);e.onPointerCancel=e.onPointerCancel.bind(e);e.processPointerCancel=e.processPointerCancel.bind(e);e.onPointerDown=e.onPointerDown.bind(e);e.processPointerDown=e.processPointerDown.bind(e);e.onPointerMove=
e.onPointerMove.bind(e);e.processPointerMove=e.processPointerMove.bind(e);e.onPointerOut=e.onPointerOut.bind(e);e.processPointerOverOut=e.processPointerOverOut.bind(e);e.onPointerOver=e.onPointerOver.bind(e);e.cursorStyles={default:"inherit",pointer:"pointer"};e.currentCursorMode=null;e.cursor=null;e.resolution=1;e.delayedEvents=[];e.search=new di;e._tempDisplayObject=new fe;e._useSystemTicker=void 0!==b.useSystemTicker?b.useSystemTicker:!0;e.setTargetElement(e.renderer.view,e.renderer.resolution);
return e}lh(c,d);Object.defineProperty(c.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(a){(this._useSystemTicker=a)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0});c.prototype.hitTest=function(a,b){Qc.target=null;Qc.data.global=a;b||(b=this.lastObjectRendered);
this.processInteractive(Qc,b,null,!0);return Qc.target};c.prototype.setTargetElement=function(a,b){void 0===b&&(b=1);this.removeTickerListener();this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents();this.addTickerListener()};c.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ia.system.add(this.tickerUpdate,this,cb.INTERACTION),this.tickerAdded=!0)};c.prototype.removeTickerListener=function(){this.tickerAdded&&
(Ia.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)};c.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="none",a.msTouchAction="none"):this.supportsPointerEvents&&(a.touchAction="none");this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",
this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",
this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0}};c.prototype.removeEvents=function(){if(this.eventsAdded&&
this.interactionDOMElement){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="",a.msTouchAction=""):this.supportsPointerEvents&&(a.touchAction="");this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",
this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,
!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0));this.interactionDOMElement=null;this.eventsAdded=!1}};c.prototype.tickerUpdate=function(a){this._deltaTime+=a;this._deltaTime<this.interactionFrequency||
(this._deltaTime=0,this.update())};c.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{this.cursor=null;for(var a in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(a)){var b=this.activeInteractionData[a];b.originalEvent&&"touch"!==b.pointerType&&(b=this.configureInteractionEventForDOMEvent(this.eventData,b.originalEvent,b),this.processInteractive(b,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}};
c.prototype.setCursorMode=function(a){a=a||"default";var b=!0;self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(b=!1);if(this.currentCursorMode!==a){this.currentCursorMode=a;var e=this.cursorStyles[a];if(e)switch(typeof e){case "string":b&&(this.interactionDOMElement.style.cursor=e);break;case "function":e(a);break;case "object":b&&Object.assign(this.interactionDOMElement.style,e)}else b&&"string"===typeof a&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,a)&&
(this.interactionDOMElement.style.cursor=a)}};c.prototype.dispatchEvent=function(a,b,e){if(!e.stopPropagationHint||a===e.stopsPropagatingAt)if(e.currentTarget=a,e.type=b,a.emit(b,e),a[b])a[b](e)};c.prototype.delayDispatchEvent=function(a,b,e){this.delayedEvents.push({displayObject:a,eventString:b,eventData:e})};c.prototype.mapPositionToPoint=function(a,b,e){var f=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,
height:this.interactionDOMElement.height,left:0,top:0};var g=1/this.resolution;a.x=this.interactionDOMElement.width/f.width*(b-f.left)*g;a.y=this.interactionDOMElement.height/f.height*(e-f.top)*g};c.prototype.processInteractive=function(a,b,e,f){b=this.search.findHit(a,b,e,f);e=this.delayedEvents;if(!e.length)return b;a.stopPropagationHint=!1;a=e.length;this.delayedEvents=[];for(f=0;f<a;f++){var g=e[f],h=g.displayObject,k=g.eventString;g=g.eventData;g.stopsPropagatingAt===h&&(g.stopPropagationHint=
!0);this.dispatchEvent(h,k,g)}return b};c.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&(!a.cancelable&&"cancelable"in a||a.preventDefault());for(var e=b.length,f=0;f<e;f++){var g=b[f],h=this.getInteractionDataForPointerId(g);h=this.configureInteractionEventForDOMEvent(this.eventData,g,h);h.data.originalEvent=a;this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,
!0);this.emit("pointerdown",h);"touch"===g.pointerType?this.emit("touchstart",h):("mouse"===g.pointerType||"pen"===g.pointerType)&&this.emit(2===g.button?"rightdown":"mousedown",this.eventData)}}};c.prototype.processPointerDown=function(a,b,e){var f=a.data,g=a.data.identifier;if(e)if(b.trackedPointers[g]||(b.trackedPointers[g]=new Kc(g)),this.dispatchEvent(b,"pointerdown",a),"touch"===f.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===f.pointerType||"pen"===f.pointerType)(e=2===
f.button)?b.trackedPointers[g].rightDown=!0:b.trackedPointers[g].leftDown=!0,this.dispatchEvent(b,e?"rightdown":"mousedown",a)};c.prototype.onPointerComplete=function(a,b,e){for(var f=this.normalizeToPointerData(a),g=f.length,h=a.target!==this.interactionDOMElement?"outside":"",k=0;k<g;k++){var l=f[k],m=this.getInteractionDataForPointerId(l);m=this.configureInteractionEventForDOMEvent(this.eventData,l,m);m.data.originalEvent=a;this.processInteractive(m,this.lastObjectRendered,e,b||!h);this.emit(b?
"pointercancel":"pointerup"+h,m);"mouse"===l.pointerType||"pen"===l.pointerType?this.emit(2===l.button?"rightup"+h:"mouseup"+h,m):"touch"===l.pointerType&&(this.emit(b?"touchcancel":"touchend"+h,m),this.releaseInteractionDataForPointerId(l.pointerId))}};c.prototype.onPointerCancel=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!0,this.processPointerCancel)};c.prototype.processPointerCancel=function(a,b){var e=a.data,f=a.data.identifier;void 0!==b.trackedPointers[f]&&
(delete b.trackedPointers[f],this.dispatchEvent(b,"pointercancel",a),"touch"===e.pointerType&&this.dispatchEvent(b,"touchcancel",a))};c.prototype.onPointerUp=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!1,this.processPointerUp)};c.prototype.processPointerUp=function(a,b,e){var f=a.data,g=a.data.identifier,h=b.trackedPointers[g],k="touch"===f.pointerType,l="mouse"===f.pointerType||"pen"===f.pointerType,m=!1;if(l){f=2===f.button;var n=Kc.FLAGS;n=f?n.RIGHT_DOWN:
n.LEFT_DOWN;n=void 0!==h&&h.flags&n;e?(this.dispatchEvent(b,f?"rightup":"mouseup",a),n&&(this.dispatchEvent(b,f?"rightclick":"click",a),m=!0)):n&&this.dispatchEvent(b,f?"rightupoutside":"mouseupoutside",a);h&&(f?h.rightDown=!1:h.leftDown=!1)}e?(this.dispatchEvent(b,"pointerup",a),k&&this.dispatchEvent(b,"touchend",a),h&&(l&&!m||this.dispatchEvent(b,"pointertap",a),k&&(this.dispatchEvent(b,"tap",a),h.over=!1))):h&&(this.dispatchEvent(b,"pointerupoutside",a),k&&this.dispatchEvent(b,"touchendoutside",
a));h&&h.none&&delete b.trackedPointers[g]};c.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);if("mouse"===b[0].pointerType||"pen"===b[0].pointerType)this._didMove=!0,this.cursor=null;for(var e=b.length,f=0;f<e;f++){var g=b[f],h=this.getInteractionDataForPointerId(g);h=this.configureInteractionEventForDOMEvent(this.eventData,g,h);h.data.originalEvent=a;this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,
!0);this.emit("pointermove",h);"touch"===g.pointerType&&this.emit("touchmove",h);"mouse"!==g.pointerType&&"pen"!==g.pointerType||this.emit("mousemove",h)}"mouse"===b[0].pointerType&&this.setCursorMode(this.cursor)}};c.prototype.processPointerMove=function(a,b,e){var f=a.data,g="touch"===f.pointerType;(f="mouse"===f.pointerType||"pen"===f.pointerType)&&this.processPointerOverOut(a,b,e);if(!this.moveWhenInside||e)this.dispatchEvent(b,"pointermove",a),g&&this.dispatchEvent(b,"touchmove",a),f&&this.dispatchEvent(b,
"mousemove",a)};c.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){a=this.normalizeToPointerData(a)[0];"mouse"===a.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),e=this.configureInteractionEventForDOMEvent(this.eventData,a,b);e.data.originalEvent=a;this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",e);"mouse"===a.pointerType||"pen"===a.pointerType?
this.emit("mouseout",e):this.releaseInteractionDataForPointerId(b.identifier)}};c.prototype.processPointerOverOut=function(a,b,e){var f=a.data,g=a.data.identifier;f="mouse"===f.pointerType||"pen"===f.pointerType;var h=b.trackedPointers[g];e&&!h&&(h=b.trackedPointers[g]=new Kc(g));void 0!==h&&(e&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(b,"pointerover",a),f&&this.delayDispatchEvent(b,"mouseover",a)),f&&null===this.cursor&&(this.cursor=b.cursor)):h.over&&(h.over=!1,this.dispatchEvent(b,
"pointerout",this.eventData),f&&this.dispatchEvent(b,"mouseout",a),h.none&&delete b.trackedPointers[g]))};c.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a)[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;"mouse"===a.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit("mouseover",b)};c.prototype.getInteractionDataForPointerId=
function(a){var b=a.pointerId;if(1===b||"mouse"===a.pointerType)var e=this.mouse;else this.activeInteractionData[b]?e=this.activeInteractionData[b]:(e=this.interactionDataPool.pop()||new Vd,e.identifier=b,this.activeInteractionData[b]=e);e.copyEvent(a);return e};c.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};c.prototype.configureInteractionEventForDOMEvent=function(a,
b,e){a.data=e;this.mapPositionToPoint(e.global,b.clientX,b.clientY);"touch"===b.pointerType&&(b.globalX=e.global.x,b.globalY=e.global.y);e.originalEvent=b;a.reset();return a};c.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var e=0,f=a.changedTouches.length;e<f;e++){var g=a.changedTouches[e];"undefined"===typeof g.button&&(g.button=a.touches.length?1:0);"undefined"===typeof g.buttons&&(g.buttons=a.touches.length?1:0);"undefined"===typeof g.isPrimary&&
(g.isPrimary=1===a.touches.length&&"touchstart"===a.type);"undefined"===typeof g.width&&(g.width=g.radiusX||1);"undefined"===typeof g.height&&(g.height=g.radiusY||1);"undefined"===typeof g.tiltX&&(g.tiltX=0);"undefined"===typeof g.tiltY&&(g.tiltY=0);"undefined"===typeof g.pointerType&&(g.pointerType="touch");"undefined"===typeof g.pointerId&&(g.pointerId=g.identifier||0);"undefined"===typeof g.pressure&&(g.pressure=g.force||.5);"undefined"===typeof g.twist&&(g.twist=0);"undefined"===typeof g.tangentialPressure&&
(g.tangentialPressure=0);"undefined"===typeof g.layerX&&(g.layerX=g.offsetX=g.clientX);"undefined"===typeof g.layerY&&(g.layerY=g.offsetY=g.clientY);g.isNormalized=!0;b.push(g)}else{if(!self.MouseEvent||a instanceof MouseEvent&&!(this.supportsPointerEvents&&a instanceof self.PointerEvent))"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=
0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0;b.push(a)}return b};c.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();this.search=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=
this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return c}(Xb()),Ja=function(){function d(c){this.items=[];this._name=c;this._aliasCount=0}d.prototype.emit=function(c,a,b,e,f,g,h,k){if(8<arguments.length)throw Error("max arguments reached");var l=this.name,m=this.items;this._aliasCount++;for(var n=0,q=m.length;n<q;n++)m[n][l](c,
a,b,e,f,g,h,k);m===this.items&&this._aliasCount--;return this};d.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))};d.prototype.add=function(c){c[this._name]&&(this.ensureNonAliasedItems(),this.remove(c),this.items.push(c));return this};d.prototype.remove=function(c){c=this.items.indexOf(c);-1!==c&&(this.ensureNonAliasedItems(),this.items.splice(c,1));return this};d.prototype.contains=function(c){return-1!==this.items.indexOf(c)};
d.prototype.removeAll=function(){this.ensureNonAliasedItems();this.items.length=0;return this};d.prototype.destroy=function(){this.removeAll();this._name=this.items=null};Object.defineProperty(d.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0});return d}();Object.defineProperties(Ja.prototype,{dispatch:{value:Ja.prototype.emit},run:{value:Ja.prototype.emit}});
ja.PREFER_ENV=Sa.any?Ya.WEBGL:Ya.WEBGL2;ja.STRICT_TEXTURE_CACHE=!1;var bc=[],fd=function(d,c){fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return fd(d,c)},Db=function(){function d(c,a){void 0===c&&(c=0);void 0===a&&(a=0);this._width=c;this._height=a;this.internal=this.destroyed=!1;this.onResize=new Ja("setRealSize");this.onUpdate=new Ja("update");this.onError=new Ja("onError")}d.prototype.bind=
function(c){this.onResize.add(c);this.onUpdate.add(c);this.onError.add(c);(this._width||this._height)&&this.onResize.emit(this._width,this._height)};d.prototype.unbind=function(c){this.onResize.remove(c);this.onUpdate.remove(c);this.onError.remove(c)};d.prototype.resize=function(c,a){if(c!==this._width||a!==this._height)this._width=c,this._height=a,this.onResize.emit(c,a)};Object.defineProperty(d.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0});
d.prototype.update=function(){this.destroyed||this.onUpdate.emit()};d.prototype.load=function(){return Promise.resolve(this)};Object.defineProperty(d.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0});d.prototype.style=function(c,a,b){return!1};d.prototype.dispose=function(){};d.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),
this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)};d.test=function(c,a){return!1};return d}(),Sb=function(d){function c(a,b){var e=b||{};b=e.width;e=e.height;if(!b||!e)throw Error("BufferResource width or height invalid");b=d.call(this,b,e)||this;b.data=a;return b}sa(c,d);c.prototype.upload=function(a,b,e){a=a.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===Za.UNPACK);e.width===b.width&&e.height===
b.height?a.texSubImage2D(b.target,0,0,0,b.width,b.height,b.format,b.type,this.data):(e.width=b.width,e.height=b.height,a.texImage2D(b.target,0,e.internalFormat,b.width,b.height,0,b.format,e.type,this.data));return!0};c.prototype.dispose=function(){this.data=null};c.test=function(a){return a instanceof Float32Array||a instanceof Uint8Array||a instanceof Uint32Array};return c}(Db),ei={scaleMode:bb.NEAREST,format:Va.RGBA,alphaMode:Za.NPM},xa=function(d){function c(a,b){void 0===a&&(a=null);void 0===
b&&(b=null);var e=d.call(this)||this;b=b||{};var f=b.alphaMode,g=b.mipmap,h=b.anisotropicLevel,k=b.scaleMode,l=b.width,m=b.height,n=b.wrapMode,q=b.format,y=b.type,E=b.target,N=b.resolution;b=b.resourceOptions;!a||a instanceof Db||(a=wc(a,b),a.internal=!0);e.width=l||0;e.height=m||0;e.resolution=N||ja.RESOLUTION;e.mipmap=void 0!==g?g:ja.MIPMAP_TEXTURES;e.anisotropicLevel=void 0!==h?h:ja.ANISOTROPIC_LEVEL;e.wrapMode=n||ja.WRAP_MODE;e.scaleMode=void 0!==k?k:ja.SCALE_MODE;e.format=q||Va.RGBA;e.type=y||
za.UNSIGNED_BYTE;e.target=E||sb.TEXTURE_2D;e.alphaMode=void 0!==f?f:Za.UNPACK;e.uid=++wb;e.touched=0;e.isPowerOfTwo=!1;e._refreshPOT();e._glTextures={};e.dirtyId=0;e.dirtyStyleId=0;e.cacheId=null;e.valid=0<l&&0<m;e.textureCacheIds=[];e.destroyed=!1;e.resource=null;e._batchEnabled=0;e._batchLocation=0;e.parentTextureArray=null;e.setResource(a);return e}sa(c,d);Object.defineProperty(c.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1E-4)},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1E-4)},enumerable:!1,configurable:!0});c.prototype.setStyle=function(a,b){if(void 0!==a&&a!==this.scaleMode){this.scaleMode=a;var e=!0}void 0!==b&&b!==this.mipmap&&(this.mipmap=b,e=!0);e&&this.dirtyStyleId++;return this};c.prototype.setSize=function(a,b,e){this.resolution=e||this.resolution;this.width=a;this.height=b;this._refreshPOT();this.update();return this};c.prototype.setRealSize=function(a,
b,e){this.resolution=e||this.resolution;this.width=a/this.resolution;this.height=b/this.resolution;this._refreshPOT();this.update();return this};c.prototype._refreshPOT=function(){this.isPowerOfTwo=Y(this.realWidth)&&Y(this.realHeight)};c.prototype.setResolution=function(a){var b=this.resolution;if(b===a)return this;this.resolution=a;this.valid&&(this.width=this.width*b/a,this.height=this.height*b/a,this.emit("update",this));this._refreshPOT();return this};c.prototype.setResource=function(a){if(this.resource===
a)return this;if(this.resource)throw Error("Resource can be set only once");a.bind(this);this.resource=a;return this};c.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))};c.prototype.onError=function(a){this.emit("error",this,a)};c.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=
null);this.cacheId&&(delete Pa[this.cacheId],delete La[this.cacheId],this.cacheId=null);this.dispose();c.removeFromCache(this);this.textureCacheIds=null;this.destroyed=!0};c.prototype.dispose=function(){this.emit("dispose",this)};c.prototype.castToBaseTexture=function(){return this};c.from=function(a,b,e){void 0===e&&(e=ja.STRICT_TEXTURE_CACHE);var f="string"===typeof a;if(f)var g=a;else a._pixiId||(a._pixiId=(b&&b.pixiIdPrefix||"pixiid")+"_"+ ++wb),g=a._pixiId;var h=Pa[g];if(f&&e&&!h)throw Error('The cacheId "'+
g+'" does not exist in BaseTextureCache.');h||(h=new c(a,b),h.cacheId=g,c.addToCache(h,g));return h};c.fromBuffer=function(a,b,e,f){a=a||new Float32Array(b*e*4);var g=new Sb(a,{width:b,height:e});a=a instanceof Float32Array?za.FLOAT:za.UNSIGNED_BYTE;return new c(g,Object.assign(ei,f||{width:b,height:e,type:a}))};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),Pa[b]&&console.warn("BaseTexture added to the cache with an id ["+b+"] that already had an entry"),
Pa[b]=a)};c.removeFromCache=function(a){if("string"===typeof a){var b=Pa[a];if(b){var e=b.textureCacheIds.indexOf(a);-1<e&&b.textureCacheIds.splice(e,1);delete Pa[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)delete Pa[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};c._globalBatch=0;return c}(Xb()),Ac=function(d){function c(a,b){b=b||{};b=d.call(this,b.width,b.height)||this;b.items=[];b.itemDirtyIds=[];for(var e=0;e<a;e++){var f=new xa;b.items.push(f);
b.itemDirtyIds.push(-2)}b.length=a;b._load=null;b.baseTexture=null;return b}sa(c,d);c.prototype.initFromArray=function(a,b){for(var e=0;e<this.length;e++)a[e]&&(a[e].castToBaseTexture?this.addBaseTextureAt(a[e].castToBaseTexture(),e):a[e]instanceof Db?this.addResourceAt(a[e],e):this.addResourceAt(wc(a[e],b),e))};c.prototype.dispose=function(){for(var a=0,b=this.length;a<b;a++)this.items[a].destroy();this._load=this.itemDirtyIds=this.items=null};c.prototype.addResourceAt=function(a,b){if(!this.items[b])throw Error("Index "+
b+" is out of bounds");a.valid&&!this.valid&&this.resize(a.width,a.height);this.items[b].setResource(a);return this};c.prototype.bind=function(a){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");d.prototype.bind.call(this,a);for(var b=0;b<this.length;b++)this.items[b].parentTextureArray=a,this.items[b].on("update",a.update,a)};c.prototype.unbind=function(a){d.prototype.unbind.call(this,a);for(var b=0;b<this.length;b++)this.items[b].parentTextureArray=null,
this.items[b].off("update",a.update,a)};c.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()});return this._load=Promise.all(b).then(function(){var e=a.items[0];a.resize(e.realWidth,e.realHeight);return Promise.resolve(a)})};return c}(Db),Id=function(d){function c(a,b){var e=b||{};var f=e.width;e=e.height;if(Array.isArray(a)){var g=a;a=a.length}f=d.call(this,a,{width:f,
height:e})||this;g&&f.initFromArray(g,b);return f}sa(c,d);c.prototype.addBaseTextureAt=function(a,b){if(a.resource)this.addResourceAt(a.resource,b);else throw Error("ArrayResource does not support RenderTexture");return this};c.prototype.bind=function(a){d.prototype.bind.call(this,a);a.target=sb.TEXTURE_2D_ARRAY};c.prototype.upload=function(a,b,e){var f=this.length,g=this.itemDirtyIds,h=this.items;a=a.gl;0>e.dirtyId&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,b.format,this._width,this._height,f,0,b.format,
b.type,null);for(e=0;e<f;e++){var k=h[e];g[e]<k.dirtyId&&(g[e]=k.dirtyId,k.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,e,k.resource.width,k.resource.height,1,b.format,b.type,k.resource.source))}return!0};return c}(Ac),$a=function(d){function c(a){var b=d.call(this,a.naturalWidth||a.videoWidth||a.width,a.naturalHeight||a.videoHeight||a.height)||this;b.source=a;b.noSubImage=!1;return b}sa(c,d);c.crossOrigin=function(a,b,e){void 0===e&&0!==b.indexOf("data:")?a.crossOrigin=vb(b):!1!==e&&(a.crossOrigin=
"string"===typeof e?e:"anonymous")};c.prototype.upload=function(a,b,e,f){a=a.gl;var g=b.realWidth,h=b.realHeight;f=f||this.source;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===Za.UNPACK);this.noSubImage||b.target!==a.TEXTURE_2D||e.width!==g||e.height!==h?(e.width=g,e.height=h,a.texImage2D(b.target,0,b.format,b.format,b.type,f)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,b.format,b.type,f);return!0};c.prototype.update=function(){if(!this.destroyed){var a=this.source;this.resize(a.naturalWidth||
a.videoWidth||a.width,a.naturalHeight||a.videoHeight||a.height);d.prototype.update.call(this)}};c.prototype.dispose=function(){this.source=null};return c}(Db),Ec=function(d){function c(a){return d.call(this,a)||this}sa(c,d);c.test=function(a){var b=self.OffscreenCanvas;return b&&a instanceof b?!0:self.HTMLCanvasElement&&a instanceof HTMLCanvasElement};return c}($a),Od=function(d){function c(a,b){var e=b||{};var f=e.width;var g=e.height,h=e.autoLoad;e=e.linkBaseTexture;if(a&&a.length!==c.SIDES)throw Error("Invalid length. Got "+
a.length+", expected 6");f=d.call(this,6,{width:f,height:g})||this;for(g=0;g<c.SIDES;g++)f.items[g].target=sb.TEXTURE_CUBE_MAP_POSITIVE_X+g;f.linkBaseTexture=!1!==e;a&&f.initFromArray(a,b);!1!==h&&f.load();return f}sa(c,d);c.prototype.bind=function(a){d.prototype.bind.call(this,a);a.target=sb.TEXTURE_CUBE_MAP};c.prototype.addBaseTextureAt=function(a,b,e){if(!this.items[b])throw Error("Index "+b+" is out of bounds");if(!this.linkBaseTexture||a.parentTextureArray||0<Object.keys(a._glTextures).length)if(a.resource)this.addResourceAt(a.resource,
b);else throw Error("CubeResource does not support copying of renderTexture.");else a.target=sb.TEXTURE_CUBE_MAP_POSITIVE_X+b,a.parentTextureArray=this.baseTexture,this.items[b]=a;a.valid&&!this.valid&&this.resize(a.realWidth,a.realHeight);this.items[b]=a;return this};c.prototype.upload=function(a,b,e){for(var f=this.itemDirtyIds,g=0;g<c.SIDES;g++){var h=this.items[g];f[g]<h.dirtyId&&(h.valid&&h.resource?(h.resource.upload(a,h,e),f[g]=h.dirtyId):-1>f[g]&&(a.gl.texImage2D(h.target,0,e.internalFormat,
b.realWidth,b.realHeight,0,b.format,e.type,null),f[g]=-1))}return!0};c.test=function(a){return Array.isArray(a)&&a.length===c.SIDES};c.SIDES=6;return c}(Ac),Jc=function(d){function c(a,b){b=b||{};if(!(a instanceof HTMLImageElement)){var e=new Image;$a.crossOrigin(e,a,b.crossorigin);e.src=a;a=e}e=d.call(this,a)||this;!a.complete&&e._width&&e._height&&(e._width=0,e._height=0);e.url=a.src;e._process=null;e.preserveBitmap=!1;e.createBitmap=(void 0!==b.createBitmap?b.createBitmap:ja.CREATE_IMAGE_BITMAP)&&
!!self.createImageBitmap;e.alphaMode="number"===typeof b.alphaMode?b.alphaMode:null;e.bitmap=null;e._load=null;!1!==b.autoLoad&&e.load();return e}sa(c,d);c.prototype.load=function(a){var b=this;if(this._load)return this._load;void 0!==a&&(this.createBitmap=a);return this._load=new Promise(function(e,f){var g=b.source;b.url=g.src;var h=function(){b.destroyed||(g.onload=null,g.onerror=null,b.resize(g.width,g.height),b._load=null,b.createBitmap?e(b.process()):e(b))};g.complete&&g.src?h():(g.onload=h,
g.onerror=function(k){f(k);b.onError.emit(k)})})};c.prototype.process=function(){var a=this,b=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?this._process=self.createImageBitmap(b,0,0,b.width,b.height,{premultiplyAlpha:this.alphaMode===Za.UNPACK?"premultiply":"none"}).then(function(e){if(a.destroyed)return Promise.reject();a.bitmap=e;a.update();a._process=null;return Promise.resolve(a)}):Promise.resolve(this)};c.prototype.upload=function(a,b,e){"number"===
typeof this.alphaMode&&(b.alphaMode=this.alphaMode);if(!this.createBitmap)return d.prototype.upload.call(this,a,b,e);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;d.prototype.upload.call(this,a,b,e,this.bitmap);if(!this.preserveBitmap){a=!0;var f=b._glTextures,g;for(g in f){var h=f[g];if(h!==e&&h.dirtyId!==b.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0};c.prototype.dispose=function(){this.source.onload=null;this.source.onerror=null;d.prototype.dispose.call(this);
this.bitmap&&(this.bitmap.close(),this.bitmap=null);this._load=this._process=null};c.test=function(a){return"string"===typeof a||a instanceof HTMLImageElement};return c}($a),$d=function(d){function c(a,b){b=b||{};var e=d.call(this,document.createElement("canvas"))||this;e._width=0;e._height=0;e.svg=a;e.scale=b.scale||1;e._overrideWidth=b.width;e._overrideHeight=b.height;e._resolve=null;e._crossorigin=b.crossorigin;e._load=null;!1!==b.autoLoad&&e.load();return e}sa(c,d);c.prototype.load=function(){var a=
this;return this._load?this._load:this._load=new Promise(function(b){a._resolve=function(){a.resize(a.source.width,a.source.height);b(a)};if(/^<svg/.test(a.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");a.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a.svg)))}a._loadSvg()})};c.prototype._loadSvg=function(){var a=this,b=new Image;$a.crossOrigin(b,this.svg,this._crossorigin);b.src=this.svg;b.onerror=function(e){a._resolve&&(b.onerror=null,a.onError.emit(e))};
b.onload=function(){if(a._resolve){var e=b.width,f=b.height;if(!e||!f)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var g=e*a.scale,h=f*a.scale;if(a._overrideWidth||a._overrideHeight)g=a._overrideWidth||a._overrideHeight/f*e,h=a._overrideHeight||a._overrideWidth/e*f;g=Math.round(g);h=Math.round(h);var k=a.source;k.width=g;k.height=h;k._pixiId="canvas_"+ ++wb;k.getContext("2d").drawImage(b,0,0,e,f,0,0,g,h);a._resolve();a._resolve=null}}};c.getSize=
function(a){a=c.SVG_SIZE.exec(a);var b={};a&&(b[a[1]]=Math.round(parseFloat(a[3])),b[a[5]]=Math.round(parseFloat(a[7])));return b};c.prototype.dispose=function(){d.prototype.dispose.call(this);this._crossorigin=this._resolve=null};c.test=function(a,b){return"svg"===b||"string"===typeof a&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(a)||"string"===typeof a&&0===a.indexOf("<svg")};c.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
return c}($a),ke=function(d){function c(a,b){b=b||{};if(!(a instanceof HTMLVideoElement)){var e=document.createElement("video");e.setAttribute("preload","auto");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");"string"===typeof a&&(a=[a]);$a.crossOrigin(e,a[0].src||a[0],b.crossorigin);for(var f=0;f<a.length;++f){var g=document.createElement("source"),h=a[f],k=h.src;h=h.mime;k=k||a[f];var l=k.split("?").shift().toLowerCase();l=l.substr(l.lastIndexOf(".")+1);h=h||c.MIME_TYPES[l]||
"video/"+l;g.src=k;g.type=h;e.appendChild(g)}a=e}a=d.call(this,a)||this;a.noSubImage=!0;a._autoUpdate=!0;a._isConnectedToTicker=!1;a._updateFPS=b.updateFPS||0;a._msToNextUpdate=0;a.autoPlay=!1!==b.autoPlay;a._load=null;a._resolve=null;a._onCanPlay=a._onCanPlay.bind(a);a._onError=a._onError.bind(a);!1!==b.autoLoad&&a.load();return a}sa(c,d);c.prototype.update=function(a){!this.destroyed&&(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Ia.shared.elapsedMS*this.source.playbackRate),!this._updateFPS||
0>=this._msToNextUpdate)&&(d.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1E3/this._updateFPS):0)};c.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.source;(b.readyState===b.HAVE_ENOUGH_DATA||b.readyState===b.HAVE_FUTURE_DATA)&&b.width&&b.height&&(b.complete=!0);b.addEventListener("play",this._onPlayStart.bind(this));b.addEventListener("pause",this._onPlayStop.bind(this));this._isSourceReady()?this._onCanPlay():(b.addEventListener("canplay",
this._onCanPlay),b.addEventListener("canplaythrough",this._onCanPlay),b.addEventListener("error",this._onError,!0));return this._load=new Promise(function(e){a.valid?e(a):(a._resolve=e,b.load())})};c.prototype._onError=function(a){this.source.removeEventListener("error",this._onError,!0);this.onError.emit(a)};c.prototype._isSourcePlaying=function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};c.prototype._isSourceReady=function(){var a=this.source;return 3===
a.readyState||4===a.readyState};c.prototype._onPlayStart=function(){this.valid||this._onCanPlay();this.autoUpdate&&!this._isConnectedToTicker&&(Ia.shared.add(this.update,this),this._isConnectedToTicker=!0)};c.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ia.shared.remove(this.update,this),this._isConnectedToTicker=!1)};c.prototype._onCanPlay=function(){var a=this.source;a.removeEventListener("canplay",this._onCanPlay);a.removeEventListener("canplaythrough",this._onCanPlay);var b=this.valid;
this.resize(a.videoWidth,a.videoHeight);!b&&this._resolve&&(this._resolve(this),this._resolve=null);this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()};c.prototype.dispose=function(){this._isConnectedToTicker&&Ia.shared.remove(this.update,this);var a=this.source;a&&(a.removeEventListener("error",this._onError,!0),a.pause(),a.src="",a.load());d.prototype.dispose.call(this)};Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==
this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Ia.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ia.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(a){a!==this._updateFPS&&(this._updateFPS=a)},enumerable:!1,configurable:!0});c.test=function(a,
b){return self.HTMLVideoElement&&a instanceof HTMLVideoElement||-1<c.TYPES.indexOf(b)};c.TYPES="mp4 m4v webm ogg ogv h264 avi mov".split(" ");c.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};return c}($a),Ud=function(d){function c(a){return d.call(this,a)||this}sa(c,d);c.test=function(a){return!!self.createImageBitmap&&a instanceof ImageBitmap};return c}($a);bc.push(Jc,Ud,Ec,ke,$d,Sb,Od,Id);var yg={__proto__:null,Resource:Db,BaseImageResource:$a,INSTALLED:bc,autoDetectResource:wc,
AbstractMultiResource:Ac,ArrayResource:Id,BufferResource:Sb,CanvasResource:Ec,CubeResource:Od,ImageResource:Jc,SVGResource:$d,VideoResource:ke,ImageBitmapResource:Ud},Na=function(){function d(c){this.renderer=c}d.prototype.destroy=function(){this.renderer=null};return d}(),fi=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}sa(c,d);c.prototype.upload=function(a,b,e){var f=a.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===Za.UNPACK);e.width===b.width&&e.height===
b.height?f.texSubImage2D(b.target,0,0,0,b.width,b.height,b.format,b.type,this.data):(e.width=b.width,e.height=b.height,f.texImage2D(b.target,0,1===a.context.webGLVersion?f.DEPTH_COMPONENT:f.DEPTH_COMPONENT16,b.width,b.height,0,b.format,b.type,this.data));return!0};return c}(Sb),Gc=function(){function d(c,a){this.width=Math.ceil(c||100);this.height=Math.ceil(a||100);this.depth=this.stencil=!1;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers=
{};this.disposeRunner=new Ja("disposeFramebuffer");this.multisample=Bb.NONE}Object.defineProperty(d.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0});d.prototype.addColorTexture=function(c,a){void 0===c&&(c=0);this.colorTextures[c]=a||new xa(null,{scaleMode:bb.NEAREST,resolution:1,mipmap:ob.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this};d.prototype.addDepthTexture=function(c){this.depthTexture=c||new xa(new fi(null,
{width:this.width,height:this.height}),{scaleMode:bb.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ob.OFF,format:Va.DEPTH_COMPONENT,type:za.UNSIGNED_SHORT});this.dirtyId++;this.dirtyFormat++;return this};d.prototype.enableDepth=function(){this.depth=!0;this.dirtyId++;this.dirtyFormat++;return this};d.prototype.enableStencil=function(){this.stencil=!0;this.dirtyId++;this.dirtyFormat++;return this};d.prototype.resize=function(c,a){c=Math.ceil(c);a=Math.ceil(a);if(c!==this.width||a!==
this.height){this.width=c;this.height=a;this.dirtyId++;this.dirtySize++;for(var b=0;b<this.colorTextures.length;b++){var e=this.colorTextures[b],f=e.resolution;e.setSize(c/f,a/f)}this.depthTexture&&(f=this.depthTexture.resolution,this.depthTexture.setSize(c/f,a/f))}};d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};d.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)};return d}(),Kd=function(d){function c(a,
b,e,f){"number"===typeof a&&(a={width:a,height:b,scaleMode:e,resolution:f});b=d.call(this,null,a)||this;e=a||{};a=e.width;e=e.height;b.mipmap=0;b.width=Math.ceil(a)||100;b.height=Math.ceil(e)||100;b.valid=!0;b.clearColor=[0,0,0,0];b.framebuffer=(new Gc(b.width*b.resolution,b.height*b.resolution)).addColorTexture(0,b);b.maskStack=[];b.filterStack=[{}];return b}sa(c,d);c.prototype.resize=function(a,b){a=Math.ceil(a);b=Math.ceil(b);this.framebuffer.resize(a*this.resolution,b*this.resolution)};c.prototype.dispose=
function(){this.framebuffer.dispose();d.prototype.dispose.call(this)};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.framebuffer.destroyDepthTexture();this.framebuffer=null};return c}(xa),ie=function(){function d(){this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}d.prototype.set=function(c,a,b){var e=a.width,f=a.height;if(b){a=c.width/2/e;var g=c.height/2/f;e=c.x/e+a;c=c.y/f+g;b=Aa.add(b,Aa.NW);this.x0=e+a*Aa.uX(b);
this.y0=c+g*Aa.uY(b);b=Aa.add(b,2);this.x1=e+a*Aa.uX(b);this.y1=c+g*Aa.uY(b);b=Aa.add(b,2);this.x2=e+a*Aa.uX(b);this.y2=c+g*Aa.uY(b);b=Aa.add(b,2);this.x3=e+a*Aa.uX(b);this.y3=c+g*Aa.uY(b)}else this.x0=c.x/e,this.y0=c.y/f,this.x1=(c.x+c.width)/e,this.y1=c.y/f,this.x2=(c.x+c.width)/e,this.y2=(c.y+c.height)/f,this.x3=c.x/e,this.y3=(c.y+c.height)/f;this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=
this.y2;this.uvsFloat32[6]=this.x3;this.uvsFloat32[7]=this.y3};d.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+(this.x0+" y0="+this.y0+" x1=")+(this.x1+" y1="+this.y1+" x2="+this.x2+" y2=")+(this.y2+" x3="+this.x3+" y3="+this.y3)+"]"};return d}(),zg=new ie,na=function(d){function c(a,b,e,f,g,h){var k=d.call(this)||this;k.noFrame=!1;b||(k.noFrame=!0,b=new va(0,0,1,1));a instanceof c&&(a=a.baseTexture);k.baseTexture=a;k._frame=b;k.trim=f;k.valid=!1;k._uvs=zg;k.uvMatrix=null;k.orig=
e||b;k._rotate=Number(g||0);if(!0===g)k._rotate=2;else if(0!==k._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");k.defaultAnchor=h?new Da(h.x,h.y):new Da(0,0);k._updateID=0;k.textureCacheIds=[];if(a.valid)if(k.noFrame){if(a.valid)k.onBaseTextureUpdated(a)}else k.frame=b;else a.once("loaded",k.onBaseTextureUpdated,k);if(k.noFrame)a.on("update",k.onBaseTextureUpdated,k);return k}sa(c,d);c.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()};
c.prototype.onBaseTextureUpdated=function(a){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=a.width;this._frame.height=a.height;this.valid=!0;this.updateUvs()}else this.frame=this._frame;this.emit("update",this)};c.prototype.destroy=function(a){this.baseTexture&&(a&&((a=this.baseTexture.resource)&&a.url&&La[a.url]&&c.removeFromCache(a.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,
this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;c.removeFromCache(this);this.textureCacheIds=null};c.prototype.clone=function(){return new c(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)};c.prototype.updateUvs=function(){this._uvs===zg&&(this._uvs=new ie);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};c.from=function(a,b,e){void 0===b&&(b={});void 0===e&&(e=ja.STRICT_TEXTURE_CACHE);
var f="string"===typeof a;if(f)var g=a;else a._pixiId||(a._pixiId=(b&&b.pixiIdPrefix||"pixiid")+"_"+ ++wb),g=a._pixiId;var h=La[g];if(f&&e&&!h)throw Error('The cacheId "'+g+'" does not exist in TextureCache.');h||(b.resolution||(b.resolution=ac(a)),h=new c(new xa(a,b)),h.baseTexture.cacheId=g,xa.addToCache(h.baseTexture,g),c.addToCache(h,g));return h};c.fromURL=function(a,b){var e=Object.assign({autoLoad:!1},null===b||void 0===b?void 0:b.resourceOptions),f=c.from(a,Object.assign({resourceOptions:e},
b),!1);a=f.baseTexture.resource;return f.baseTexture.valid?Promise.resolve(f):a.load().then(function(){return Promise.resolve(f)})};c.fromBuffer=function(a,b,e,f){return new c(xa.fromBuffer(a,b,e,f))};c.fromLoader=function(a,b,e,f){a=new xa(a,Object.assign({scaleMode:ja.SCALE_MODE,resolution:ac(b)},f));f=a.resource;f instanceof Jc&&(f.url=b);var g=new c(a);e||(e=b);xa.addToCache(g.baseTexture,e);c.addToCache(g,e);e!==b&&(xa.addToCache(g.baseTexture,b),c.addToCache(g,b));return g.baseTexture.valid?
Promise.resolve(g):new Promise(function(h){g.baseTexture.once("loaded",function(){return h(g)})})};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),La[b]&&console.warn("Texture added to the cache with an id ["+b+"] that already had an entry"),La[b]=a)};c.removeFromCache=function(a){if("string"===typeof a){var b=La[a];if(b){var e=b.textureCacheIds.indexOf(a);-1<e&&b.textureCacheIds.splice(e,1);delete La[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<
a.textureCacheIds.length;++b)La[a.textureCacheIds[b]]===a&&delete La[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};Object.defineProperty(c.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"frame",{get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,e=a.y,f=a.width,g=a.height,h=b+f>this.baseTexture.width,k=e+g>this.baseTexture.height;if(h||k)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+
(b+" + "+f+" = "+(b+f)+" > "+this.baseTexture.width+" "+(h&&k?"and":"or")+" Y: "+(e+" + "+g+" = "+(e+g)+" > "+this.baseTexture.height)));this.valid=f&&g&&this.baseTexture.valid;this.trim||this.rotate||(this.orig=a);this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rotate",{get:function(){return this._rotate},set:function(a){this._rotate=a;this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this.orig.width},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0});c.prototype.castToBaseTexture=function(){return this.baseTexture};return c}(Xb());na.EMPTY=new na(new xa);xc(na.EMPTY);xc(na.EMPTY.baseTexture);na.WHITE=function(){var d=document.createElement("canvas");d.width=16;d.height=16;var c=d.getContext("2d");c.fillStyle="white";c.fillRect(0,0,16,16);return new na(new xa(new Ec(d)))}();xc(na.WHITE);xc(na.WHITE.baseTexture);
var pb=function(d){function c(a,b){a=d.call(this,a,b)||this;a.valid=!0;a.filterFrame=null;a.filterPoolKey=null;a.updateUvs();return a}sa(c,d);Object.defineProperty(c.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0});c.prototype.resize=function(a,b,e){void 0===e&&(e=!0);a=Math.ceil(a);b=Math.ceil(b);this.valid=0<a&&0<b;this._frame.width=this.orig.width=a;this._frame.height=this.orig.height=b;e&&this.baseTexture.resize(a,b);this.updateUvs()};
c.prototype.setResolution=function(a){var b=this.baseTexture;b.resolution!==a&&(b.setResolution(a),this.resize(b.width,b.height,!1))};c.create=function(a){for(var b=arguments,e=[],f=1;f<arguments.length;f++)e[f-1]=b[f];"number"===typeof a&&(Ba("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),a={width:a,height:e[0],scaleMode:e[1],resolution:e[2]});return new c(new Kd(a))};return c}(na),Wf=function(){function d(c){this.texturePool={};this.textureOptions=c||{};this.enableFullScreen=
!1;this._pixelsHeight=this._pixelsWidth=0}d.prototype.createTexture=function(c,a){c=new Kd(Object.assign({width:c,height:a,resolution:1},this.textureOptions));return new pb(c)};d.prototype.getOptimalTexture=function(c,a,b){void 0===b&&(b=1);var e=d.SCREEN_KEY;c*=b;a*=b;this.enableFullScreen&&c===this._pixelsWidth&&a===this._pixelsHeight||(c=ba(c),a=ba(a),e=(c&65535)<<16|a&65535);this.texturePool[e]||(this.texturePool[e]=[]);var f=this.texturePool[e].pop();f||(f=this.createTexture(c,a));f.filterPoolKey=
e;f.setResolution(b);return f};d.prototype.getFilterTexture=function(c,a){a=this.getOptimalTexture(c.width,c.height,a||c.resolution);a.filterFrame=c.filterFrame;return a};d.prototype.returnTexture=function(c){var a=c.filterPoolKey;c.filterFrame=null;this.texturePool[a].push(c)};d.prototype.returnFilterTexture=function(c){this.returnTexture(c)};d.prototype.clear=function(c){if(!1!==c)for(var a in this.texturePool)if(c=this.texturePool[a])for(var b=0;b<c.length;b++)c[b].destroy(!0);this.texturePool=
{}};d.prototype.setScreenSize=function(c){if(c.width!==this._pixelsWidth||c.height!==this._pixelsHeight){var a=d.SCREEN_KEY,b=this.texturePool[a];this.enableFullScreen=0<c.width&&0<c.height;if(b)for(var e=0;e<b.length;e++)b[e].destroy(!0);this.texturePool[a]=[];this._pixelsWidth=c.width;this._pixelsHeight=c.height}};d.SCREEN_KEY="screen";return d}(),Jd=function(){function d(c,a,b,e,f,g,h){void 0===a&&(a=0);void 0===b&&(b=!1);void 0===e&&(e=5126);this.buffer=c;this.size=a;this.normalized=b;this.type=
e;this.stride=f;this.start=g;this.instance=h}d.prototype.destroy=function(){this.buffer=null};d.from=function(c,a,b,e,f){return new d(c,a,b,e,f)};return d}(),gi=0,Ha=function(){function d(c,a,b){void 0===a&&(a=!0);void 0===b&&(b=!1);this.data=c||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=b;this.static=a;this.id=gi++;this.disposeRunner=new Ja("disposeBuffer")}d.prototype.update=function(c){this.data=c||this.data;this._updateID++};d.prototype.dispose=function(){this.disposeRunner.emit(this,
!1)};d.prototype.destroy=function(){this.dispose();this.data=null};d.from=function(c){c instanceof Array&&(c=new Float32Array(c));return new d(c)};return d}(),hi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Ag={5126:4,5123:2,5121:1},ii=0,ji={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Tb=function(){function d(c,a){void 0===c&&(c=[]);void 0===a&&(a={});this.buffers=c;this.indexBuffer=
null;this.attributes=a;this.glVertexArrayObjects={};this.id=ii++;this.instanced=!1;this.instanceCount=1;this.disposeRunner=new Ja("disposeGeometry");this.refCount=0}d.prototype.addAttribute=function(c,a,b,e,f,g,h,k){void 0===b&&(b=0);void 0===e&&(e=!1);void 0===k&&(k=!1);if(!a)throw Error("You must pass a buffer when creating an attribute");a instanceof Ha||(a instanceof Array&&(a=new Float32Array(a)),a=new Ha(a));var l=c.split("|");if(1<l.length){for(c=0;c<l.length;c++)this.addAttribute(l[c],a,b,
e,f);return this}l=this.buffers.indexOf(a);-1===l&&(this.buffers.push(a),l=this.buffers.length-1);this.attributes[c]=new Jd(l,b,e,f,g,h,k);this.instanced=this.instanced||k;return this};d.prototype.getAttribute=function(c){return this.attributes[c]};d.prototype.getBuffer=function(c){return this.buffers[this.getAttribute(c).buffer]};d.prototype.addIndex=function(c){c instanceof Ha||(c instanceof Array&&(c=new Uint16Array(c)),c=new Ha(c));c.index=!0;this.indexBuffer=c;-1===this.buffers.indexOf(c)&&this.buffers.push(c);
return this};d.prototype.getIndex=function(){return this.indexBuffer};d.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var c=[],a=[],b=new Ha;for(g in this.attributes){var e=this.attributes[g];c.push(this.buffers[e.buffer].data);a.push(e.size*Ag[e.type]/4);e.buffer=0}var f=0;var g=0;e={};for(var h=0;h<c.length;h++)g+=a[h],f+=c[h].length;f=new ArrayBuffer(4*f);var k=0;for(h=0;h<c.length;h++){var l=a[h],m=c[h];var n=Pe(m);e[n]||(e[n]=
new hi[n](f));n=e[n];for(var q=0;q<m.length;q++)n[(q/l|0)*g+k+q%l]=m[q];k+=l}c=new Float32Array(f);b.data=c;for(g=0;g<this.buffers.length;g++)this.buffers[g]!==this.indexBuffer&&this.buffers[g].destroy();this.buffers=[b];this.indexBuffer&&this.buffers.push(this.indexBuffer);return this};d.prototype.getSize=function(){for(var c in this.attributes)return c=this.attributes[c],this.buffers[c.buffer].data.length/(c.stride/4||c.size);return 0};d.prototype.dispose=function(){this.disposeRunner.emit(this,
!1)};d.prototype.destroy=function(){this.dispose();this.attributes=this.indexBuffer=this.buffers=null};d.prototype.clone=function(){for(var c=new d,a=0;a<this.buffers.length;a++)c.buffers[a]=new Ha(this.buffers[a].data.slice(0));for(a in this.attributes){var b=this.attributes[a];c.attributes[a]=new Jd(b.buffer,b.size,b.normalized,b.type,b.stride,b.start,b.instance)}this.indexBuffer&&(c.indexBuffer=c.buffers[this.buffers.indexOf(this.indexBuffer)],c.indexBuffer.index=!0);return c};d.merge=function(c){for(var a=
new d,b=[],e=[],f=[],g,h=0;h<c.length;h++){g=c[h];for(var k=0;k<g.buffers.length;k++)e[k]=e[k]||0,e[k]+=g.buffers[k].data.length,f[k]=0}for(h=0;h<g.buffers.length;h++)b[h]=new (ji[Pe(g.buffers[h].data)])(e[h]),a.buffers[h]=new Ha(b[h]);for(h=0;h<c.length;h++)for(g=c[h],k=0;k<g.buffers.length;k++)b[k].set(g.buffers[k].data,f[k]),f[k]+=g.buffers[k].data.length;a.attributes=g.attributes;if(g.indexBuffer){a.indexBuffer=a.buffers[g.buffers.indexOf(g.indexBuffer)];a.indexBuffer.index=!0;var l=f=e=b=0;for(h=
0;h<g.buffers.length;h++)if(g.buffers[h]!==g.indexBuffer){l=h;break}for(h in g.attributes)k=g.attributes[h],(k.buffer|0)===l&&(e+=k.size*Ag[k.type]/4);for(h=0;h<c.length;h++){var m=c[h].indexBuffer.data;for(k=0;k<m.length;k++)a.indexBuffer.data[k+f]+=b;b+=g.buffers[l].data.length/e;f+=m.length}}return a};return d}(),Uf=function(d){function c(){var a=d.call(this)||this;a.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]);return a}sa(c,d);return c}(Tb),Yd=function(d){function c(){var a=
d.call(this)||this;a.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);a.uvs=new Float32Array([0,0,1,0,1,1,0,1]);a.vertexBuffer=new Ha(a.vertices);a.uvBuffer=new Ha(a.uvs);a.addAttribute("aVertexPosition",a.vertexBuffer).addAttribute("aTextureCoord",a.uvBuffer).addIndex([0,1,2,0,2,3]);return a}sa(c,d);c.prototype.map=function(a,b){var e=0,f=0;this.uvs[0]=e;this.uvs[1]=f;this.uvs[2]=e+b.width/a.width;this.uvs[3]=f;this.uvs[4]=e+b.width/a.width;this.uvs[5]=f+b.height/a.height;this.uvs[6]=e;this.uvs[7]=
f+b.height/a.height;e=b.x;f=b.y;this.vertices[0]=e;this.vertices[1]=f;this.vertices[2]=e+b.width;this.vertices[3]=f;this.vertices[4]=e+b.width;this.vertices[5]=f+b.height;this.vertices[6]=e;this.vertices[7]=f+b.height;this.invalidate();return this};c.prototype.invalidate=function(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this};return c}(Tb),ki=0,tb=function(){function d(c,a){this.uniforms=c;this.group=!0;this.syncUniforms={};this.dirtyId=0;this.id=ki++;this.static=!!a}d.prototype.update=
function(){this.dirtyId++};d.prototype.add=function(c,a,b){this.uniforms[c]=new d(a,b)};d.from=function(c,a){return new d(c,a)};return d}(),Hf=function(){function d(){this.target=this.renderTexture=null;this.legacy=!1;this.resolution=1;this.sourceFrame=new va;this.destinationFrame=new va;this.bindingSourceFrame=new va;this.bindingDestinationFrame=new va;this.filters=[];this.transform=null}d.prototype.clear=function(){this.renderTexture=this.filters=this.target=null};return d}(),Rc=[new Da,new Da,
new Da,new Da],ye=new Fa,Qd=function(d){function c(a){var b=d.call(this,a)||this;b.defaultFilterStack=[{}];b.texturePool=new Wf;b.texturePool.setScreenSize(a.view);b.statePool=[];b.quad=new Uf;b.quadUv=new Yd;b.tempRect=new va;b.activeState={};b.globalUniforms=new tb({outputFrame:new va,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0);b.forceClear=!1;b.useMaxPadding=!1;return b}
sa(c,d);c.prototype.push=function(a,b){for(var e=this.renderer,f=this.defaultFilterStack,g=this.statePool.pop()||new Hf,h=this.renderer.renderTexture,k=b[0].resolution,l=b[0].padding,m=b[0].autoFit,n=b[0].legacy,q=1;q<b.length;q++){var y=b[q];k=Math.min(k,y.resolution);l=this.useMaxPadding?Math.max(l,y.padding):l+y.padding;m=m&&y.autoFit;n=n||y.legacy}1===f.length&&(this.defaultFilterStack[0].renderTexture=h.current);f.push(g);g.resolution=k;g.legacy=n;g.target=a;g.sourceFrame.copyFrom(a.filterArea||
a.getBounds(!0));g.sourceFrame.pad(l);m&&(a=this.tempRect.copyFrom(h.sourceFrame),e.projection.transform&&this.transformAABB(ye.copyFrom(e.projection.transform).invert(),a),g.sourceFrame.fit(a));this.roundFrame(g.sourceFrame,h.current?h.current.resolution:e.resolution,h.sourceFrame,h.destinationFrame,e.projection.transform);g.renderTexture=this.getOptimalFilterTexture(g.sourceFrame.width,g.sourceFrame.height,k);g.filters=b;g.destinationFrame.width=g.renderTexture.width;g.destinationFrame.height=g.renderTexture.height;
b=this.tempRect;b.x=0;b.y=0;b.width=g.sourceFrame.width;b.height=g.sourceFrame.height;g.renderTexture.filterFrame=g.sourceFrame;g.bindingSourceFrame.copyFrom(h.sourceFrame);g.bindingDestinationFrame.copyFrom(h.destinationFrame);g.transform=e.projection.transform;e.projection.transform=null;h.bind(g.renderTexture,g.sourceFrame,b);e.framebuffer.clear(0,0,0,0)};c.prototype.pop=function(){var a=this.defaultFilterStack,b=a.pop(),e=b.filters;this.activeState=b;var f=this.globalUniforms.uniforms;f.outputFrame=
b.sourceFrame;f.resolution=b.resolution;var g=f.inputSize,h=f.inputPixel,k=f.inputClamp;g[0]=b.destinationFrame.width;g[1]=b.destinationFrame.height;g[2]=1/g[0];g[3]=1/g[1];h[0]=g[0]*b.resolution;h[1]=g[1]*b.resolution;h[2]=1/h[0];h[3]=1/h[1];k[0]=.5*h[2];k[1]=.5*h[3];k[2]=b.sourceFrame.width*g[2]-.5*h[2];k[3]=b.sourceFrame.height*g[3]-.5*h[3];b.legacy&&(g=f.filterArea,g[0]=b.destinationFrame.width,g[1]=b.destinationFrame.height,g[2]=b.sourceFrame.x,g[3]=b.sourceFrame.y,f.filterClamp=f.inputClamp);
this.globalUniforms.update();a=a[a.length-1];1<b.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit();if(1===e.length)e[0].apply(this,b.renderTexture,a.renderTexture,hb.BLEND,b),this.returnFilterTexture(b.renderTexture);else{f=b.renderTexture;g=this.getOptimalFilterTexture(f.width,f.height,b.resolution);g.filterFrame=f.filterFrame;for(h=0;h<e.length-1;++h)e[h].apply(this,f,g,hb.CLEAR,b),k=f,f=g,g=k;e[h].apply(this,f,a.renderTexture,hb.BLEND,b);this.returnFilterTexture(f);this.returnFilterTexture(g)}b.clear();
this.statePool.push(b)};c.prototype.bindAndClear=function(a,b){void 0===b&&(b=hb.CLEAR);var e=this.renderer,f=e.renderTexture;e=e.state;this.renderer.projection.transform=a===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null;if(a&&a.filterFrame){var g=this.tempRect;g.x=0;g.y=0;g.width=a.filterFrame.width;g.height=a.filterFrame.height;f.bind(a,a.filterFrame,g)}else a!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?f.bind(a):
this.renderer.renderTexture.bind(a,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);a=e.stateId&1||this.forceClear;(b===hb.CLEAR||b===hb.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)};c.prototype.applyFilter=function(a,b,e,f){var g=this.renderer;g.state.set(a.state);this.bindAndClear(e,f);a.uniforms.uSampler=b;a.uniforms.filterGlobals=this.globalUniforms;g.shader.bind(a);a.legacy?(this.quadUv.map(b._frame,b.filterFrame),g.geometry.bind(this.quadUv),g.geometry.draw(Qa.TRIANGLES)):
(g.geometry.bind(this.quad),g.geometry.draw(Qa.TRIANGLE_STRIP))};c.prototype.calculateSpriteMatrix=function(a,b){var e=this.activeState,f=e.sourceFrame,g=e.destinationFrame;e=b._texture.orig;a=a.set(g.width,0,0,g.height,f.x,f.y);f=b.worldTransform.copyTo(Fa.TEMP_MATRIX);f.invert();a.prepend(f);a.scale(1/e.width,1/e.height);a.translate(b.anchor.x,b.anchor.y);return a};c.prototype.destroy=function(){this.texturePool.clear(!1)};c.prototype.getOptimalFilterTexture=function(a,b,e){void 0===e&&(e=1);return this.texturePool.getOptimalTexture(a,
b,e)};c.prototype.getFilterTexture=function(a,b){if("number"===typeof a){var e=a;a=b;b=e}a=a||this.activeState.renderTexture;b=this.texturePool.getOptimalTexture(a.width,a.height,b||a.resolution);b.filterFrame=a.filterFrame;return b};c.prototype.returnFilterTexture=function(a){this.texturePool.returnTexture(a)};c.prototype.emptyPool=function(){this.texturePool.clear(!0)};c.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)};c.prototype.transformAABB=function(a,b){var e=
Rc[0],f=Rc[1],g=Rc[2],h=Rc[3];e.set(b.left,b.top);f.set(b.left,b.bottom);g.set(b.right,b.top);h.set(b.right,b.bottom);a.apply(e,e);a.apply(f,f);a.apply(g,g);a.apply(h,h);a=Math.min(e.x,f.x,g.x,h.x);var k=Math.min(e.y,f.y,g.y,h.y),l=Math.max(e.x,f.x,g.x,h.x);e=Math.max(e.y,f.y,g.y,h.y);b.x=a;b.y=k;b.width=l-a;b.height=e-k};c.prototype.roundFrame=function(a,b,e,f,g){if(g){var h=g.a,k=g.c,l=g.d;if(!(0===g.b&&0===k||0===h&&0===l))return}g=g?ye.copyFrom(g):ye.identity();g.translate(-e.x,-e.y).scale(f.width/
e.width,f.height/e.height).translate(f.x,f.y);this.transformAABB(g,a);a.ceil(b);this.transformAABB(g.invert(),a)};return c}(Na),kc=function(){function d(c){this.renderer=c}d.prototype.flush=function(){};d.prototype.destroy=function(){this.renderer=null};d.prototype.start=function(){};d.prototype.stop=function(){this.flush()};d.prototype.render=function(c){};return d}(),Md=function(d){function c(a){var b=d.call(this,a)||this;b.emptyRenderer=new kc(a);b.currentRenderer=b.emptyRenderer;return b}sa(c,
d);c.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};c.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};c.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)};c.prototype.copyBoundTextures=function(a,b){var e=this.renderer.texture.boundTextures;for(--b;0<=b;--b)a[b]=e[b]||null,a[b]&&(a[b]._batchLocation=b)};c.prototype.boundArray=function(a,b,e,f){var g=a.elements,
h=a.ids;a=a.count;for(var k=0,l=0;l<a;l++){var m=g[l],n=m._batchLocation;if(0<=n&&n<f&&b[n]===m)h[l]=n;else for(;k<f;)if((n=b[k])&&n._batchEnabled===e&&n._batchLocation===k)k++;else{h[l]=k;m._batchLocation=k;b[k]=m;break}}};return c}(Na),Bg=0,Nd=function(d){function c(a){var b=d.call(this,a)||this;b.webGLVersion=1;b.extensions={};b.supports={uint32Indices:!1};b.handleContextLost=b.handleContextLost.bind(b);b.handleContextRestored=b.handleContextRestored.bind(b);a.view.addEventListener("webglcontextlost",
b.handleContextLost,!1);a.view.addEventListener("webglcontextrestored",b.handleContextRestored,!1);return b}sa(c,d);Object.defineProperty(c.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0});c.prototype.contextChange=function(a){this.gl=a;this.renderer.gl=a;this.renderer.CONTEXT_UID=Bg++;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext()};c.prototype.initFromContext=function(a){this.gl=
a;this.validateContext(a);this.renderer.gl=a;this.renderer.CONTEXT_UID=Bg++;this.renderer.runners.contextChange.emit(a)};c.prototype.initFromOptions=function(a){a=this.createContext(this.renderer.view,a);this.initFromContext(a)};c.prototype.createContext=function(a,b){var e;ja.PREFER_ENV>=Ya.WEBGL2&&(e=a.getContext("webgl2",b));if(e)this.webGLVersion=2;else if(this.webGLVersion=1,e=a.getContext("webgl",b)||a.getContext("experimental-webgl",b),!e)throw Error("This browser does not support WebGL. Try using the canvas renderer");
this.gl=e;this.getExtensions();return this.gl};c.prototype.getExtensions=function(){var a=this.gl,b={anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),s3tc:a.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:a.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:a.getExtension("WEBGL_compressed_texture_etc"),etc1:a.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:a.getExtension("WEBGL_compressed_texture_atc"),astc:a.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,b,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),
uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,b,{colorBufferFloat:a.getExtension("EXT_color_buffer_float")})};c.prototype.handleContextLost=function(a){a.preventDefault()};c.prototype.handleContextRestored=
function(){this.renderer.runners.contextChange.emit(this.gl)};c.prototype.destroy=function(){var a=this.renderer.view;a.removeEventListener("webglcontextlost",this.handleContextLost);a.removeEventListener("webglcontextrestored",this.handleContextRestored);this.gl.useProgram(null);this.extensions.loseContext&&this.extensions.loseContext.loseContext()};c.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()};c.prototype.validateContext=function(a){var b=a.getContextAttributes(),
e="WebGL2RenderingContext"in self&&a instanceof self.WebGL2RenderingContext;e&&(this.webGLVersion=2);b.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");a=e||!!a.getExtension("OES_element_index_uint");(this.supports.uint32Indices=a)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")};return c}(Na),If=function(){return function(d){this.framebuffer=d;this.stencil=null;this.dirtySize=
this.dirtyFormat=this.dirtyId=0;this.multisample=Bb.NONE;this.blitFramebuffer=this.msaaBuffer=null}}(),li=new va,Rd=function(d){function c(a){a=d.call(this,a)||this;a.managedFramebuffers=[];a.unknownFramebuffer=new Gc(10,10);a.msaaSamples=null;return a}sa(c,d);c.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=this.unknownFramebuffer;this.viewport=new va;this.writeDepthTexture=this.hasMRT=!0;this.disposeAll(!0);if(1===this.renderer.context.webGLVersion){var b=
this.renderer.context.extensions.drawBuffers,e=this.renderer.context.extensions.depthTexture;ja.PREFER_ENV===Ya.WEBGL_LEGACY&&(e=b=null);b?a.drawBuffers=function(f){return b.drawBuffersWEBGL(f)}:(this.hasMRT=!1,a.drawBuffers=function(){});e||(this.writeDepthTexture=!1)}else this.msaaSamples=a.getInternalformatParameter(a.RENDERBUFFER,a.RGBA8,a.SAMPLES)};c.prototype.bind=function(a,b){var e=this.gl;if(a){var f=a.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(a);this.current!==a&&(this.current=
a,e.bindFramebuffer(e.FRAMEBUFFER,f.framebuffer));f.dirtyId!==a.dirtyId&&(f.dirtyId=a.dirtyId,f.dirtyFormat!==a.dirtyFormat?(f.dirtyFormat=a.dirtyFormat,this.updateFramebuffer(a)):f.dirtySize!==a.dirtySize&&(f.dirtySize=a.dirtySize,this.resizeFramebuffer(a)));for(e=0;e<a.colorTextures.length;e++)f=a.colorTextures[e],this.renderer.texture.unbind(f.parentTextureArray||f);a.depthTexture&&this.renderer.texture.unbind(a.depthTexture);b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,a.width,
a.height)}else this.current&&(this.current=null,e.bindFramebuffer(e.FRAMEBUFFER,null)),b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)};c.prototype.setViewport=function(a,b,e,f){var g=this.viewport;if(g.width!==e||g.height!==f||g.x!==a||g.y!==b)g.x=a,g.y=b,g.width=e,g.height=f,this.gl.viewport(a,b,e,f)};Object.defineProperty(c.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:
{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0});c.prototype.clear=function(a,b,e,f,g){void 0===g&&(g=ec.COLOR|ec.DEPTH);var h=this.gl;h.clearColor(a,b,e,f);h.clear(g)};c.prototype.initFramebuffer=function(a){var b=new If(this.gl.createFramebuffer());b.multisample=this.detectSamples(a.multisample);a.glFramebuffers[this.CONTEXT_UID]=b;this.managedFramebuffers.push(a);a.disposeRunner.add(this);return b};c.prototype.resizeFramebuffer=function(a){var b=
this.gl,e=a.glFramebuffers[this.CONTEXT_UID];e.stencil&&(b.bindRenderbuffer(b.RENDERBUFFER,e.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height));b=a.colorTextures;for(e=0;e<b.length;e++)this.renderer.texture.bind(b[e],0);a.depthTexture&&this.renderer.texture.bind(a.depthTexture,0)};c.prototype.updateFramebuffer=function(a){var b=this.gl,e=a.glFramebuffers[this.CONTEXT_UID],f=a.colorTextures.length;b.drawBuffers||(f=Math.min(f,1));1<e.multisample&&(e.msaaBuffer=b.createRenderbuffer(),
b.bindRenderbuffer(b.RENDERBUFFER,e.msaaBuffer),b.renderbufferStorageMultisample(b.RENDERBUFFER,e.multisample,b.RGBA8,a.width,a.height),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,e.msaaBuffer));for(var g=[],h=0;h<f;h++)if(!(0===h&&1<e.multisample)){var k=a.colorTextures[h],l=k.parentTextureArray||k;this.renderer.texture.bind(l,0);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0+h,k.target,l._glTextures[this.CONTEXT_UID].texture,0);g.push(b.COLOR_ATTACHMENT0+
h)}1<g.length&&b.drawBuffers(g);a.depthTexture&&this.writeDepthTexture&&(f=a.depthTexture,this.renderer.texture.bind(f,0),b.framebufferTexture2D(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0));e.stencil||!a.stencil&&!a.depth||(e.stencil=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,e.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height),a.depthTexture||b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,
b.RENDERBUFFER,e.stencil))};c.prototype.detectSamples=function(a){var b=this.msaaSamples,e=Bb.NONE;if(1>=a||null===b)return e;for(var f=0;f<b.length;f++)if(b[f]<=a){e=b[f];break}1===e&&(e=Bb.NONE);return e};c.prototype.blit=function(a,b,e){var f=this.current,g=this.gl;if(2===this.renderer.context.webGLVersion&&f){var h=f.glFramebuffers[this.CONTEXT_UID];if(h){if(!a){if(1>=h.multisample)return;h.blitFramebuffer||(h.blitFramebuffer=new Gc(f.width,f.height),h.blitFramebuffer.addColorTexture(0,f.colorTextures[0]));
a=h.blitFramebuffer;a.width=f.width;a.height=f.height}b||(b=li,b.width=f.width,b.height=f.height);e||(e=b);f=b.width===e.width&&b.height===e.height;this.bind(a);g.bindFramebuffer(g.READ_FRAMEBUFFER,h.framebuffer);g.blitFramebuffer(b.x,b.y,b.width,b.height,e.x,e.y,e.width,e.height,g.COLOR_BUFFER_BIT,f?g.NEAREST:g.LINEAR)}}};c.prototype.disposeFramebuffer=function(a,b){var e=a.glFramebuffers[this.CONTEXT_UID],f=this.gl;if(e){delete a.glFramebuffers[this.CONTEXT_UID];var g=this.managedFramebuffers.indexOf(a);
0<=g&&this.managedFramebuffers.splice(g,1);a.disposeRunner.remove(this);b||(f.deleteFramebuffer(e.framebuffer),e.stencil&&f.deleteRenderbuffer(e.stencil))}};c.prototype.disposeAll=function(a){var b=this.managedFramebuffers;this.managedFramebuffers=[];for(var e=0;e<b.length;e++)this.disposeFramebuffer(b[e],a)};c.prototype.forceStencil=function(){var a=this.current;if(a){var b=a.glFramebuffers[this.CONTEXT_UID];if(b&&!b.stencil){a.enableStencil();var e=a.width;a=a.height;var f=this.gl,g=f.createRenderbuffer();
f.bindRenderbuffer(f.RENDERBUFFER,g);f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,e,a);b.stencil=g;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,g)}}};c.prototype.reset=function(){this.current=this.unknownFramebuffer;this.viewport=new va};return c}(Na),mi=function(){return function(d){this.buffer=d||null;this.byteLength=this.updateID=-1;this.refCount=0}}(),ze={5126:4,5123:2,5121:1},Sd=function(d){function c(a){a=d.call(this,a)||this;a._activeGeometry=null;
a._activeVao=null;a.hasVao=!0;a.hasInstance=!0;a.canUseUInt32ElementIndex=!1;a.managedGeometries={};a.managedBuffers={};return a}sa(c,d);c.prototype.contextChange=function(){this.disposeAll(!0);var a=this.gl=this.renderer.gl,b=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(2!==b.webGLVersion){var e=this.renderer.context.extensions.vertexArrayObject;ja.PREFER_ENV===Ya.WEBGL_LEGACY&&(e=null);e?(a.createVertexArray=function(){return e.createVertexArrayOES()},a.bindVertexArray=function(g){return e.bindVertexArrayOES(g)},
a.deleteVertexArray=function(g){return e.deleteVertexArrayOES(g)}):(this.hasVao=!1,a.createVertexArray=function(){return null},a.bindVertexArray=function(){return null},a.deleteVertexArray=function(){return null})}if(2!==b.webGLVersion){var f=a.getExtension("ANGLE_instanced_arrays");f?(a.vertexAttribDivisor=function(g,h){return f.vertexAttribDivisorANGLE(g,h)},a.drawElementsInstanced=function(g,h,k,l,m){return f.drawElementsInstancedANGLE(g,h,k,l,m)},a.drawArraysInstanced=function(g,h,k,l){return f.drawArraysInstancedANGLE(g,
h,k,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===b.webGLVersion||!!b.extensions.uint32ElementIndex};c.prototype.bind=function(a,b){b=b||this.renderer.shader.shader;var e=this.gl,f=a.glVertexArrayObjects[this.CONTEXT_UID],g=!1;f||(this.managedGeometries[a.id]=a,a.disposeRunner.add(this),a.glVertexArrayObjects[this.CONTEXT_UID]=f={},g=!0);f=f[b.program.id]||this.initGeometryVao(a,b.program,g);this._activeGeometry=a;this._activeVao!==f&&(this._activeVao=f,this.hasVao?e.bindVertexArray(f):
this.activateVao(a,b.program));this.updateBuffers()};c.prototype.reset=function(){this.unbind()};c.prototype.updateBuffers=function(){for(var a=this._activeGeometry,b=this.gl,e=0;e<a.buffers.length;e++){var f=a.buffers[e],g=f._glBuffers[this.CONTEXT_UID];if(f._updateID!==g.updateID){g.updateID=f._updateID;var h=f.index?b.ELEMENT_ARRAY_BUFFER:b.ARRAY_BUFFER;b.bindBuffer(h,g.buffer);this._boundBuffer=g;if(g.byteLength>=f.data.byteLength)b.bufferSubData(h,0,f.data);else{var k=f.static?b.STATIC_DRAW:
b.DYNAMIC_DRAW;g.byteLength=f.data.byteLength;b.bufferData(h,f.data,k)}}}};c.prototype.checkCompatibility=function(a,b){a=a.attributes;b=b.attributeData;for(var e in b)if(!a[e])throw Error('shader and geometry incompatible, geometry missing the "'+e+'" attribute');};c.prototype.getSignature=function(a,b){var e=a.attributes;b=b.attributeData;a=["g",a.id];for(var f in e)b[f]&&a.push(f);return a.join("-")};c.prototype.initGeometryVao=function(a,b,e){void 0===e&&(e=!0);this.checkCompatibility(a,b);var f=
this.gl,g=this.CONTEXT_UID,h=this.getSignature(a,b),k=a.glVertexArrayObjects[this.CONTEXT_UID],l=k[h];if(l)return k[b.id]=l;var m=a.buffers;l=a.attributes;var n={},q={},y;for(y in m)n[y]=0,q[y]=0;for(y in l)!l[y].size&&b.attributeData[y]?l[y].size=b.attributeData[y].size:l[y].size||console.warn("PIXI Geometry attribute '"+y+"' size cannot be determined (likely the bound shader does not have the attribute)"),n[l[y].buffer]+=l[y].size*ze[l[y].type];for(y in l){var E=l[y],N=E.size;void 0===E.stride&&
(E.stride=n[E.buffer]===N*ze[E.type]?0:n[E.buffer]);void 0===E.start&&(E.start=q[E.buffer],q[E.buffer]+=N*ze[E.type])}l=f.createVertexArray();f.bindVertexArray(l);for(y=0;y<m.length;y++)n=m[y],n._glBuffers[g]||(n._glBuffers[g]=new mi(f.createBuffer()),this.managedBuffers[n.id]=n,n.disposeRunner.add(this)),e&&n._glBuffers[g].refCount++;this.activateVao(a,b);this._activeVao=l;k[b.id]=l;return k[h]=l};c.prototype.disposeBuffer=function(a,b){if(this.managedBuffers[a.id]){delete this.managedBuffers[a.id];
var e=a._glBuffers[this.CONTEXT_UID],f=this.gl;a.disposeRunner.remove(this);e&&(b||f.deleteBuffer(e.buffer),delete a._glBuffers[this.CONTEXT_UID])}};c.prototype.disposeGeometry=function(a,b){if(this.managedGeometries[a.id]){delete this.managedGeometries[a.id];var e=a.glVertexArrayObjects[this.CONTEXT_UID],f=this.gl,g=a.buffers;a.disposeRunner.remove(this);if(e){for(var h=0;h<g.length;h++){var k=g[h]._glBuffers[this.CONTEXT_UID];k.refCount--;0!==k.refCount||b||this.disposeBuffer(g[h],b)}if(!b)for(var l in e)"g"===
l[0]&&(b=e[l],this._activeVao===b&&this.unbind(),f.deleteVertexArray(b));delete a.glVertexArrayObjects[this.CONTEXT_UID]}}};c.prototype.disposeAll=function(a){for(var b=Object.keys(this.managedGeometries),e=0;e<b.length;e++)this.disposeGeometry(this.managedGeometries[b[e]],a);b=Object.keys(this.managedBuffers);for(e=0;e<b.length;e++)this.disposeBuffer(this.managedBuffers[b[e]],a)};c.prototype.activateVao=function(a,b){var e=this.gl,f=this.CONTEXT_UID,g=a.buffers,h=a.attributes;a.indexBuffer&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,
a.indexBuffer._glBuffers[f].buffer);a=null;for(var k in h){var l=h[k],m=g[l.buffer]._glBuffers[f];if(b.attributeData[k]&&(a!==m&&(e.bindBuffer(e.ARRAY_BUFFER,m.buffer),a=m),m=b.attributeData[k].location,e.enableVertexAttribArray(m),e.vertexAttribPointer(m,l.size,l.type||e.FLOAT,l.normalized,l.stride,l.start),l.instance))if(this.hasInstance)e.vertexAttribDivisor(m,1);else throw Error("geometry error, GPU Instancing is not supported on this device");}};c.prototype.draw=function(a,b,e,f){var g=this.gl,
h=this._activeGeometry;if(h.indexBuffer){var k=h.indexBuffer.data.BYTES_PER_ELEMENT,l=2===k?g.UNSIGNED_SHORT:g.UNSIGNED_INT;2===k||4===k&&this.canUseUInt32ElementIndex?h.instanced?g.drawElementsInstanced(a,b||h.indexBuffer.data.length,l,(e||0)*k,f||1):g.drawElements(a,b||h.indexBuffer.data.length,l,(e||0)*k):console.warn("unsupported index buffer type: uint32")}else h.instanced?g.drawArraysInstanced(a,e,b||h.getSize(),f||1):g.drawArrays(a,e,b||h.getSize());return this};c.prototype.unbind=function(){this.gl.bindVertexArray(null);
this._activeGeometry=this._activeVao=null};return c}(Na),Pf=function(){function d(c){void 0===c&&(c=null);this.type=Ma.NONE;this.autoDetect=!0;this.maskObject=c||null;this.pooled=!1;this.isMaskData=!0;this._scissorCounter=this._stencilCounter=0;this._target=this._scissorRect=null}d.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ma.NONE,this.autoDetect=!0);this._target=null};d.prototype.copyCountersOrReset=function(c){c?(this._stencilCounter=c._stencilCounter,this._scissorCounter=
c._scissorCounter,this._scissorRect=c._scissorRect):(this._scissorCounter=this._stencilCounter=0,this._scissorRect=null)};return d}(),Ue={},cc=Ue,Sc,ni={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},yc=null,Xe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",
UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Nc=[{test:function(d){return"float"===d.type&&1===d.size},
code:function(d){return'\n            if(uv["'+d+'"] !== ud["'+d+'"].value)\n            {\n                ud["'+d+'"].value = uv["'+d+'"]\n                gl.uniform1f(ud["'+d+'"].location, uv["'+d+'"])\n            }\n            '}},{test:function(d){return("sampler2D"===d.type||"samplerCube"===d.type||"sampler2DArray"===d.type)&&1===d.size&&!d.isArray},code:function(d){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+d+'"], t);\n\n            if(ud["'+d+'"].value !== t)\n            {\n                ud["'+
d+'"].value = t;\n                gl.uniform1i(ud["'+d+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(d,c){return"mat3"===d.type&&1===d.size&&void 0!==c.a},code:function(d){return'\n            gl.uniformMatrix3fv(ud["'+d+'"].location, false, uv["'+d+'"].toArray(true));\n            '}},{test:function(d,c){return"vec2"===d.type&&1===d.size&&void 0!==c.x},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+
d+'"].location, v.x, v.y);\n                }'}},{test:function(d){return"vec2"===d.type&&1===d.size},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+d+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(d,c){return"vec4"===d.type&&1===d.size&&
void 0!==c.width},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+d+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(d){return"vec4"===
d.type&&1===d.size},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+d+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],oi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",
vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",
ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",
mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},pi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",
ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},mh="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}",
Tc,qi=0,Uc={},nc=function(){function d(c,a,b){void 0===b&&(b="pixi-shader");this.id=qi++;this.vertexSrc=c||d.defaultVertexSrc;this.fragmentSrc=a||d.defaultFragmentSrc;this.vertexSrc=this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();"#version"!==this.vertexSrc.substring(0,8)&&(b=b.replace(/\s+/g,"-"),Uc[b]?(Uc[b]++,b+="-"+Uc[b]):Uc[b]=1,this.vertexSrc="#define SHADER_NAME "+b+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+b+"\n"+this.fragmentSrc,this.vertexSrc=Ve(this.vertexSrc,
ja.PRECISION_VERTEX,Ta.HIGH),c=this.fragmentSrc,a=ja.PRECISION_FRAGMENT,Sc||(Sc=Ta.MEDIUM,(b=Te())&&b.getShaderPrecisionFormat&&(Sc=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT).precision?Ta.HIGH:Ta.MEDIUM)),this.fragmentSrc=Ve(c,a,Sc));this.extractData(this.vertexSrc,this.fragmentSrc);this.glPrograms={};this.syncUniforms=null}d.prototype.extractData=function(c,a){var b=Te();b?(c=Re(b,c,a),this.attributeData=this.getAttributeData(c,b),this.uniformData=this.getUniformData(c,b),b.deleteProgram(c)):
(this.uniformData={},this.attributeData={})};d.prototype.getAttributeData=function(c,a){for(var b={},e=[],f=a.getProgramParameter(c,a.ACTIVE_ATTRIBUTES),g=0;g<f;g++){var h=a.getActiveAttrib(c,g),k=We(a,h.type);k={type:k,name:h.name,size:ni[k],location:0};b[h.name]=k;e.push(k)}e.sort(function(l,m){return l.name>m.name?1:-1});for(g=0;g<e.length;g++)e[g].location=g;return b};d.prototype.getUniformData=function(c,a){for(var b={},e=a.getProgramParameter(c,a.ACTIVE_UNIFORMS),f=0;f<e;f++){var g=a.getActiveUniform(c,
f),h=g.name.replace(/\[.*?\]$/,""),k=g.name.match(/\[.*?\]$/),l=We(a,g.type);b[h]={type:l,size:g.size,isArray:k,value:Se(l,g.size)}}return b};Object.defineProperty(d,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0});
Object.defineProperty(d,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0});d.from=function(c,a,b){var e=c+a,f=oe[e];f||(oe[e]=f=new d(c,a,b));return f};return d}(),qb=function(){function d(c,a){this.program=c;this.uniformGroup=a?a instanceof tb?a:new tb(a):new tb({});for(var b in c.uniformData)this.uniformGroup.uniforms[b]instanceof Array&&
(this.uniformGroup.uniforms[b]=new Float32Array(this.uniformGroup.uniforms[b]))}d.prototype.checkUniformExists=function(c,a){if(a.uniforms[c])return!0;for(var b in a.uniforms){var e=a.uniforms[b];if(e.group&&this.checkUniformExists(c,e))return!0}return!1};d.prototype.destroy=function(){this.uniformGroup=null};Object.defineProperty(d.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0});d.from=function(c,a,b){c=nc.from(c,a);return new d(c,b)};return d}(),
rb=function(){function d(){this.data=0;this.blendMode=la.NORMAL;this.polygonOffset=0;this.depthMask=this.blend=!0}Object.defineProperty(d.prototype,"blend",{get:function(){return!!(this.data&1)},set:function(c){!!(this.data&1)!==c&&(this.data^=1)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"offsets",{get:function(){return!!(this.data&2)},set:function(c){!!(this.data&2)!==c&&(this.data^=2)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"culling",{get:function(){return!!(this.data&
4)},set:function(c){!!(this.data&4)!==c&&(this.data^=4)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"depthTest",{get:function(){return!!(this.data&8)},set:function(c){!!(this.data&8)!==c&&(this.data^=8)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"depthMask",{get:function(){return!!(this.data&32)},set:function(c){!!(this.data&32)!==c&&(this.data^=32)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&
16)},set:function(c){!!(this.data&16)!==c&&(this.data^=16)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"blendMode",{get:function(){return this._blendMode},set:function(c){this.blend=c!==la.NONE;this._blendMode=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(c){this.offsets=!!c;this._polygonOffset=c},enumerable:!1,configurable:!0});d.prototype.toString=function(){return"[@pixi/core:State blendMode="+
(this.blendMode+" clockwiseFrontFace=")+(this.clockwiseFrontFace+" culling=")+(this.culling+" depthMask=")+(this.depthMask+" polygonOffset=")+this.polygonOffset+"]"};d.for2d=function(){var c=new d;c.depthTest=!1;c.blend=!0;return c};return d}(),ib=function(d){function c(a,b,e){a=nc.from(a||c.defaultVertexSrc,b||c.defaultFragmentSrc);e=d.call(this,a,e)||this;e.padding=0;e.resolution=ja.FILTER_RESOLUTION;e.enabled=!0;e.autoFit=!0;e.legacy=!!e.program.attributeData.aTextureCoord;e.state=new rb;return e}
sa(c,d);c.prototype.apply=function(a,b,e,f,g){a.applyFilter(this,b,e,f)};Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(c,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0});return c}(qb),Cg=new Fa,Lc=function(){function d(c,a){this._texture=c;this.mapCoord=new Fa;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this.clampOffset=this._updateID=0;this.clampMargin=
"undefined"===typeof a?.5:a;this.isSimple=!1}Object.defineProperty(d.prototype,"texture",{get:function(){return this._texture},set:function(c){this._texture=c;this._textureID=-1},enumerable:!1,configurable:!0});d.prototype.multiplyUvs=function(c,a){void 0===a&&(a=c);for(var b=this.mapCoord,e=0;e<c.length;e+=2){var f=c[e],g=c[e+1];a[e]=f*b.a+g*b.c+b.tx;a[e+1]=f*b.b+g*b.d+b.ty}return a};d.prototype.update=function(c){var a=this._texture;if(!a||!a.valid||!c&&this._textureID===a._updateID)return!1;this._textureID=
a._updateID;this._updateID++;c=a._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);c=a.orig;var b=a.trim;b&&(Cg.set(c.width/b.width,0,0,c.height/b.height,-b.x/b.width,-b.y/b.height),this.mapCoord.append(Cg));c=a.baseTexture;b=this.uClampFrame;var e=this.clampMargin/c.resolution,f=this.clampOffset;b[0]=(a._frame.x+e+f)/c.width;b[1]=(a._frame.y+e+f)/c.height;b[2]=(a._frame.x+a._frame.width-e+f)/c.width;b[3]=(a._frame.y+a._frame.height-e+f)/c.height;this.uClampOffset[0]=f/c.realWidth;
this.uClampOffset[1]=f/c.realHeight;this.isSimple=a._frame.width===c.width&&a._frame.height===c.height&&0===a.rotate;return!0};return d}(),$f=function(d){function c(a){var b=new Fa;var e=d.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||
this;a.renderable=!1;e.maskSprite=a;e.maskMatrix=b;return e}sa(c,d);c.prototype.apply=function(a,b,e,f){var g=this.maskSprite,h=g._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Lc(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,g).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=g.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,a.applyFilter(this,b,e,f))};return c}(ib),Wd=
function(d){function c(a){a=d.call(this,a)||this;a.enableScissor=!0;a.alphaMaskPool=[];a.maskDataPool=[];a.maskStack=[];a.alphaMaskIndex=0;return a}sa(c,d);c.prototype.setMaskStack=function(a){this.maskStack=a;this.renderer.scissor.setMaskStack(a);this.renderer.stencil.setMaskStack(a)};c.prototype.push=function(a,b){var e=b;e.isMaskData||(e=this.maskDataPool.pop()||new Pf,e.pooled=!0,e.maskObject=b);e.autoDetect&&this.detect(e);e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]);e._target=
a;switch(e.type){case Ma.SCISSOR:this.maskStack.push(e);this.renderer.scissor.push(e);break;case Ma.STENCIL:this.maskStack.push(e);this.renderer.stencil.push(e);break;case Ma.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}};c.prototype.pop=function(a){var b=this.maskStack.pop();if(b&&b._target===a){switch(b.type){case Ma.SCISSOR:this.renderer.scissor.pop();break;case Ma.STENCIL:this.renderer.stencil.pop(b.maskObject);break;case Ma.SPRITE:this.popSpriteMask()}b.reset();
b.pooled&&this.maskDataPool.push(b)}};c.prototype.detect=function(a){var b=a.maskObject;if(b.isSprite)a.type=Ma.SPRITE;else if(a.type=Ma.STENCIL,this.enableScissor&&b.isFastRect&&b.isFastRect()){var e=b.worldTransform;b=Math.atan2(e.b,e.a);e=Math.atan2(e.d,e.c);b=Math.round(180/Math.PI*b*100);e=Math.round(180/Math.PI*e*100)-b;0===(b%9E3+9E3)%9E3&&9E3===(e%18E3+18E3)%18E3&&(a.type=Ma.SCISSOR)}};c.prototype.pushSpriteMask=function(a){var b=a.maskObject;a=a._target;var e=this.alphaMaskPool[this.alphaMaskIndex];
e||(e=this.alphaMaskPool[this.alphaMaskIndex]=[new $f(b)]);e[0].resolution=this.renderer.resolution;e[0].maskSprite=b;var f=a.filterArea;a.filterArea=b.getBounds(!0);this.renderer.filter.push(a,e);a.filterArea=f;this.alphaMaskIndex++};c.prototype.popSpriteMask=function(){this.renderer.filter.pop();this.alphaMaskIndex--};return c}(Na),Dg=function(d){function c(a){a=d.call(this,a)||this;a.maskStack=[];a.glConst=0;return a}sa(c,d);c.prototype.getStackLength=function(){return this.maskStack.length};c.prototype.setMaskStack=
function(a){var b=this.renderer.gl,e=this.getStackLength();this.maskStack=a;a=this.getStackLength();a!==e&&(0===a?b.disable(this.glConst):(b.enable(this.glConst),this._useCurrent()))};c.prototype._useCurrent=function(){};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.maskStack=null};return c}(Na),ae=function(d){function c(a){a=d.call(this,a)||this;a.glConst=WebGLRenderingContext.SCISSOR_TEST;return a}sa(c,d);c.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-
1];return a?a._scissorCounter:0};c.prototype.push=function(a){var b=a.maskObject;b.renderable=!0;var e=a._scissorRect,f=b.getBounds(!0),g=this.renderer.gl;b.renderable=!1;e?f.fit(e):g.enable(g.SCISSOR_TEST);a._scissorCounter++;a._scissorRect=f;this._useCurrent()};c.prototype.pop=function(){var a=this.renderer.gl;0<this.getStackLength()?this._useCurrent():a.disable(a.SCISSOR_TEST)};c.prototype._useCurrent=function(){var a=this.maskStack[this.maskStack.length-1]._scissorRect,b=this.renderer.renderTexture.current,
e=this.renderer.projection,f=e.transform,g=e.sourceFrame,h=e.destinationFrame;e=b?b.resolution:this.renderer.resolution;var k=h.width/g.width,l=h.height/g.height,m=((a.x-g.x)*k+h.x)*e;g=((a.y-g.y)*l+h.y)*e;k=a.width*k*e;a=a.height*l*e;f&&(m+=f.tx*e,g+=f.ty*e);b||(g=this.renderer.height-a-g);this.renderer.gl.scissor(m,g,k,a)};return c}(Dg),de=function(d){function c(a){a=d.call(this,a)||this;a.glConst=WebGLRenderingContext.STENCIL_TEST;return a}sa(c,d);c.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-
1];return a?a._stencilCounter:0};c.prototype.push=function(a){var b=a.maskObject,e=this.renderer.gl,f=a._stencilCounter;0===f&&(this.renderer.framebuffer.forceStencil(),e.enable(e.STENCIL_TEST));a._stencilCounter++;e.colorMask(!1,!1,!1,!1);e.stencilFunc(e.EQUAL,f,this._getBitwiseMask());e.stencilOp(e.KEEP,e.KEEP,e.INCR);b.renderable=!0;b.render(this.renderer);this.renderer.batch.flush();this.renderer.framebuffer.blit();b.renderable=!1;this._useCurrent()};c.prototype.pop=function(a){var b=this.renderer.gl;
0===this.getStackLength()?(b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.clearStencil(0)):(b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.DECR),a.renderable=!0,a.render(this.renderer),this.renderer.batch.flush(),a.renderable=!1,this._useCurrent())};c.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.getStackLength(),this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<
this.getStackLength())-1};return c}(Dg),Xd=function(d){function c(a){a=d.call(this,a)||this;a.destinationFrame=null;a.sourceFrame=null;a.defaultFrame=null;a.projectionMatrix=new Fa;a.transform=null;return a}sa(c,d);c.prototype.update=function(a,b,e,f){this.destinationFrame=a||this.destinationFrame||this.defaultFrame;this.sourceFrame=b||this.sourceFrame||a;this.calculateProjection(this.destinationFrame,this.sourceFrame,e,f);this.transform&&this.projectionMatrix.append(this.transform);a=this.renderer;
a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;a.globalUniforms.update();a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)};c.prototype.calculateProjection=function(a,b,e,f){a=this.projectionMatrix;f=f?-1:1;a.identity();a.a=1/b.width*2;a.d=1/b.height*f*2;a.tx=-1-b.x*a.a;a.ty=-f-b.y*a.d};c.prototype.setTransform=function(a){};return c}(Na),Ib=new va,oc=new va,Zd=function(d){function c(a){var b=d.call(this,a)||this;b.clearColor=a._backgroundColorRgba;b.defaultMaskStack=
[];b.current=null;b.sourceFrame=new va;b.destinationFrame=new va;b.viewportFrame=new va;return b}sa(c,d);c.prototype.bind=function(a,b,e){void 0===a&&(a=null);var f=this.renderer;this.current=a;if(a){var g=a.baseTexture;var h=g.resolution;b||(Ib.width=a.frame.width,Ib.height=a.frame.height,b=Ib);e||(oc.x=a.frame.x,oc.y=a.frame.y,oc.width=b.width,oc.height=b.height,e=oc);var k=g.framebuffer}else h=f.resolution,b||(Ib.width=f.screen.width,Ib.height=f.screen.height,b=Ib),e||(e=Ib,e.width=b.width,e.height=
b.height);var l=this.viewportFrame;l.x=e.x*h;l.y=e.y*h;l.width=e.width*h;l.height=e.height*h;a||(l.y=f.view.height-(l.y+l.height));this.renderer.framebuffer.bind(k,l);this.renderer.projection.update(e,b,h,!k);a?this.renderer.mask.setMaskStack(g.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(b);this.destinationFrame.copyFrom(e)};c.prototype.clear=function(a,b){a=this.current?a||this.current.baseTexture.clearColor:a||this.clearColor;var e=this.destinationFrame,
f=this.current?this.current.baseTexture:this.renderer.screen;if(e=e.width!==f.width||e.height!==f.height){var g=this.viewportFrame;f=g.x;var h=g.y,k=g.width;g=g.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);this.renderer.gl.scissor(f,h,k,g)}this.renderer.framebuffer.clear(a[0],a[1],a[2],a[3],b);e&&this.renderer.scissor.pop()};c.prototype.resize=function(){this.bind(null)};c.prototype.reset=function(){this.bind(null)};return c}(Na),Ph=function(){return function(){}}(),Jf=function(){function d(c,
a){this.program=c;this.uniformData=a;this.uniformGroups={}}d.prototype.destroy=function(){this.program=this.uniformGroups=this.uniformData=null};return d}(),ri=0,Eg={textureCount:0},be=function(d){function c(a){a=d.call(this,a)||this;a.destroyed=!1;a.systemCheck();a.gl=null;a.shader=null;a.program=null;a.cache={};a.id=ri++;return a}sa(c,d);c.prototype.systemCheck=function(){if("boolean"!==typeof Tc)try{Tc=!0===(new Function("param1","param2","param3","return param1[param2] === param3;"))({a:"b"},
"a","b")}catch(b){Tc=!1}var a=Tc;if(!a)throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");};c.prototype.contextChange=function(a){this.gl=a;this.reset()};c.prototype.bind=function(a,b){a.uniforms.globals=this.renderer.globalUniforms;var e=a.program,f=e.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(a);this.shader=a;this.program!==e&&(this.program=e,this.gl.useProgram(f.program));b||(Eg.textureCount=0,this.syncUniformGroup(a.uniformGroup,
Eg));return f};c.prototype.setUniforms=function(a){var b=this.shader.program;b.syncUniforms(b.glPrograms[this.renderer.CONTEXT_UID].uniformData,a,this.renderer)};c.prototype.syncUniformGroup=function(a,b){var e=this.getglProgram();a.static&&a.dirtyId===e.uniformGroups[a.id]||(e.uniformGroups[a.id]=a.dirtyId,this.syncUniforms(a,e,b))};c.prototype.syncUniforms=function(a,b,e){(a.syncUniforms[this.shader.program.id]||this.createSyncGroups(a))(b.uniformData,a.uniforms,this.renderer,e)};c.prototype.createSyncGroups=
function(a){var b=this.getSignature(a,this.shader.program.uniformData);if(!this.cache[b]){var e=this.cache;var f=this.shader.program.uniformData;var g=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "],h;for(h in a.uniforms){var k=f[h];if(k){for(var l=a.uniforms[h],m=!1,n=0;n<Nc.length;n++)if(Nc[n].test(k,l)){g.push(Nc[n].code(h,l));m=!0;break}m||(k=(1===k.size?oi:pi)[k.type].replace("location",'ud["'+h+'"].location'),g.push('\n            cv = ud["'+
h+'"].value;\n            v = uv["'+h+'"];\n            '+k+";"))}else a.uniforms[h].group&&g.push('\n                    renderer.shader.syncUniformGroup(uv["'+h+'"], syncData);\n                ')}f=new Function("ud","uv","renderer","syncData",g.join("\n"));e[b]=f}a.syncUniforms[this.shader.program.id]=this.cache[b];return a.syncUniforms[this.shader.program.id]};c.prototype.getSignature=function(a,b){a=a.uniforms;var e=[],f;for(f in a)e.push(f),b[f]&&e.push(b[f].type);return e.join("-")};c.prototype.getglProgram=
function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null};c.prototype.generateShader=function(a){var b=this.gl;a=a.program;var e={},f;for(f in a.attributeData)e[f]=a.attributeData[f].location;e=Re(b,a.vertexSrc,a.fragmentSrc,e);var g={};for(f in a.uniformData){var h=a.uniformData[f];g[f]={location:b.getUniformLocation(e,f),value:Se(h.type,h.size)}}b=new Jf(e,g);return a.glPrograms[this.renderer.CONTEXT_UID]=b};c.prototype.reset=function(){this.shader=this.program=
null};c.prototype.destroy=function(){this.destroyed=!0};return c}(Na),ce=function(d){function c(a){a=d.call(this,a)||this;a.gl=null;a.stateId=0;a.polygonOffset=0;a.blendMode=la.NONE;a._blendEq=!1;a.map=[];a.map[0]=a.setBlend;a.map[1]=a.setOffset;a.map[2]=a.setCullFace;a.map[3]=a.setDepthTest;a.map[4]=a.setFrontFace;a.map[5]=a.setDepthMask;a.checks=[];a.defaultState=new rb;a.defaultState.blend=!0;return a}sa(c,d);c.prototype.contextChange=function(a){this.gl=a;var b=void 0;void 0===b&&(b=[]);b[la.NORMAL]=
[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.ADD]=[a.ONE,a.ONE];b[la.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SOFT_LIGHT]=[a.ONE,
a.ONE_MINUS_SRC_ALPHA];b[la.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.NONE]=[0,0];b[la.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE];b[la.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA];
b[la.SRC_IN]=[a.DST_ALPHA,a.ZERO];b[la.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO];b[la.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA];b[la.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE];b[la.DST_IN]=[a.ZERO,a.SRC_ALPHA];b[la.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA];b[la.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA];b[la.XOR]=[a.ONE_MINUS_DST_ALPHA,a.ONE_MINUS_SRC_ALPHA];b[la.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD];this.blendModes=b;this.set(this.defaultState);this.reset()};c.prototype.set=
function(a){a=a||this.defaultState;if(this.stateId!==a.data){for(var b=this.stateId^a.data,e=0;b;)b&1&&this.map[e].call(this,!!(a.data&1<<e)),b>>=1,e++;this.stateId=a.data}for(e=0;e<this.checks.length;e++)this.checks[e](this,a)};c.prototype.forceState=function(a){a=a||this.defaultState;for(var b=0;b<this.map.length;b++)this.map[b].call(this,!!(a.data&1<<b));for(b=0;b<this.checks.length;b++)this.checks[b](this,a);this.stateId=a.data};c.prototype.setBlend=function(a){this.updateCheck(c.checkBlendMode,
a);this.gl[a?"enable":"disable"](this.gl.BLEND)};c.prototype.setOffset=function(a){this.updateCheck(c.checkPolygonOffset,a);this.gl[a?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)};c.prototype.setDepthTest=function(a){this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)};c.prototype.setDepthMask=function(a){this.gl.depthMask(a)};c.prototype.setCullFace=function(a){this.gl[a?"enable":"disable"](this.gl.CULL_FACE)};c.prototype.setFrontFace=function(a){this.gl.frontFace(this.gl[a?"CW":"CCW"])};c.prototype.setBlendMode=
function(a){if(a!==this.blendMode){this.blendMode=a;a=this.blendModes[a];var b=this.gl;2===a.length?b.blendFunc(a[0],a[1]):b.blendFuncSeparate(a[0],a[1],a[2],a[3]);6===a.length?(this._blendEq=!0,b.blendEquationSeparate(a[4],a[5])):this._blendEq&&(this._blendEq=!1,b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD))}};c.prototype.setPolygonOffset=function(a,b){this.gl.polygonOffset(a,b)};c.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.forceState(this.defaultState);
this._blendEq=!0;this.blendMode=-1;this.setBlendMode(0)};c.prototype.updateCheck=function(a,b){var e=this.checks.indexOf(a);b&&-1===e?this.checks.push(a):b||-1===e||this.checks.splice(e,1)};c.checkBlendMode=function(a,b){a.setBlendMode(b.blendMode)};c.checkPolygonOffset=function(a,b){a.setPolygonOffset(1,b.polygonOffset)};return c}(Na),ge=function(d){function c(a){a=d.call(this,a)||this;a.count=0;a.checkCount=0;a.maxIdle=ja.GC_MAX_IDLE;a.checkCountMax=ja.GC_MAX_CHECK_COUNT;a.mode=ja.GC_MODE;return a}
sa(c,d);c.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Hc.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))};c.prototype.run=function(){for(var a=this.renderer.texture,b=a.managedTextures,e=!1,f=0;f<b.length;f++){var g=b[f];!g.framebuffer&&this.count-g.touched>this.maxIdle&&(a.destroyTexture(g,!0),b[f]=null,e=!0)}if(e){for(f=a=0;f<b.length;f++)null!==b[f]&&(b[a++]=b[f]);b.length=a}};c.prototype.unload=function(a){var b=
this.renderer.texture,e=a._texture;e&&!e.framebuffer&&b.destroyTexture(e);for(b=a.children.length-1;0<=b;b--)this.unload(a.children[b])};return c}(Na),Ic=function(){return function(d){this.texture=d;this.dirtyStyleId=this.dirtyId=this.height=this.width=-1;this.mipmap=!1;this.wrapMode=33071;this.type=6408;this.internalFormat=5121}}(),he=function(d){function c(a){a=d.call(this,a)||this;a.boundTextures=[];a.currentLocation=-1;a.managedTextures=[];a._unknownBoundTextures=!1;a.unknownTexture=new xa;return a}
sa(c,d);c.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=b;for(var e=0;e<b;e++)this.boundTextures[e]=null;this.emptyTextures={};b=new Ic(a.createTexture());a.bindTexture(a.TEXTURE_2D,b.texture);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[a.TEXTURE_2D]=b;
this.emptyTextures[a.TEXTURE_CUBE_MAP]=new Ic(a.createTexture());a.bindTexture(a.TEXTURE_CUBE_MAP,this.emptyTextures[a.TEXTURE_CUBE_MAP].texture);for(e=0;6>e;e++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR);for(e=0;e<this.boundTextures.length;e++)this.bind(null,e)};c.prototype.bind=function(a,b){void 0===b&&(b=0);var e=this.gl;
if(a){if(a=a.castToBaseTexture(),!a.parentTextureArray&&a.valid){a.touched=this.renderer.textureGC.count;var f=a._glTextures[this.CONTEXT_UID]||this.initTexture(a);this.boundTextures[b]!==a&&(this.currentLocation!==b&&(this.currentLocation=b,e.activeTexture(e.TEXTURE0+b)),e.bindTexture(a.target,f.texture));f.dirtyId!==a.dirtyId&&(this.currentLocation!==b&&(this.currentLocation=b,e.activeTexture(e.TEXTURE0+b)),this.updateTexture(a));this.boundTextures[b]=a}}else this.currentLocation!==b&&(this.currentLocation=
b,e.activeTexture(e.TEXTURE0+b)),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[e.TEXTURE_2D].texture),this.boundTextures[b]=null};c.prototype.reset=function(){this._unknownBoundTextures=!0;this.currentLocation=-1;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.unknownTexture};c.prototype.unbind=function(a){var b=this.gl,e=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var f=0;f<e.length;f++)e[f]===this.unknownTexture&&this.bind(null,f)}for(f=
0;f<e.length;f++)e[f]===a&&(this.currentLocation!==f&&(b.activeTexture(b.TEXTURE0+f),this.currentLocation=f),b.bindTexture(a.target,this.emptyTextures[a.target].texture),e[f]=null)};c.prototype.initTexture=function(a){var b=new Ic(this.gl.createTexture());b.dirtyId=-1;a._glTextures[this.CONTEXT_UID]=b;this.managedTextures.push(a);a.on("dispose",this.destroyTexture,this);return b};c.prototype.initTextureType=function(a,b){b.internalFormat=a.format;b.type=a.type;if(2===this.webGLVersion){var e=this.renderer.gl;
a.type===e.FLOAT&&a.format===e.RGBA&&(b.internalFormat=e.RGBA32F);a.type===za.HALF_FLOAT&&(b.type=e.HALF_FLOAT);b.type===e.HALF_FLOAT&&a.format===e.RGBA&&(b.internalFormat=e.RGBA16F)}};c.prototype.updateTexture=function(a){var b=a._glTextures[this.CONTEXT_UID];if(b){var e=this.renderer;this.initTextureType(a,b);if(!a.resource||!a.resource.upload(e,a,b)){var f=a.realWidth,g=a.realHeight;e=e.gl;if(b.width!==f||b.height!==g||0>b.dirtyId)b.width=f,b.height=g,e.texImage2D(a.target,0,b.internalFormat,f,
g,0,a.format,b.type,null)}a.dirtyStyleId!==b.dirtyStyleId&&this.updateTextureStyle(a);b.dirtyId=a.dirtyId}};c.prototype.destroyTexture=function(a,b){var e=this.gl;a=a.castToBaseTexture();a._glTextures[this.CONTEXT_UID]&&(this.unbind(a),e.deleteTexture(a._glTextures[this.CONTEXT_UID].texture),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.CONTEXT_UID],b||(a=this.managedTextures.indexOf(a),-1!==a&&qa(this.managedTextures,a,1)))};c.prototype.updateTextureStyle=function(a){var b=
a._glTextures[this.CONTEXT_UID];b&&(b.mipmap=a.mipmap!==ob.POW2&&2===this.webGLVersion||a.isPowerOfTwo?1<=a.mipmap:!1,b.wrapMode=2===this.webGLVersion||a.isPowerOfTwo?a.wrapMode:jb.CLAMP,a.resource&&a.resource.style(this.renderer,a,b)||this.setStyle(a,b),b.dirtyStyleId=a.dirtyStyleId)};c.prototype.setStyle=function(a,b){var e=this.gl;b.mipmap&&a.mipmap!==ob.ON_MANUAL&&e.generateMipmap(a.target);e.texParameteri(a.target,e.TEXTURE_WRAP_S,b.wrapMode);e.texParameteri(a.target,e.TEXTURE_WRAP_T,b.wrapMode);
if(b.mipmap){if(e.texParameteri(a.target,e.TEXTURE_MIN_FILTER,a.scaleMode===bb.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),(b=this.renderer.context.extensions.anisotropicFiltering)&&0<a.anisotropicLevel&&a.scaleMode===bb.LINEAR){var f=Math.min(a.anisotropicLevel,e.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e.texParameterf(a.target,b.TEXTURE_MAX_ANISOTROPY_EXT,f)}}else e.texParameteri(a.target,e.TEXTURE_MIN_FILTER,a.scaleMode===bb.LINEAR?e.LINEAR:e.NEAREST);e.texParameteri(a.target,
e.TEXTURE_MAG_FILTER,a.scaleMode===bb.LINEAR?e.LINEAR:e.NEAREST)};return c}(Na),Fg={__proto__:null,FilterSystem:Qd,BatchSystem:Md,ContextSystem:Nd,FramebufferSystem:Rd,GeometrySystem:Sd,MaskSystem:Wd,ScissorSystem:ae,StencilSystem:de,ProjectionSystem:Xd,RenderTextureSystem:Zd,ShaderSystem:be,StateSystem:ce,TextureGCSystem:ge,TextureSystem:he},Ae=new Fa,qf=function(d){function c(a,b){void 0===a&&(a=Vb.UNKNOWN);var e=d.call(this)||this;b=Object.assign({},ja.RENDER_OPTIONS,b);e.options=b;e.type=a;e.screen=
new va(0,0,b.width,b.height);e.view=b.view||document.createElement("canvas");e.resolution=b.resolution||ja.RESOLUTION;e.useContextAlpha=b.useContextAlpha;e.autoDensity=!!b.autoDensity;e.preserveDrawingBuffer=b.preserveDrawingBuffer;e.clearBeforeRender=b.clearBeforeRender;e._backgroundColor=0;e._backgroundColorRgba=[0,0,0,1];e._backgroundColorString="#000000";e.backgroundColor=b.backgroundColor||e._backgroundColor;e.backgroundAlpha=b.backgroundAlpha;void 0!==b.transparent&&(Ba("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),
e.useContextAlpha=b.transparent,e.backgroundAlpha=b.transparent?0:1);e._lastObjectRendered=null;e.plugins={};return e}sa(c,d);c.prototype.initPlugins=function(a){for(var b in a)this.plugins[b]=new a[b](this)};Object.defineProperty(c.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0});c.prototype.resize=function(a,b){this.screen.width=a;this.screen.height=
b;this.view.width=a*this.resolution;this.view.height=b*this.resolution;this.autoDensity&&(this.view.style.width=a+"px",this.view.style.height=b+"px");this.emit("resize",a,b)};c.prototype.generateTexture=function(a,b,e,f){f=f||a.getLocalBounds(null,!0);0===f.width&&(f.width=1);0===f.height&&(f.height=1);b=pb.create({width:f.width|0,height:f.height|0,scaleMode:b,resolution:e});Ae.tx=-f.x;Ae.ty=-f.y;this.render(a,{renderTexture:b,clear:!1,transform:Ae,skipUpdateTransform:!!a.parent});return b};c.prototype.destroy=
function(a){for(var b in this.plugins)this.plugins[b].destroy(),this.plugins[b]=null;a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null;this.type=Vb.UNKNOWN;this._lastObjectRendered=this._backgroundColorString=this._backgroundColorRgba=this.options=this._tempDisplayObjectParent=this.screen=this.view=null};Object.defineProperty(c.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=
X(a);ca(a,this._backgroundColorRgba)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(a){this._backgroundColorRgba[3]=a},enumerable:!1,configurable:!0});return c}(Xb()),db=function(d){function c(a){var b=d.call(this,Vb.WEBGL,a)||this;a=b.options;b.gl=null;b.CONTEXT_UID=0;b.runners={destroy:new Ja("destroy"),contextChange:new Ja("contextChange"),reset:new Ja("reset"),update:new Ja("update"),postrender:new Ja("postrender"),
prerender:new Ja("prerender"),resize:new Ja("resize")};b.globalUniforms=new tb({projectionMatrix:new Fa},!0);b.addSystem(Wd,"mask").addSystem(Nd,"context").addSystem(ce,"state").addSystem(be,"shader").addSystem(he,"texture").addSystem(Sd,"geometry").addSystem(Rd,"framebuffer").addSystem(ae,"scissor").addSystem(de,"stencil").addSystem(Xd,"projection").addSystem(ge,"textureGC").addSystem(Qd,"filter").addSystem(Zd,"renderTexture").addSystem(Md,"batch");b.initPlugins(c.__plugins);a.context?b.context.initFromContext(a.context):
b.context.initFromOptions({alpha:!!b.useContextAlpha,antialias:a.antialias,premultipliedAlpha:b.useContextAlpha&&"notMultiplied"!==b.useContextAlpha,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer,powerPreference:b.options.powerPreference});b.renderingToScreen=!0;W(2===b.context.webGLVersion?"WebGL 2":"WebGL 1");b.resize(b.options.width,b.options.height);return b}sa(c,d);c.create=function(a){if(V())return new c(a);throw Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');
};c.prototype.addSystem=function(a,b){b||(b=a.name);a=new a(this);if(this[b])throw Error('Whoops! The name "'+b+'" is already in use');this[b]=a;for(var e in this.runners)this.runners[e].add(a);return this};c.prototype.render=function(a,b,e,f,g){if(b)if(b instanceof pb){Ba("6.0.0","Renderer#render arguments changed, use options instead.");var h=b;var k=e;var l=f;var m=g}else h=b.renderTexture,k=b.clear,l=b.transform,m=b.skipUpdateTransform;this.renderingToScreen=!h;this.runners.prerender.emit();this.emit("prerender");
this.projection.transform=l;this.context.isLost||(h||(this._lastObjectRendered=a),m||(b=a.enableTempParent(),a.updateTransform(),a.disableTempParent(b)),this.renderTexture.bind(h),this.batch.currentRenderer.start(),(void 0!==k?k:this.clearBeforeRender)&&this.renderTexture.clear(),a.render(this),this.batch.currentRenderer.flush(),h&&h.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))};c.prototype.resize=function(a,b){d.prototype.resize.call(this,
a,b);this.runners.resize.emit(a,b)};c.prototype.reset=function(){this.runners.reset.emit();return this};c.prototype.clear=function(){this.renderTexture.bind();this.renderTexture.clear()};c.prototype.destroy=function(a){this.runners.destroy.emit();for(var b in this.runners)this.runners[b].destroy();d.prototype.destroy.call(this,a);this.gl=null};Object.defineProperty(c.prototype,"extract",{get:function(){Ba("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.");
return this.plugins.extract},enumerable:!1,configurable:!0});c.registerPlugin=function(a,b){c.__plugins=c.__plugins||{};c.__plugins[a]=b};return c}(qf),hg="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",le="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",
Cc=function(){return function(){this.texArray=null;this.blend=0;this.type=Qa.TRIANGLES;this.size=this.start=0;this.data=null}}(),Dc=function(){function d(){this.elements=[];this.ids=[];this.count=0}d.prototype.clear=function(){for(var c=0;c<this.count;c++)this.elements[c]=null;this.count=0};return d}(),Mc=function(){function d(c){this.rawBinaryData="number"===typeof c?new ArrayBuffer(c):c instanceof Uint8Array?c.buffer:c;this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}
Object.defineProperty(d.prototype,"int8View",{get:function(){this._int8View||(this._int8View=new Int8Array(this.rawBinaryData));return this._int8View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"uint8View",{get:function(){this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData));return this._uint8View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"int16View",{get:function(){this._int16View||(this._int16View=new Int16Array(this.rawBinaryData));
return this._int16View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"uint16View",{get:function(){this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData));return this._uint16View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"int32View",{get:function(){this._int32View||(this._int32View=new Int32Array(this.rawBinaryData));return this._int32View},enumerable:!1,configurable:!0});d.prototype.view=function(c){return this[c+"View"]};d.prototype.destroy=
function(){this.float32View=this.uint32View=this._int32View=this._uint16View=this._int16View=this._uint8View=this._int8View=this.rawBinaryData=null};d.sizeOf=function(c){switch(c){case "int8":case "uint8":return 1;case "int16":case "uint16":return 2;case "int32":case "uint32":case "float32":return 4;default:throw Error(c+" isn't a valid view type");}};return d}(),pf=function(d){function c(a){var b=d.call(this,a)||this;b.shaderGenerator=null;b.geometryClass=null;b.vertexSize=null;b.state=rb.for2d();
b.size=4*ja.SPRITE_BATCH_SIZE;b._vertexCount=0;b._indexCount=0;b._bufferedElements=[];b._bufferedTextures=[];b._bufferSize=0;b._shader=null;b._packedGeometries=[];b._packedGeometryPoolSize=2;b._flushId=0;b._aBuffers={};b._iBuffers={};b.MAX_TEXTURES=1;b.renderer.on("prerender",b.onPrerender,b);a.runners.contextChange.add(b);b._dcIndex=0;b._aIndex=0;b._iIndex=0;b._attributeBuffer=null;b._indexBuffer=null;b._tempBoundTextures=[];return b}sa(c,d);c.prototype.contextChange=function(){var a=this.renderer.gl;
ja.PREFER_ENV===Ya.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),ja.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ye(this.MAX_TEXTURES,a));this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(a=0;a<this._packedGeometryPoolSize;a++)this._packedGeometries[a]=new this.geometryClass;this.initFlushBuffers()};c.prototype.initFlushBuffers=function(){for(var a=c._drawCallPool,b=c._textureArrayPool,e=this.size/4,f=Math.floor(e/this.MAX_TEXTURES)+
1;a.length<e;)a.push(new Cc);for(;b.length<f;)b.push(new Dc);for(a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null};c.prototype.onPrerender=function(){this._flushId=0};c.prototype.render=function(a){a._texture.valid&&(this._vertexCount+a.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=a.vertexData.length/2,this._indexCount+=a.indices.length,this._bufferedTextures[this._bufferSize]=a._texture.baseTexture,this._bufferedElements[this._bufferSize++]=a)};c.prototype.buildTexturesAndDrawCalls=
function(){var a=this._bufferedTextures,b=this.MAX_TEXTURES,e=c._textureArrayPool,f=this.renderer.batch,g=this._tempBoundTextures,h=this.renderer.textureGC.count,k=++xa._globalBatch,l=0,m=e[0],n=0;f.copyBoundTextures(g,b);for(var q=0;q<this._bufferSize;++q){var y=a[q];a[q]=null;y._batchEnabled!==k&&(m.count>=b&&(f.boundArray(m,g,k,b),this.buildDrawCalls(m,n,q),n=q,m=e[++l],++k),y._batchEnabled=k,y.touched=h,m.elements[m.count++]=y)}0<m.count&&(f.boundArray(m,g,k,b),this.buildDrawCalls(m,n,this._bufferSize),
++k);for(q=0;q<g.length;q++)g[q]=null;xa._globalBatch=k};c.prototype.buildDrawCalls=function(a,b,e){var f=this._bufferedElements,g=this._attributeBuffer,h=this._indexBuffer,k=this.vertexSize,l=c._drawCallPool,m=this._dcIndex,n=this._aIndex,q=this._iIndex,y=l[m];y.start=this._iIndex;y.texArray=a;for(var E=b;E<e;++E){var N=f[E],U=bd[N._texture.baseTexture.alphaMode?1:0][N.blendMode];f[E]=null;b<E&&y.blend!==U&&(y.size=q-y.start,b=E,y=l[++m],y.texArray=a,y.start=q);this.packInterleavedGeometry(N,g,h,
n,q);n+=N.vertexData.length/2*k;q+=N.indices.length;y.blend=U}b<e&&(y.size=q-y.start,++m);this._dcIndex=m;this._aIndex=n;this._iIndex=q};c.prototype.bindAndClearTexArray=function(a){for(var b=this.renderer.texture,e=0;e<a.count;e++)b.bind(a.elements[e],a.ids[e]),a.elements[e]=null;a.count=0};c.prototype.updateGeometry=function(){var a=this._packedGeometries,b=this._attributeBuffer,e=this._indexBuffer;ja.CAN_UPLOAD_SAME_BUFFER?(a[this._flushId]._buffer.update(b.rawBinaryData),a[this._flushId]._indexBuffer.update(e),
this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,a[this._flushId]=new this.geometryClass),a[this._flushId]._buffer.update(b.rawBinaryData),a[this._flushId]._indexBuffer.update(e),this.renderer.geometry.bind(a[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)};c.prototype.drawBatches=function(){var a=this._dcIndex,b=this.renderer,e=b.gl;b=b.state;for(var f=c._drawCallPool,g=null,h=0;h<a;h++){var k=f[h],l=k.texArray,
m=k.type,n=k.size,q=k.start;k=k.blend;g!==l&&(g=l,this.bindAndClearTexArray(l));this.state.blendMode=k;b.set(this.state);e.drawElements(m,n,e.UNSIGNED_SHORT,2*q)}};c.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._dcIndex=this._iIndex=this._aIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._indexCount=this._vertexCount=this._bufferSize=
0)};c.prototype.start=function(){this.renderer.state.set(this.state);this.renderer.shader.bind(this._shader);ja.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])};c.prototype.stop=function(){this.flush()};c.prototype.destroy=function(){for(var a=0;a<this._packedGeometryPoolSize;a++)this._packedGeometries[a]&&this._packedGeometries[a].destroy();this.renderer.off("prerender",this.onPrerender,this);this._indexBuffer=this._attributeBuffer=this._packedGeometries=
this._iBuffers=this._aBuffers=null;this._shader&&(this._shader.destroy(),this._shader=null);d.prototype.destroy.call(this)};c.prototype.getAttributeBuffer=function(a){var b=ba(Math.ceil(a/8));a=S(b);b*=8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);(a=this._aBuffers[b])||(this._aBuffers[b]=a=new Mc(b*this.vertexSize*4));return a};c.prototype.getIndexBuffer=function(a){a=ba(Math.ceil(a/12));var b=S(a);this._iBuffers.length<=b&&(this._iBuffers.length=b+1);var e=this._iBuffers[b];e||(this._iBuffers[b]=
e=new Uint16Array(12*a));return e};c.prototype.packInterleavedGeometry=function(a,b,e,f,g){var h=b.uint32View;b=b.float32View;var k=f/this.vertexSize,l=a.uvs,m=a.indices,n=a.vertexData,q=a._texture.baseTexture._batchLocation,y=Math.min(a.worldAlpha,1);a=1>y&&a._texture.baseTexture.alphaMode?r(a._tintRGB,y):a._tintRGB+(255*y<<24);for(y=0;y<n.length;y+=2)b[f++]=n[y],b[f++]=n[y+1],b[f++]=l[y],b[f++]=l[y+1],h[f++]=a,b[f++]=q;for(y=0;y<m.length;y++)e[g++]=k+m[y]};c._drawCallPool=[];c._textureArrayPool=
[];return c}(kc),wf=function(){function d(c,a){this.vertexSrc=c;this.fragTemplate=a;this.programCache={};this.defaultGroupCache={};if(0>a.indexOf("%count%"))throw Error('Fragment template must contain "%count%".');if(0>a.indexOf("%forloop%"))throw Error('Fragment template must contain "%forloop%".');}d.prototype.generateShader=function(c){if(!this.programCache[c]){for(var a=new Int32Array(c),b=0;b<c;b++)a[b]=b;this.defaultGroupCache[c]=tb.from({uSamplers:a},!0);a=this.fragTemplate;a=a.replace(/%count%/gi,
""+c);a=a.replace(/%forloop%/gi,this.generateSampleSrc(c));this.programCache[c]=new nc(this.vertexSrc,a)}a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Fa,default:this.defaultGroupCache[c]};return new qb(this.programCache[c],a)};d.prototype.generateSampleSrc=function(c){var a="\n\n";for(var b=0;b<c;b++)0<b&&(a+="\nelse "),b<c-1&&(a+="if(vTextureId < "+b+".5)"),a+="\n{",a+="\n\tcolor = texture2D(uSamplers["+b+"], vTextureCoord);",a+="\n}";return a+"\n\n"};return d}(),Ld=function(d){function c(a){void 0===
a&&(a=!1);var b=d.call(this)||this;b._buffer=new Ha(null,a,!1);b._indexBuffer=new Ha(null,a,!0);b.addAttribute("aVertexPosition",b._buffer,2,!1,za.FLOAT).addAttribute("aTextureCoord",b._buffer,2,!1,za.FLOAT).addAttribute("aColor",b._buffer,4,!0,za.UNSIGNED_BYTE).addAttribute("aTextureId",b._buffer,1,!0,za.FLOAT).addIndex(b._indexBuffer);return b}sa(c,d);return c}(Tb),uf=function(){function d(){}d.create=function(c){c=Object.assign({vertex:"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",
fragment:"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",geometryClass:Ld,vertexSize:6},c);var a=c.vertex,b=c.fragment,e=c.vertexSize,f=c.geometryClass;return function(g){function h(k){k=g.call(this,k)||this;k.shaderGenerator=new wf(a,b);k.geometryClass=f;k.vertexSize=e;return k}sa(h,g);return h}(pf)};Object.defineProperty(d,"defaultVertexSrc",
{get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(d,"defaultFragmentTemplate",{get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},enumerable:!1,configurable:!0});return d}(),vf=uf.create(),jg={},si=function(d){Object.defineProperty(jg,d,{get:function(){Ba("6.0.0","PIXI.systems."+d+" has moved to PIXI."+d);return yg[d]}})},
Vc;for(Vc in yg)si(Vc);var kg={},ti=function(d){Object.defineProperty(kg,d,{get:function(){Ba("6.0.0","PIXI.resources."+d+" has moved to PIXI."+d);return Fg[d]}})};for(Vc in Fg)ti(Vc);var Bc=function(){function d(c){var a=this;this.stage=new Ua;c=Object.assign({forceCanvas:!1},c);this.renderer=Ze(c);d._plugins.forEach(function(b){b.init.call(a,c)})}d.registerPlugin=function(c){d._plugins.push(c)};d.prototype.render=function(){this.renderer.render(this.stage)};Object.defineProperty(d.prototype,"view",
{get:function(){return this.renderer.view},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0});d.prototype.destroy=function(c,a){var b=this,e=d._plugins.slice(0);e.reverse();e.forEach(function(f){f.destroy.call(b)});this.stage.destroy(a);this.stage=null;this.renderer.destroy(c);this.renderer=null};d._plugins=[];return d}(),ui=function(){function d(){}d.init=function(c){var a=this;Object.defineProperty(this,
"resizeTo",{set:function(b){self.removeEventListener("resize",this.queueResize);if(this._resizeTo=b)self.addEventListener("resize",this.queueResize),this.resize()},get:function(){return this._resizeTo}});this.queueResize=function(){a._resizeTo&&(a.cancelResize(),a._resizeId=requestAnimationFrame(function(){return a.resize()}))};this.cancelResize=function(){a._resizeId&&(cancelAnimationFrame(a._resizeId),a._resizeId=null)};this.resize=function(){if(a._resizeTo){a.cancelResize();if(a._resizeTo===self){var b=
self.innerWidth;var e=self.innerHeight}else b=a._resizeTo,e=b.clientHeight,b=b.clientWidth;a.renderer.resize(b,e)}};this._resizeTo=this._resizeId=null;this.resizeTo=c.resizeTo||null};d.destroy=function(){self.removeEventListener("resize",this.queueResize);this.cancelResize();this.resize=this.resizeTo=this.queueResize=this.cancelResize=null};return d}();Bc.registerPlugin(ui);var Gg=new va,Ff=function(){function d(c){this.renderer=c}d.prototype.image=function(c,a,b){var e=new Image;e.src=this.base64(c,
a,b);return e};d.prototype.base64=function(c,a,b){return this.canvas(c).toDataURL(a,b)};d.prototype.canvas=function(c){var a=this.renderer,b=!1;if(c)if(c instanceof pb)var e=c;else e=this.renderer.generateTexture(c),b=!0;if(e){var f=e.baseTexture.resolution;var g=e.frame;var h=!1;a.renderTexture.bind(e)}else f=this.renderer.resolution,h=!0,g=Gg,g.width=this.renderer.width,g.height=this.renderer.height,a.renderTexture.bind(null);var k=Math.floor(g.width*f+1E-4);c=Math.floor(g.height*f+1E-4);var l=
new ne(k,c,1),m=new Uint8Array(4*k*c);a=a.gl;a.readPixels(g.x*f,g.y*f,k,c,a.RGBA,a.UNSIGNED_BYTE,m);a=l.context.getImageData(0,0,k,c);d.arrayPostDivide(m,a.data);l.context.putImageData(a,0,0);h&&(h=new ne(l.width,l.height,1),h.context.scale(1,-1),h.context.drawImage(l.canvas,0,-c),l.destroy(),l=h);b&&e.destroy(!0);return l.canvas};d.prototype.pixels=function(c){var a=this.renderer,b=!1;if(c)if(c instanceof pb)var e=c;else e=this.renderer.generateTexture(c),b=!0;if(e){c=e.baseTexture.resolution;var f=
e.frame;a.renderTexture.bind(e)}else c=a.resolution,f=Gg,f.width=a.width,f.height=a.height,a.renderTexture.bind(null);var g=f.width*c,h=f.height*c,k=new Uint8Array(4*g*h);a=a.gl;a.readPixels(f.x*c,f.y*c,g,h,a.RGBA,a.UNSIGNED_BYTE,k);b&&e.destroy(!0);d.arrayPostDivide(k,k);return k};d.prototype.destroy=function(){this.renderer=null};d.arrayPostDivide=function(c,a){for(var b=0;b<c.length;b+=4){var e=a[b+3]=c[b+3];0!==e?(a[b]=Math.round(Math.min(255*c[b]/e,255)),a[b+1]=Math.round(Math.min(255*c[b+1]/
e,255)),a[b+2]=Math.round(Math.min(255*c[b+2]/e,255))):(a[b]=c[b],a[b+1]=c[b+1],a[b+2]=c[b+2])}};return d}(),vi=B(767),Hg=B.n(vi),wi=B(552),lb=B.n(wi),xi=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Wc=null,ia=function(){function d(a,b,e){if("string"!==typeof a||"string"!==typeof b)throw Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(d.STATUS_FLAGS.DATA_URL,0===b.indexOf("data:"));this.name=a;this.url=b;this.extension=
this._getExtension();this.data=null;this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin;this.timeout=e.timeout||0;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.xhr=this.error=null;this.children=[];this.type=d.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=ph;this._onLoadBinding=null;this._elementTimer=0;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);
this._boundOnTimeout=this._onTimeout.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this.onStart=new (lb());this.onProgress=new (lb());this.onComplete=new (lb());this.onAfterMiddleware=new (lb())}d.setExtensionLoadType=function(a,b){cf(d._loadTypeMap,a,b)};d.setExtensionXhrType=function(a,b){cf(d._xhrTypeMap,a,b)};var c=d.prototype;c.complete=
function(){this._clearEvents();this._finish()};c.abort=function(a){if(!this.error){this.error=Error(a);this._clearEvents();if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=d.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}};c.load=function(a){var b=this;if(!this.isLoading)if(this.isComplete)a&&setTimeout(function(){return a(b)},1);else{if(a)this.onComplete.once(a);this._setFlag(d.STATUS_FLAGS.LOADING,
!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case d.LOAD_TYPE.IMAGE:this.type=d.TYPE.IMAGE;this._loadElement("image");break;case d.LOAD_TYPE.AUDIO:this.type=d.TYPE.AUDIO;this._loadSourceElement("audio");break;case d.LOAD_TYPE.VIDEO:this.type=d.TYPE.VIDEO;this._loadSourceElement("video");break;default:xi&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};c._hasFlag=function(a){return 0!==
(this._flags&a)};c._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};c._clearEvents=function(){clearTimeout(this._elementTimer);this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",
this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))};c._finish=function(){if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(d.STATUS_FLAGS.COMPLETE,
!0);this._setFlag(d.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};c._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",
this._boundOnProgress,!1);this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))};c._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:
this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(a,this.url[e],Array.isArray(b)?b[e]:b));else b=this.metadata.mimeType,this.data.appendChild(this._createSource(a,this.url,Array.isArray(b)?b[0]:b));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",
this._boundComplete,!1);this.data.load();this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}};c._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.timeout=this.timeout;a.responseType=this.xhrType===d.XHR_RESPONSE_TYPE.JSON||this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT?d.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("timeout",
this._boundXhrOnTimeout,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};c._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=this.timeout||5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXhrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,
!0);setTimeout(function(){return a.send()},1)};c._createSource=function(a,b,e){e||(e=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=e;return a};c._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};c._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};c._onTimeout=function(){this.abort("Load timed out.")};c._xhrOnError=function(){var a=this.xhr;this.abort(hd(a)+" Request failed. Status: "+
a.status+', text: "'+a.statusText+'"')};c._xhrOnTimeout=function(){this.abort(hd(this.xhr)+" Request timed out.")};c._xhrOnAbort=function(){this.abort(hd(this.xhr)+" Request was aborted by the user.")};c._xhrOnLoad=function(){var a=this.xhr,b="",e="undefined"===typeof a.status?200:a.status;if(""===a.responseType||"text"===a.responseType||"undefined"===typeof a.responseType)b=a.responseText;0===e&&(0<b.length||a.responseType===d.XHR_RESPONSE_TYPE.BUFFER)?e=200:1223===e&&(e=204);if(2===(e/100|0)){if(this.xhrType===
d.XHR_RESPONSE_TYPE.TEXT)this.data=b,this.type=d.TYPE.TEXT;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b),this.type=d.TYPE.JSON}catch(g){this.abort("Error trying to parse loaded json: "+g);return}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b,"text/xml");else{var f=document.createElement("div");f.innerHTML=b;this.data=f}this.type=d.TYPE.XML}catch(g){this.abort("Error trying to parse loaded xml: "+
g);return}else this.data=a.response||b;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)};c._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";b=b||window.location;Wc||(Wc=document.createElement("a"));Wc.href=a;a=Hg()(Wc.href,{strictMode:!0});var e=!a.port&&""===b.port||a.port===b.port,f=a.protocol?a.protocol+":":"";return a.host===b.hostname&&e&&f===b.protocol?"":"anonymous"};c._determineXhrType=
function(){return d._xhrTypeMap[this.extension]||d.XHR_RESPONSE_TYPE.TEXT};c._determineLoadType=function(){return d._loadTypeMap[this.extension]||d.LOAD_TYPE.XHR};c._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");a=a.substring(b+1,a.indexOf(";",b))}else{b=a.indexOf("?");var e=a.indexOf("#");a=a.substring(0,Math.min(-1<b?b:a.length,-1<e?e:a.length));a=a.substring(a.lastIndexOf(".")+1)}return a.toLowerCase()};c._getMimeFromXhrType=function(a){switch(a){case d.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";
case d.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case d.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case d.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};bf(d,[{key:"isDataUrl",get:function(){return this._hasFlag(d.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(d.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(d.STATUS_FLAGS.LOADING)}}]);return d}();ia.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,
LOADING:4};ia.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};ia.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};ia.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};ia._loadTypeMap={gif:ia.LOAD_TYPE.IMAGE,png:ia.LOAD_TYPE.IMAGE,bmp:ia.LOAD_TYPE.IMAGE,jpg:ia.LOAD_TYPE.IMAGE,jpeg:ia.LOAD_TYPE.IMAGE,tif:ia.LOAD_TYPE.IMAGE,tiff:ia.LOAD_TYPE.IMAGE,webp:ia.LOAD_TYPE.IMAGE,tga:ia.LOAD_TYPE.IMAGE,svg:ia.LOAD_TYPE.IMAGE,"svg+xml":ia.LOAD_TYPE.IMAGE,
mp3:ia.LOAD_TYPE.AUDIO,ogg:ia.LOAD_TYPE.AUDIO,wav:ia.LOAD_TYPE.AUDIO,mp4:ia.LOAD_TYPE.VIDEO,webm:ia.LOAD_TYPE.VIDEO};ia._xhrTypeMap={xhtml:ia.XHR_RESPONSE_TYPE.DOCUMENT,html:ia.XHR_RESPONSE_TYPE.DOCUMENT,htm:ia.XHR_RESPONSE_TYPE.DOCUMENT,xml:ia.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ia.XHR_RESPONSE_TYPE.DOCUMENT,svg:ia.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ia.XHR_RESPONSE_TYPE.DOCUMENT,gif:ia.XHR_RESPONSE_TYPE.BLOB,png:ia.XHR_RESPONSE_TYPE.BLOB,bmp:ia.XHR_RESPONSE_TYPE.BLOB,jpg:ia.XHR_RESPONSE_TYPE.BLOB,jpeg:ia.XHR_RESPONSE_TYPE.BLOB,
tif:ia.XHR_RESPONSE_TYPE.BLOB,tiff:ia.XHR_RESPONSE_TYPE.BLOB,webp:ia.XHR_RESPONSE_TYPE.BLOB,tga:ia.XHR_RESPONSE_TYPE.BLOB,json:ia.XHR_RESPONSE_TYPE.JSON,text:ia.XHR_RESPONSE_TYPE.TEXT,txt:ia.XHR_RESPONSE_TYPE.TEXT,ttf:ia.XHR_RESPONSE_TYPE.BUFFER,otf:ia.XHR_RESPONSE_TYPE.BUFFER};ia.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ig=window.URL||window.webkitURL,yi=/(#[\w-]+)?$/,mb=function(){function d(a,b){var e=this;void 0===a&&(a="");void 0===b&&
(b=10);this.baseUrl=a;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(f,g){return e._loadResource(f,g)};this._queue=oh(this._boundLoadResource,b);this._queue.pause();this.resources={};this.onProgress=new (lb());this.onError=new (lb());this.onLoad=new (lb());this.onStart=new (lb());this.onComplete=new (lb());for(a=0;a<d._defaultBeforeMiddleware.length;++a)this.pre(d._defaultBeforeMiddleware[a]);
for(a=0;a<d._defaultAfterMiddleware.length;++a)this.use(d._defaultAfterMiddleware[a])}var c=d.prototype;c.add=function(a,b,e,f){if(Array.isArray(a)){for(b=0;b<a.length;++b)this.add(a[b]);return this}"object"===typeof a&&(f=b||a.callback||a.onComplete,e=a,b=a.url,a=a.name||a.key||a.url);"string"!==typeof b&&(f=e,e=b,b=a);if("string"!==typeof b)throw Error("No url passed to add resource to loader.");"function"===typeof e&&(f=e,e=null);if(this.loading&&(!e||!e.parentResource))throw Error("Cannot add resources while the loader is running.");
if(this.resources[a])throw Error('Resource named "'+a+'" already exists.');b=this._prepareUrl(b);this.resources[a]=new ia(a,b,e);if("function"===typeof f)this.resources[a].onAfterMiddleware.once(f);if(this.loading){e=e.parentResource;b=[];for(f=0;f<e.children.length;++f)e.children[f].isComplete||b.push(e.children[f]);f=e.progressChunk*(b.length+1)/(b.length+2);e.children.push(this.resources[a]);e.progressChunk=f;for(e=0;e<b.length;++e)b[e].progressChunk=f;this.resources[a].progressChunk=f}this._queue.push(this.resources[a]);
return this};c.pre=function(a){this._beforeMiddleware.push(a);return this};c.use=function(a){this._afterMiddleware.push(a);return this};c.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources={};return this};c.load=function(a){if("function"===typeof a)this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),
this._onComplete();else{a=100/this._queue._tasks.length;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c._prepareUrl=function(a){var b=Hg()(a,{strictMode:!0});a=b.protocol||!b.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&(b=yi.exec(a)[0],a=a.substr(0,a.length-b.length),a=-1!==
a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=b);return a};c._loadResource=function(a,b){var e=this;a._dequeue=b;$e(this._beforeMiddleware,function(f,g){f.call(e,a,function(){g(a.isComplete?{}:null)})},function(){a.isComplete?e._onLoad(a):(a._onLoadBinding=a.onComplete.once(e._onLoad,e),a.load())},!0)};c._onStart=function(){this.progress=0;this.loading=!0;this.onStart.dispatch(this)};c._onComplete=function(){this.progress=100;this.loading=!1;this.onComplete.dispatch(this,
this.resources)};c._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();$e(this._afterMiddleware,function(e,f){e.call(b,a,f)},function(){a.onAfterMiddleware.dispatch(a);b.progress=Math.min(100,b.progress+a.progressChunk);b.onProgress.dispatch(b,a);a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a);b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1);b._queue.idle()&&0===b._resourcesParsing.length&&b._onComplete()},!0)};bf(d,[{key:"concurrency",
get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return d}();mb._defaultBeforeMiddleware=[];mb._defaultAfterMiddleware=[];mb.pre=function(d){mb._defaultBeforeMiddleware.push(d);return mb};mb.use=function(d){mb._defaultAfterMiddleware.push(d);return mb};var id=function(d,c){id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return id(d,c)},dg=function(){function d(){}
d.add=function(){ia.setExtensionLoadType("svg",ia.LOAD_TYPE.XHR);ia.setExtensionXhrType("svg",ia.XHR_RESPONSE_TYPE.TEXT)};d.use=function(c,a){!c.data||c.type!==ia.TYPE.IMAGE&&"svg"!==c.extension?a():na.fromLoader(c.data,c.url,c.name,c.metadata).then(function(b){c.texture=b;a()}).catch(a)};return d}(),ab=function(d){function c(a,b){a=d.call(this,a,b)||this;for(b=0;b<c._plugins.length;++b){var e=c._plugins[b],f=e.pre;e=e.use;f&&a.pre(f);e&&a.use(e)}a._protected=!1;return a}rh(c,d);c.prototype.destroy=
function(){this._protected||this.reset()};Object.defineProperty(c,"shared",{get:function(){var a=c._shared;a||(a=new c,a._protected=!0,c._shared=a);return a},enumerable:!1,configurable:!0});c.registerPlugin=function(a){c._plugins.push(a);a.add&&a.add();return c};c._plugins=[];return c}(mb);ab.registerPlugin({use:function(d,c){if(d.data&&d.xhr&&d.xhrType===ia.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof d.data){var a=d.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image")){d.data=
new Image;d.data.src="data:"+a+";base64,"+qh(d.xhr.responseText);d.type=ia.TYPE.IMAGE;d.data.onload=function(){d.data.onload=null;c()};return}}else if(0===d.data.type.indexOf("image")){var b=Ig.createObjectURL(d.data);d.blob=d.data;d.data=new Image;d.data.src=b;d.type=ia.TYPE.IMAGE;d.data.onload=function(){Ig.revokeObjectURL(b);d.data.onload=null;c()};return}c()}});ab.registerPlugin(dg);var sf=function(){function d(){}d.init=function(c){c=Object.assign({sharedLoader:!1},c);this.loader=c.sharedLoader?
ab.shared:new ab};d.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};return d}(),Ra=ia,ya,ra;(function(d){d[d.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";
d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";d[d.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT";d[d.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";d[d.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";d[d.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";d[d.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";d[d.COMPRESSED_RGB8_ETC2=
37492]="COMPRESSED_RGB8_ETC2";d[d.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC";d[d.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2";d[d.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";d[d.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";d[d.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";d[d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG";d[d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=
35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";d[d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG";d[d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";d[d.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL";d[d.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL";d[d.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";d[d.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(ra||
(ra={}));var hc=(ya={},ya[ra.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,ya[ra.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,ya[ra.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,ya[ra.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,ya[ra.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,ya[ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,ya[ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,ya[ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,ya[ra.COMPRESSED_R11_EAC]=.5,ya[ra.COMPRESSED_SIGNED_R11_EAC]=.5,ya[ra.COMPRESSED_RG11_EAC]=1,ya[ra.COMPRESSED_SIGNED_RG11_EAC]=1,ya[ra.COMPRESSED_RGB8_ETC2]=
.5,ya[ra.COMPRESSED_RGBA8_ETC2_EAC]=.5,ya[ra.COMPRESSED_SRGB8_ETC2]=.5,ya[ra.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=.5,ya[ra.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ya[ra.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ya[ra.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,ya[ra.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,ya[ra.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,ya[ra.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,ya[ra.COMPRESSED_RGB_ETC1_WEBGL]=.5,ya[ra.COMPRESSED_RGB_ATC_WEBGL]=.5,ya[ra.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=
1,ya[ra.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,ya),jd=function(d,c){jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return jd(d,c)},yf=function(d){function c(a,b){void 0===b&&(b={width:1,height:1,autoLoad:!0});if("string"===typeof a){var e=a;var f=new Uint8Array}else e=null,f=a;a=d.call(this,f,b)||this;a.origin=e;a.buffer=f?new Mc(f):null;a.origin&&!1!==b.autoLoad&&a.load();f&&f.length&&
(a.loaded=!0,a.onBlobLoaded(a.buffer.rawBinaryData));return a}df(c,d);c.prototype.onBlobLoaded=function(a){};c.prototype.load=function(){return sh(this,void 0,Promise,function(){var a,b,e;return th(this,function(f){switch(f.label){case 0:return[4,fetch(this.origin)];case 1:return a=f.sent(),[4,a.blob()];case 2:return b=f.sent(),[4,b.arrayBuffer()];case 3:return e=f.sent(),this.data=new Uint32Array(e),this.buffer=new Mc(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}})})};return c}(Sb),
Fc=function(d){function c(a,b){var e=d.call(this,a,b)||this;e.format=b.format;e.levels=b.levels||1;e._width=b.width;e._height=b.height;e._extension=c._formatToExtension(e.format);if(b.levelBuffers||e.buffer)e._levelBuffers=b.levelBuffers||c._createLevelBuffers(a instanceof Uint8Array?a:e.buffer.uint8View,e.format,e.levels,4,4,e.width,e.height);return e}df(c,d);c.prototype.upload=function(a,b,e){b=a.gl;if(!a.context.extensions[this._extension])throw Error(this._extension+" textures are not supported on the current machine");
if(!this._levelBuffers)return!1;a=0;for(e=this.levels;a<e;a++){var f=this._levelBuffers[a];b.compressedTexImage2D(b.TEXTURE_2D,f.levelID,this.format,f.levelWidth,f.levelHeight,0,f.levelBuffer)}return!0};c.prototype.onBlobLoaded=function(){this._levelBuffers=c._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)};c._formatToExtension=function(a){if(33776<=a&&33779>=a)return"s3tc";if(37488<=a&&37497>=a)return"etc";if(35840<=a&&35843>=a)return"pvrtc";if(36196<=
a)return"etc1";if(35986<=a&&34798>=a)return"atc";throw Error("Invalid (compressed) texture format given!");};c._createLevelBuffers=function(a,b,e,f,g,h,k){for(var l=Array(e),m=a.byteOffset,n=h+f-1&~(f-1),q=k+g-1&~(g-1),y=n*q*hc[b],E=0;E<e;E++)l[E]={levelID:E,levelWidth:1<e?h:n,levelHeight:1<e?k:q,levelBuffer:new Uint8Array(a.buffer,m,y)},m+=y,h=h>>1||1,k=k>>1||1,n=h+f-1&~(f-1),q=k+g-1&~(g-1),y=n*q*hc[b];return l};return c}(yf),Af=function(){function d(){}d.use=function(c,a){var b=c.data;d.textureExtensions||
d.autoDetectExtensions();if(c.type===Ra.TYPE.JSON&&b&&b.cacheID&&b.textures){for(var e=b.textures,f=void 0,g=void 0,h=0,k=e.length;h<k;h++){var l=e[h],m=l.src;(l=l.format)||(g=m);if(d.textureFormats[l]){f=m;break}}f=f||g;if(!f)throw Error("Cannot load compressed-textures in "+c.url+", make sure you provide a fallback");if(f===c.url)throw Error("URL of compressed texture cannot be the same as the manifest's URL");this.add(b.cacheID,f,{crossOrigin:c.crossOrigin,metadata:c.metadata.imageMetadata,parentResource:c},
function(){a()})}else a()};d.autoDetectExtensions=function(c){if(!c){c=document.createElement("canvas").getContext("webgl");if(!c){console.error("WebGL not available for compressed textures. Silently failing.");return}c={s3tc:c.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:c.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:c.getExtension("WEBGL_compressed_texture_etc"),etc1:c.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
atc:c.getExtension("WEBGL_compressed_texture_atc"),astc:c.getExtension("WEBGL_compressed_texture_astc")}}d.textureExtensions=c;d.textureFormats={};for(var a in c){var b=c[a];b&&Object.assign(d.textureFormats,Object.getPrototypeOf(b))}};return d}(),pc,Wa;Ra.setExtensionXhrType("dds",Ra.XHR_RESPONSE_TYPE.BUFFER);var Xa;(function(d){d[d.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN";d[d.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS";d[d.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT";
d[d.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT";d[d.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT";d[d.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS";d[d.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT";d[d.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT";d[d.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT";d[d.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS";d[d.DXGI_FORMAT_R16G16B16A16_FLOAT=
10]="DXGI_FORMAT_R16G16B16A16_FLOAT";d[d.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM";d[d.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT";d[d.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM";d[d.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT";d[d.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS";d[d.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT";d[d.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT";
d[d.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT";d[d.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS";d[d.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT";d[d.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS";d[d.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT";d[d.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS";d[d.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM";
d[d.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT";d[d.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT";d[d.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS";d[d.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM";d[d.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB";d[d.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT";d[d.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM";d[d.DXGI_FORMAT_R8G8B8A8_SINT=32]=
"DXGI_FORMAT_R8G8B8A8_SINT";d[d.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS";d[d.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT";d[d.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM";d[d.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT";d[d.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM";d[d.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT";d[d.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS";d[d.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT";
d[d.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT";d[d.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT";d[d.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT";d[d.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS";d[d.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT";d[d.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS";d[d.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT";d[d.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS";
d[d.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM";d[d.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT";d[d.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM";d[d.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT";d[d.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS";d[d.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT";d[d.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM";d[d.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM";d[d.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT";d[d.DXGI_FORMAT_R16_SNORM=
58]="DXGI_FORMAT_R16_SNORM";d[d.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT";d[d.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS";d[d.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM";d[d.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT";d[d.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM";d[d.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT";d[d.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM";d[d.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM";d[d.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP";
d[d.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM";d[d.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM";d[d.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS";d[d.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM";d[d.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB";d[d.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS";d[d.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM";d[d.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB";d[d.DXGI_FORMAT_BC3_TYPELESS=
76]="DXGI_FORMAT_BC3_TYPELESS";d[d.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM";d[d.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB";d[d.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS";d[d.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM";d[d.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM";d[d.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS";d[d.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM";d[d.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM";d[d.DXGI_FORMAT_B5G6R5_UNORM=
85]="DXGI_FORMAT_B5G6R5_UNORM";d[d.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM";d[d.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM";d[d.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM";d[d.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM";d[d.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS";d[d.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB";d[d.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS";
d[d.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB";d[d.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS";d[d.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16";d[d.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16";d[d.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS";d[d.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM";d[d.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB";d[d.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV";d[d.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410";
d[d.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416";d[d.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12";d[d.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010";d[d.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016";d[d.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE";d[d.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2";d[d.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210";d[d.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216";d[d.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11";d[d.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44";d[d.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44";
d[d.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8";d[d.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8";d[d.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM";d[d.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208";d[d.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208";d[d.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408";d[d.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE";d[d.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE";d[d.DXGI_FORMAT_FORCE_UINT=
121]="DXGI_FORMAT_FORCE_UINT"})(Xa||(Xa={}));var Be;(function(d){d[d.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D";d[d.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D";d[d.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(Be||(Be={}));var zi=(pc={},pc[827611204]=ra.COMPRESSED_RGBA_S3TC_DXT1_EXT,pc[861165636]=ra.COMPRESSED_RGBA_S3TC_DXT3_EXT,pc[894720068]=ra.COMPRESSED_RGBA_S3TC_DXT5_EXT,pc),Ai=(Wa={},Wa[Xa.DXGI_FORMAT_BC1_TYPELESS]=ra.COMPRESSED_RGBA_S3TC_DXT1_EXT,Wa[Xa.DXGI_FORMAT_BC1_UNORM]=
ra.COMPRESSED_RGBA_S3TC_DXT1_EXT,Wa[Xa.DXGI_FORMAT_BC2_TYPELESS]=ra.COMPRESSED_RGBA_S3TC_DXT3_EXT,Wa[Xa.DXGI_FORMAT_BC2_UNORM]=ra.COMPRESSED_RGBA_S3TC_DXT3_EXT,Wa[Xa.DXGI_FORMAT_BC3_TYPELESS]=ra.COMPRESSED_RGBA_S3TC_DXT5_EXT,Wa[Xa.DXGI_FORMAT_BC3_UNORM]=ra.COMPRESSED_RGBA_S3TC_DXT5_EXT,Wa[Xa.DXGI_FORMAT_BC1_UNORM_SRGB]=ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Wa[Xa.DXGI_FORMAT_BC2_UNORM_SRGB]=ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Wa[Xa.DXGI_FORMAT_BC3_UNORM_SRGB]=ra.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,
Wa),Cf=function(){function d(){}d.use=function(c,a){"dds"===c.extension&&c.data&&ef(c.name||c.url,d.parse(c.data));a()};d.parse=function(c){var a=new Uint32Array(c);if(542327876!==a[0])throw Error("Invalid DDS file magic word");var b=new Uint32Array(c,0,124/Uint32Array.BYTES_PER_ELEMENT),e=b[3],f=b[4],g=b[7];b=new Uint32Array(c,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT);var h=b[1];if(h&4){b=b[2];if(808540228!==b)return a=zi[b],c=new Uint8Array(c,128),[new Fc(c,{format:a,width:f,
height:e,levels:g})];a=new Uint32Array(a.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT);b=a[0];h=a[1];var k=a[2];a=a[3];var l=Ai[b];if(void 0===l)throw Error("DDSLoader cannot parse texture data with DXGI format "+b);if(4===k)throw Error("DDSLoader does not support cubemap textures");if(h===Be.DDS_DIMENSION_TEXTURE3D)throw Error("DDSLoader does not supported 3D texture data");b=[];if(1===a)b.push(new Uint8Array(c,148));else{var m=hc[l];h=0;var n=f,q=e;for(k=0;k<g;k++)h+=Math.max(1,n+3&-4)*Math.max(1,
q+3&-4)*m,n>>>=1,q>>>=1;m=148;for(k=0;k<a;k++)b.push(new Uint8Array(c,m,h)),m+=h}return b.map(function(y){return new Fc(y,{format:l,width:f,height:e,levels:g})})}if(h&64)throw Error("DDSLoader does not support uncompressed texture data.");if(h&512)throw Error("DDSLoader does not supported YUV uncompressed texture data.");if(h&131072)throw Error("DDSLoader does not support single-channel (lumninance) texture data!");if(h&2)throw Error("DDSLoader does not support single-channel (alpha) texture data!");
throw Error("DDSLoader failed to load a texture file due to an unknown reason!");};return d}(),Zb,Jb,qc;Ra.setExtensionXhrType("ktx",Ra.XHR_RESPONSE_TYPE.BUFFER);var Jg=[171,75,84,88,32,49,49,187,13,10,26,10],ee=(Zb={},Zb[za.UNSIGNED_BYTE]=1,Zb[za.UNSIGNED_SHORT]=2,Zb[za.FLOAT]=4,Zb[za.HALF_FLOAT]=8,Zb),Gf=(Jb={},Jb[Va.RGBA]=4,Jb[Va.RGB]=3,Jb[Va.LUMINANCE]=1,Jb[Va.LUMINANCE_ALPHA]=2,Jb[Va.ALPHA]=1,Jb),cg=(qc={},qc[za.UNSIGNED_SHORT_4_4_4_4]=2,qc[za.UNSIGNED_SHORT_5_5_5_1]=2,qc[za.UNSIGNED_SHORT_5_6_5]=
2,qc),Nf=function(){function d(){}d.use=function(c,a){"ktx"===c.extension&&c.data&&d.parse(c.name||c.url,c.data);a()};d.parse=function(c,a){var b=new DataView(a);if(d.validate(c,b)){var e=67305985===b.getUint32(12,!0),f=b.getUint32(16,e),g=b.getUint32(24,e),h=b.getUint32(28,e),k=b.getUint32(36,e),l=b.getUint32(40,e)||1,m=b.getUint32(44,e)||1,n=b.getUint32(48,e)||1,q=b.getUint32(52,e),y=b.getUint32(56,e),E=b.getUint32(60,e);if(0===l||1!==m)throw Error("Only 2D textures are supported");if(1!==q)throw Error("CubeTextures are not supported by KTXLoader yet!");
if(1!==n)throw Error("WebGL does not support array textures");var N=k+3&-4,U=l+3&-4;m=Array(n);q=k*l;0===f&&(q=N*U);g=0!==f?ee[f]?ee[f]*Gf[g]:cg[f]:hc[h];if(void 0===g)throw Error("Unable to resolve the pixel format stored in the *.ktx file!");q*=g;var ka=k,fa=l;E=64+E;for(var ha=0;ha<y;ha++){for(var ua=b.getUint32(E,e),Z=E+4,wa=0;wa<n;wa++){var T=m[wa];T||(T=m[wa]=Array(y));T[ha]={levelID:ha,levelWidth:1<y?ka:N,levelHeight:1<y?fa:U,levelBuffer:new Uint8Array(a,Z,q)};Z+=q}E+=ua+4;E=0!==E%4?E+4-E%
4:E;ka=ka>>1||1;fa=fa>>1||1;N=ka+4-1&-4;U=fa+4-1&-4;q=N*U*g}if(0!==f)throw Error("TODO: Uncompressed");a=m.map(function(pa){return new Fc(null,{format:h,width:k,height:l,levels:y,levelBuffers:pa})});ef(c,a)}};d.validate=function(c,a){for(var b=0;b<Jg.length;b++)if(a.getUint8(b)!==Jg[b])return console.error(c+" is not a valid *.ktx file!"),!1;return!0};return d}(),kd=function(d,c){kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e])};return kd(d,c)},Rh=function(d){function c(a,b,e,f){void 0===a&&(a=1500);void 0===e&&(e=16384);void 0===f&&(f=!1);var g=d.call(this)||this;16384<e&&(e=16384);g._properties=[!1,!0,!1,!1,!1];g._maxSize=a;g._batchSize=e;g._buffers=null;g._bufferUpdateIDs=[];g._updateID=0;g.interactiveChildren=!1;g.blendMode=la.NORMAL;g.autoResize=f;g.roundPixels=!0;g.baseTexture=null;g.setProperties(b);g._tint=0;g.tintRgb=new Float32Array(4);g.tint=16777215;return g}ff(c,d);c.prototype.setProperties=function(a){a&&
(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};c.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},
set:function(a){this._tint=a;ca(a,this.tintRgb)},enumerable:!1,configurable:!0});c.prototype.render=function(a){var b=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.batch.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};c.prototype.onChildrenChange=function(a){for(a=
Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<a;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};c.prototype.dispose=function(){if(this._buffers){for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=null}};c.prototype.destroy=function(a){d.prototype.destroy.call(this,a);this.dispose();this._bufferUpdateIDs=this._buffers=this._properties=null};return c}(Ua),Kg=function(){function d(c,a,b){this.geometry=new Tb;this.indexBuffer=null;this.size=
b;this.dynamicProperties=[];this.staticProperties=[];for(b=0;b<c.length;++b){var e=c[b];e={attributeName:e.attributeName,size:e.size,uploadFunction:e.uploadFunction,type:e.type||za.FLOAT,offset:e.offset};a[b]?this.dynamicProperties.push(e):this.staticProperties.push(e)}this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}d.prototype.initBuffers=function(){var c=
this.geometry,a=0;this.indexBuffer=new Ha(L(this.size),!0,!0);c.addIndex(this.indexBuffer);for(var b=this.dynamicStride=0;b<this.dynamicProperties.length;++b){var e=this.dynamicProperties[b];e.offset=a;a+=e.size;this.dynamicStride+=e.size}b=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(b);this.dynamicDataUint32=new Uint32Array(b);this.dynamicBuffer=new Ha(this.dynamicData,!1,!1);for(b=this.staticStride=a=0;b<this.staticProperties.length;++b)e=this.staticProperties[b],
e.offset=a,a+=e.size,this.staticStride+=e.size;b=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(b);this.staticDataUint32=new Uint32Array(b);this.staticBuffer=new Ha(this.staticData,!0,!1);for(b=0;b<this.dynamicProperties.length;++b)e=this.dynamicProperties[b],c.addAttribute(e.attributeName,this.dynamicBuffer,0,e.type===za.UNSIGNED_BYTE,e.type,4*this.dynamicStride,4*e.offset);for(b=0;b<this.staticProperties.length;++b)e=this.staticProperties[b],c.addAttribute(e.attributeName,
this.staticBuffer,0,e.type===za.UNSIGNED_BYTE,e.type,4*this.staticStride,4*e.offset)};d.prototype.uploadDynamic=function(c,a,b){for(var e=0;e<this.dynamicProperties.length;e++){var f=this.dynamicProperties[e];f.uploadFunction(c,a,b,f.type===za.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,f.offset)}this.dynamicBuffer._updateID++};d.prototype.uploadStatic=function(c,a,b){for(var e=0;e<this.staticProperties.length;e++){var f=this.staticProperties[e];f.uploadFunction(c,a,b,
f.type===za.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,f.offset)}this.staticBuffer._updateID++};d.prototype.destroy=function(){this.staticDataUint32=this.staticData=this.staticBuffer=this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=this.dynamicProperties=this.indexBuffer=null;this.geometry.destroy()};return d}(),Rf=function(d){function c(a){a=d.call(this,a)||this;a.shader=null;a.properties=null;a.tempMatrix=new Fa;a.properties=[{attributeName:"aVertexPosition",
size:2,uploadFunction:a.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:a.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:a.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:a.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:za.UNSIGNED_BYTE,uploadFunction:a.uploadTint,offset:0}];a.shader=qb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",
"varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{});a.state=rb.for2d();return a}ff(c,d);c.prototype.render=function(a){var b=a.children,e=a._maxSize,f=a._batchSize,g=this.renderer,h=b.length;if(0!==h){h>e&&!a.autoResize&&(h=e);e=a._buffers;e||(e=a._buffers=this.generateBuffers(a));var k=b[0]._texture.baseTexture;this.state.blendMode=D(a.blendMode,k.alphaMode);
g.state.set(this.state);var l=g.gl,m=a.worldTransform.copyTo(this.tempMatrix);m.prepend(g.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=m.toArray(!0);this.shader.uniforms.uColor=p(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,k.alphaMode);this.shader.uniforms.uSampler=k;this.renderer.shader.bind(this.shader);k=!1;for(var n=m=0;m<h;m+=f,n+=1){var q=h-m;q>f&&(q=f);n>=e.length&&e.push(this._generateOneMoreBuffer(a));var y=e[n];y.uploadDynamic(b,m,q);var E=a._bufferUpdateIDs[n]||
0;if(k=k||y._updateID<E)y._updateID=a._updateID,y.uploadStatic(b,m,q);g.geometry.bind(y.geometry);l.drawElements(l.TRIANGLES,6*q,l.UNSIGNED_SHORT,0)}}};c.prototype.generateBuffers=function(a){var b=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)b.push(new Kg(this.properties,a,f));return b};c.prototype._generateOneMoreBuffer=function(a){return new Kg(this.properties,a._properties,a._batchSize)};c.prototype.uploadVertices=function(a,b,e,f,g,h){for(var k,l,m,n,q=0;q<e;++q){n=a[b+
q];k=n._texture;var y=n.scale.x,E=n.scale.y;m=k.trim;var N=k.orig;m?(l=m.x-n.anchor.x*N.width,k=l+m.width,n=m.y-n.anchor.y*N.height,m=n+m.height):(k=N.width*(1-n.anchor.x),l=N.width*-n.anchor.x,m=N.height*(1-n.anchor.y),n=N.height*-n.anchor.y);f[h]=l*y;f[h+1]=n*E;f[h+g]=k*y;f[h+g+1]=n*E;f[h+2*g]=k*y;f[h+2*g+1]=m*E;f[h+3*g]=l*y;f[h+3*g+1]=m*E;h+=4*g}};c.prototype.uploadPosition=function(a,b,e,f,g,h){for(var k=0;k<e;k++){var l=a[b+k].position;f[h]=l.x;f[h+1]=l.y;f[h+g]=l.x;f[h+g+1]=l.y;f[h+2*g]=l.x;
f[h+2*g+1]=l.y;f[h+3*g]=l.x;f[h+3*g+1]=l.y;h+=4*g}};c.prototype.uploadRotation=function(a,b,e,f,g,h){for(var k=0;k<e;k++){var l=a[b+k].rotation;f[h]=l;f[h+g]=l;f[h+2*g]=l;f[h+3*g]=l;h+=4*g}};c.prototype.uploadUvs=function(a,b,e,f,g,h){for(var k=0;k<e;++k){var l=a[b+k]._texture._uvs;l?(f[h]=l.x0,f[h+1]=l.y0,f[h+g]=l.x1,f[h+g+1]=l.y1,f[h+2*g]=l.x2,f[h+2*g+1]=l.y2,f[h+3*g]=l.x3,f[h+3*g+1]=l.y3):(f[h]=0,f[h+1]=0,f[h+g]=0,f[h+g+1]=0,f[h+2*g]=0,f[h+2*g+1]=0,f[h+3*g]=0,f[h+3*g+1]=0);h+=4*g}};c.prototype.uploadTint=
function(a,b,e,f,g,h){for(var k=0;k<e;++k){var l=a[b+k],m=0<l._texture.baseTexture.alphaMode,n=l.alpha;l=1>n&&m?r(l._tintRGB,n):l._tintRGB+(255*n<<24);f[h]=l;f[h+g]=l;f[h+2*g]=l;f[h+3*g]=l;h+=4*g}};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.tempMatrix=null};return c}(kc),gb;(function(d){d.MITER="miter";d.BEVEL="bevel";d.ROUND="round"})(gb||(gb={}));var eb;(function(d){d.BUTT="butt";d.ROUND="round";d.SQUARE="square"})(eb||
(eb={}));var Ob={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1E-4,_segmentsCount:function(d,c){void 0===c&&(c=20);if(!this.adaptive||!d||isNaN(d))return c;d=Math.ceil(d/this.maxLength);d<this.minSegments?d=this.minSegments:d>this.maxSegments&&(d=this.maxSegments);return d}},Pd=function(){function d(){this.color=16777215;this.alpha=1;this.texture=na.WHITE;this.matrix=null;this.visible=!1;this.reset()}d.prototype.clone=function(){var c=new d;c.color=this.color;c.alpha=this.alpha;
c.texture=this.texture;c.matrix=this.matrix;c.visible=this.visible;return c};d.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=na.WHITE;this.matrix=null;this.visible=!1};d.prototype.destroy=function(){this.matrix=this.texture=null};return d}(),md=function(d,c){md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return md(d,c)},Ce={build:function(d){d.points=d.shape.points.slice()},
triangulate:function(d,c){var a=d.points,b=d.holes;d=c.points;c=c.indices;if(6<=a.length){for(var e=[],f=0;f<b.length;f++){var g=b[f];e.push(a.length/2);a=a.concat(g.points)}if(b=pe()(a,e,2)){e=d.length/2;for(f=0;f<b.length;f+=3)c.push(b[f]+e),c.push(b[f+1]+e),c.push(b[f+2]+e);for(f=0;f<a.length;f++)d.push(a[f])}}}},De={build:function(d){var c=d.shape,a=d.points,b=c.x,e=c.y;a.length=0;if(d.type===Ca.CIRC)var f=d=c.radius;else f=d.shape,d=f.width,f=f.height;if(0!==d&&0!==f){c=Math.floor(30*Math.sqrt(c.radius))||
Math.floor(15*Math.sqrt(d+f));c/=2.3;for(var g=2*Math.PI/c,h=0;h<c-.5;h++)a.push(b+Math.sin(-g*h)*d,e+Math.cos(-g*h)*f);a.push(a[0],a[1])}},triangulate:function(d,c){var a=d.points,b=c.points;c=c.indices;var e=b.length/2,f=e,g=d.shape,h=d.matrix,k=g.x;g=g.y;b.push(d.matrix?h.a*k+h.c*g+h.tx:k,d.matrix?h.b*k+h.d*g+h.ty:g);for(d=0;d<a.length;d+=2)b.push(a[d],a[d+1]),c.push(e++,f,e)}},Lg={build:function(d){var c=d.shape,a=c.x,b=c.y,e=c.width;c=c.height;d=d.points;d.length=0;d.push(a,b,a+e,b,a+e,b+c,a,
b+c)},triangulate:function(d,c){d=d.points;var a=c.points,b=a.length/2;a.push(d[0],d[1],d[2],d[3],d[6],d[7],d[4],d[5]);c.indices.push(b,b+1,b+2,b+1,b+2,b+3)}},Mg={build:function(d){var c=d.shape;d=d.points;var a=c.x,b=c.y,e=c.width,f=c.height;c=Math.max(0,Math.min(c.radius,Math.min(e,f)/2));d.length=0;c?(zc(a,b+c,a,b,a+c,b,d),zc(a+e-c,b,a+e,b,a+e,b+c,d),zc(a+e,b+f-c,a+e,b+f,a+e-c,b+f,d),zc(a+c,b+f,a,b+f,a,b+f-c,d)):d.push(a,b,a+e,b,a+e,b+f,a,b+f)},triangulate:function(d,c){d=d.points;var a=c.points;
c=c.indices;for(var b=a.length/2,e=pe()(d,null,2),f=0,g=e.length;f<g;f+=3)c.push(e[f]+b),c.push(e[f+1]+b),c.push(e[f+2]+b);f=0;for(g=d.length;f<g;f++)a.push(d[f],d[++f])}},Ee=function(){function d(){}d.curveTo=function(c,a,b,e,f,g){var h=g[g.length-1]-a,k=g[g.length-2]-c;e-=a;b-=c;var l=Math.abs(h*b-k*e);if(1E-8>l||0===f)return g[g.length-2]===c&&g[g.length-1]===a||g.push(c,a),null;var m=h*h+k*k,n=e*e+b*b,q=h*e+k*b;g=f*Math.sqrt(m)/l;l=f*Math.sqrt(n)/l;m=g*q/m;n=l*q/n;q=g*b+l*k;var y=g*e+l*h;return{cx:q+
c,cy:y+a,radius:f,startAngle:Math.atan2(h*(l+m)-y,k*(l+m)-q),endAngle:Math.atan2(e*(g+n)-y,b*(g+n)-q),anticlockwise:k*e>b*h}};d.arc=function(c,a,b,e,f,g,h,k,l){c=h-g;var m=Ob._segmentsCount(Math.abs(c)*f,40*Math.ceil(Math.abs(c)/lc));c/=2*m;a=2*c;h=Math.cos(c);k=Math.sin(c);--m;for(var n=m%1/m,q=0;q<=m;++q){var y=c+g+a*(q+n*q),E=Math.cos(y);y=-Math.sin(y);l.push((h*E+k*y)*f+b,(h*-y+k*E)*f+e)}};return d}(),Ng=function(){function d(){}d.curveLength=function(c,a,b,e,f,g,h,k){for(var l=0,m,n,q,y,E,N,
U,ka=c,fa=a,ha=1;10>=ha;++ha)m=ha/10,n=m*m,q=n*m,y=1-m,E=y*y,N=E*y,U=N*c+3*E*m*b+3*y*n*f+q*h,m=N*a+3*E*m*e+3*y*n*g+q*k,n=ka-U,q=fa-m,ka=U,fa=m,l+=Math.sqrt(n*n+q*q);return l};d.curveTo=function(c,a,b,e,f,g,h){var k=h[h.length-2],l=h[h.length-1];h.length-=2;var m=Ob._segmentsCount(d.curveLength(k,l,c,a,b,e,f,g));h.push(k,l);for(var n=1,q;n<=m;++n){q=n/m;var y=1-q;var E=y*y;var N=E*y;var U=q*q;var ka=U*q;h.push(N*k+3*E*q*c+3*y*U*b+ka*f,N*l+3*E*q*a+3*y*U*e+ka*g)}};return d}(),Og=function(){function d(){}
d.curveLength=function(c,a,b,e,f,g){f=c-2*b+f;g=a-2*e+g;c=2*b-2*c;e=2*e-2*a;a=4*(f*f+g*g);f=4*(f*c+g*e);e=c*c+e*e;g=2*Math.sqrt(a+f+e);c=Math.sqrt(a);b=2*a*c;var h=2*Math.sqrt(e),k=f/c;return(b*g+c*f*(g-h)+(4*e*a-f*f)*Math.log((2*c+k+g)/(k+h)))/(4*b)};d.curveTo=function(c,a,b,e,f){for(var g=f[f.length-2],h=f[f.length-1],k=Ob._segmentsCount(d.curveLength(g,h,c,a,b,e)),l,m,n=1;n<=k;++n){var q=n/k;l=g+(c-g)*q;m=h+(a-h)*q;f.push(l+(c+(b-c)*q-l)*q,m+(a+(e-a)*q-m)*q)}};return d}(),Pg=function(){function d(){this.reset()}
d.prototype.begin=function(c,a,b){this.reset();this.style=c;this.start=a;this.attribStart=b};d.prototype.end=function(c,a){this.attribSize=a-this.attribStart;this.size=c-this.start};d.prototype.reset=function(){this.style=null;this.attribSize=this.attribStart=this.start=this.size=0};return d}(),Kb,Xc=(Kb={},Kb[Ca.POLY]=Ce,Kb[Ca.CIRC]=De,Kb[Ca.ELIP]=De,Kb[Ca.RECT]=Lg,Kb[Ca.RREC]=Mg,Kb),Fe=[],rc=[],Td=function(){function d(c,a,b,e){void 0===a&&(a=null);void 0===b&&(b=null);void 0===e&&(e=null);this.shape=
c;this.lineStyle=b;this.fillStyle=a;this.matrix=e;this.type=c.type;this.points=[];this.holes=[]}d.prototype.clone=function(){return new d(this.shape,this.fillStyle,this.lineStyle,this.matrix)};d.prototype.destroy=function(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.fillStyle=this.lineStyle=this.points=null};return d}(),$b=new Da,nb=new gc,Kf=function(d){function c(){var a=d.call(this)||this;a.uvsFloat32=null;a.indicesUint16=null;a.points=[];a.colors=[];a.uvs=[];
a.indices=[];a.textureIds=[];a.graphicsData=[];a.dirty=0;a.batchDirty=-1;a.cacheDirty=-1;a.clearDirty=0;a.drawCalls=[];a.batches=[];a.shapeIndex=0;a._bounds=new gc;a.boundsDirty=-1;a.boundsPadding=0;a.batchable=!1;a.indicesUint16=null;a.uvsFloat32=null;a.closePointEps=1E-4;return a}ld(c,d);Object.defineProperty(c.prototype,"bounds",{get:function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds());return this._bounds},enumerable:!1,configurable:!0});c.prototype.invalidate=
function(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;for(var a=this.textureIds.length=0;a<this.drawCalls.length;a++)this.drawCalls[a].texArray.clear(),rc.push(this.drawCalls[a]);for(a=this.drawCalls.length=0;a<this.batches.length;a++){var b=this.batches[a];b.reset();Fe.push(b)}this.batches.length=0};c.prototype.clear=function(){0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,
this.graphicsData.length=0);return this};c.prototype.drawShape=function(a,b,e,f){void 0===b&&(b=null);void 0===e&&(e=null);void 0===f&&(f=null);a=new Td(a,b,e,f);this.graphicsData.push(a);this.dirty++;return this};c.prototype.drawHole=function(a,b){void 0===b&&(b=null);if(!this.graphicsData.length)return null;a=new Td(a,null,null,b);b=this.graphicsData[this.graphicsData.length-1];a.lineStyle=b.lineStyle;b.holes.push(a);this.dirty++;return this};c.prototype.destroy=function(){d.prototype.destroy.call(this);
for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this._bounds=this.batches=null};c.prototype.containsPoint=function(a){for(var b=this.graphicsData,e=0;e<b.length;++e){var f=
b[e];if(f.fillStyle.visible&&f.shape&&(f.matrix?f.matrix.applyInverse(a,$b):$b.copyFrom(a),f.shape.contains($b.x,$b.y))){var g=!1;if(f.holes)for(var h=0;h<f.holes.length;h++)if(f.holes[h].shape.contains($b.x,$b.y)){g=!0;break}if(!g)return!0}}return!1};c.prototype.updateBatches=function(a){if(!this.graphicsData.length)this.batchable=!0;else if(this.validateBatching()){this.cacheDirty=this.dirty;var b=this.uvs,e=this.graphicsData,f=null,g=null;0<this.batches.length&&(f=this.batches[this.batches.length-
1],g=f.style);for(var h=this.shapeIndex;h<e.length;h++){this.shapeIndex++;var k=e[h],l=k.fillStyle,m=k.lineStyle;Xc[k.type].build(k);k.matrix&&this.transformPoints(k.points,k.matrix);for(var n=0;2>n;n++){var q=0===n?l:m;if(q.visible){var y=this.indices.length,E=this.points.length/2;q.texture.baseTexture.wrapMode=jb.REPEAT;0===n?this.processFill(k):this.processLine(k);var N=this.points.length/2-E;0!==N&&(f&&!this._compareStyles(g,q)&&(f.end(y,E),f=null),f||(f=Fe.pop()||new Pg,f.begin(q,y,E),this.batches.push(f),
g=q),this.addUvs(this.points,b,q.texture,E,N,q.matrix))}}}b=this.indices.length;e=this.points.length/2;f&&f.end(b,e);0===this.batches.length?this.batchable=!0:(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=65535<e&&a?new Uint32Array(this.indices):new Uint16Array(this.indices),(this.batchable=this.isBatchable())?this.packBatches():this.buildDrawCalls())}};c.prototype._compareStyles=function(a,b){return a&&b&&a.texture.baseTexture===
b.texture.baseTexture&&a.color+a.alpha===b.color+b.alpha&&!!a.native===!!b.native?!0:!1};c.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var a=0,b=this.graphicsData.length;a<b;a++){var e=this.graphicsData[a],f=e.fillStyle;e=e.lineStyle;if(f&&!f.texture.baseTexture.valid||e&&!e.texture.baseTexture.valid)return!1}return!0};c.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);for(var a=this.batches,
b=0,e=a.length;b<e;b++)for(var f=a[b],g=0;g<f.size;g++){var h=f.start+g;this.indicesUint16[h]-=f.attribStart}};c.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var a=this.batches,b=0;b<a.length;b++)if(a[b].style.native)return!1;return this.points.length<2*c.BATCHABLE_SIZE};c.prototype.buildDrawCalls=function(){for(var a=++xa._globalBatch,b=0;b<this.drawCalls.length;b++)this.drawCalls[b].texArray.clear(),rc.push(this.drawCalls[b]);this.drawCalls.length=0;var e=this.colors,
f=this.textureIds,g=rc.pop();g||(g=new Cc,g.texArray=new Dc);g.texArray.count=0;g.start=0;g.size=0;g.type=Qa.TRIANGLES;var h=0,k=null,l=!1,m=Qa.TRIANGLES,n=0;this.drawCalls.push(g);for(b=0;b<this.batches.length;b++){var q=this.batches[b],y=q.style;var E=y.texture.baseTexture;l!==!!y.native&&(m=(l=!!y.native)?Qa.LINES:Qa.TRIANGLES,k=null,h=8,a++);k!==E&&(k=E,E._batchEnabled!==a&&(8===h&&(a++,h=0,0<g.size&&(g=rc.pop(),g||(g=new Cc,g.texArray=new Dc),this.drawCalls.push(g)),g.start=n,g.size=0,g.texArray.count=
0,g.type=m),E.touched=1,E._batchEnabled=a,E._batchLocation=h,E.wrapMode=10497,g.texArray.elements[g.texArray.count++]=E,h++));g.size+=q.size;n+=q.size;E=E._batchLocation;this.addColors(e,y.color,y.alpha,q.attribSize);this.addTextureIds(f,E,q.attribSize)}xa._globalBatch=a;this.packAttributes()};c.prototype.packAttributes=function(){for(var a=this.points,b=this.uvs,e=this.colors,f=this.textureIds,g=new ArrayBuffer(12*a.length),h=new Float32Array(g),k=new Uint32Array(g),l=0,m=0;m<a.length/2;m++)h[l++]=
a[2*m],h[l++]=a[2*m+1],h[l++]=b[2*m],h[l++]=b[2*m+1],k[l++]=e[m],h[l++]=f[m];this._buffer.update(g);this._indexBuffer.update(this.indicesUint16)};c.prototype.processFill=function(a){a.holes.length?(this.processHoles(a.holes),Ce.triangulate(a,this)):Xc[a.type].triangulate(a,this)};c.prototype.processLine=function(a){nd(a,this);for(var b=0;b<a.holes.length;b++)nd(a.holes[b],this)};c.prototype.processHoles=function(a){for(var b=0;b<a.length;b++){var e=a[b];Xc[e.type].build(e);e.matrix&&this.transformPoints(e.points,
e.matrix)}};c.prototype.calculateBounds=function(){var a=this._bounds,b=Fa.IDENTITY;this._bounds.clear();nb.clear();for(var e=0;e<this.graphicsData.length;e++){var f=this.graphicsData[e],g=f.shape,h=f.type,k=f.lineStyle,l=f.matrix||Fa.IDENTITY;f=0;if(k&&k.visible){var m=k.alignment;f=k.width;f=h===Ca.POLY?f*(.5+Math.abs(.5-m)):f*Math.max(0,m)}b!==l&&(nb.isEmpty()||(a.addBoundsMatrix(nb,b),nb.clear()),b=l);h===Ca.RECT||h===Ca.RREC?nb.addFramePad(g.x,g.y,g.x+g.width,g.y+g.height,f,f):h===Ca.CIRC?nb.addFramePad(g.x,
g.y,g.x,g.y,g.radius+f,g.radius+f):h===Ca.ELIP?nb.addFramePad(g.x,g.y,g.x,g.y,g.width+f,g.height+f):a.addVerticesMatrix(b,g.points,0,g.points.length,f,f)}nb.isEmpty()||a.addBoundsMatrix(nb,b);a.pad(this.boundsPadding,this.boundsPadding)};c.prototype.transformPoints=function(a,b){for(var e=0;e<a.length/2;e++){var f=a[2*e],g=a[2*e+1];a[2*e]=b.a*f+b.c*g+b.tx;a[2*e+1]=b.b*f+b.d*g+b.ty}};c.prototype.addColors=function(a,b,e,f){for(b=r((b>>16)+(b&65280)+((b&255)<<16),e);0<f--;)a.push(b)};c.prototype.addTextureIds=
function(a,b,e){for(;0<e--;)a.push(b)};c.prototype.addUvs=function(a,b,e,f,g,h){void 0===h&&(h=null);for(var k=0,l=b.length,m=e.frame;k<g;){var n=a[2*(f+k)],q=a[2*(f+k)+1];if(h){var y=h.a*n+h.c*q+h.tx;q=h.b*n+h.d*q+h.ty;n=y}k++;b.push(n/m.width,q/m.height)}a=e.baseTexture;(m.width<a.width||m.height<a.height)&&this.adjustUvs(b,e,l,g)};c.prototype.adjustUvs=function(a,b,e,f){var g=b.baseTexture;f=e+2*f;var h=b.frame;b=h.width/g.width;g=h.height/g.height;var k=h.x/h.width;h=h.y/h.height;for(var l=Math.floor(a[e]+
1E-6),m=Math.floor(a[e+1]+1E-6),n=e+2;n<f;n+=2)l=Math.min(l,Math.floor(a[n]+1E-6)),m=Math.min(m,Math.floor(a[n+1]+1E-6));k-=l;h-=m;for(n=e;n<f;n+=2)a[n]=(a[n]+k)*b,a[n+1]=(a[n+1]+h)*g};c.BATCHABLE_SIZE=100;return c}(Ld),Of=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.width=0;a.alignment=.5;a.native=!1;a.cap=eb.BUTT;a.join=gb.MITER;a.miterLimit=10;return a}ld(c,d);c.prototype.clone=function(){var a=new c;a.color=this.color;a.alpha=this.alpha;a.texture=this.texture;a.matrix=
this.matrix;a.visible=this.visible;a.width=this.width;a.alignment=this.alignment;a.native=this.native;a.cap=this.cap;a.join=this.join;a.miterLimit=this.miterLimit;return a};c.prototype.reset=function(){d.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=!1};return c}(Pd),Bi=new Float32Array(3),Ge={},ud=function(d){function c(a){void 0===a&&(a=null);var b=d.call(this)||this;b._geometry=a||new Kf;b._geometry.refCount++;b.shader=null;b.state=rb.for2d();b._fillStyle=new Pd;
b._lineStyle=new Of;b._matrix=null;b._holeMode=!1;b.currentPath=null;b.batches=[];b.batchTint=-1;b.batchDirty=-1;b.vertexData=null;b.pluginName="batch";b._transformID=-1;b.tint=16777215;b.blendMode=la.NORMAL;return b}ld(c,d);Object.defineProperty(c.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0});c.prototype.clone=function(){this.finishPoly();return new c(this._geometry)};Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.state.blendMode},
set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0});c.prototype.lineStyle=function(a,b,e,f,g){void 0===a&&(a=null);void 0===
b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=.5);void 0===g&&(g=!1);"number"===typeof a&&(a={width:a,color:b,alpha:e,alignment:f,native:g});return this.lineTextureStyle(a)};c.prototype.lineTextureStyle=function(a){a=Object.assign({width:0,texture:na.WHITE,color:a&&a.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:eb.BUTT,join:gb.MITER,miterLimit:10},a);this.currentPath&&this.startPoly();var b=0<a.width&&0<a.alpha;b?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._lineStyle,
{visible:b},a)):this._lineStyle.reset();return this};c.prototype.startPoly=function(){if(this.currentPath){var a=this.currentPath.points,b=this.currentPath.points.length;2<b&&(this.drawShape(this.currentPath),this.currentPath=new mc,this.currentPath.closeStroke=!1,this.currentPath.points.push(a[b-2],a[b-1]))}else this.currentPath=new mc,this.currentPath.closeStroke=!1};c.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=
null):this.currentPath.points.length=0)};c.prototype.moveTo=function(a,b){this.startPoly();this.currentPath.points[0]=a;this.currentPath.points[1]=b;return this};c.prototype.lineTo=function(a,b){this.currentPath||this.moveTo(0,0);var e=this.currentPath.points,f=e[e.length-1];e[e.length-2]===a&&f===b||e.push(a,b);return this};c.prototype._initCurve=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[a,b]):this.moveTo(a,b)};
c.prototype.quadraticCurveTo=function(a,b,e,f){this._initCurve();var g=this.currentPath.points;0===g.length&&this.moveTo(0,0);Og.curveTo(a,b,e,f,g);return this};c.prototype.bezierCurveTo=function(a,b,e,f,g,h){this._initCurve();Ng.curveTo(a,b,e,f,g,h,this.currentPath.points);return this};c.prototype.arcTo=function(a,b,e,f,g){this._initCurve(a,b);(a=Ee.curveTo(a,b,e,f,g,this.currentPath.points))&&this.arc(a.cx,a.cy,a.radius,a.startAngle,a.endAngle,a.anticlockwise);return this};c.prototype.arc=function(a,
b,e,f,g,h){void 0===h&&(h=!1);if(f===g)return this;!h&&g<=f?g+=lc:h&&f<=g&&(f+=lc);if(0===g-f)return this;var k=a+Math.cos(f)*e,l=b+Math.sin(f)*e,m=this._geometry.closePointEps,n=this.currentPath?this.currentPath.points:null;if(n){var q=Math.abs(n[n.length-1]-l);Math.abs(n[n.length-2]-k)<m&&q<m||n.push(k,l)}else this.moveTo(k,l),n=this.currentPath.points;Ee.arc(k,l,a,b,e,f,g,h,n);return this};c.prototype.beginFill=function(a,b){void 0===a&&(a=0);void 0===b&&(b=1);return this.beginTextureFill({texture:na.WHITE,
color:a,alpha:b})};c.prototype.beginTextureFill=function(a){a=Object.assign({texture:na.WHITE,color:16777215,alpha:1,matrix:null},a);this.currentPath&&this.startPoly();var b=0<a.alpha;b?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._fillStyle,{visible:b},a)):this._fillStyle.reset();return this};c.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};c.prototype.drawRect=function(a,b,e,f){return this.drawShape(new va(a,b,e,f))};c.prototype.drawRoundedRect=
function(a,b,e,f,g){return this.drawShape(new Yf(a,b,e,f,g))};c.prototype.drawCircle=function(a,b,e){return this.drawShape(new zf(a,b,e))};c.prototype.drawEllipse=function(a,b,e,f){return this.drawShape(new Ef(a,b,e,f))};c.prototype.drawPolygon=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];a=!0;e=b[0];e.points?(a=e.closeStroke,b=e.points):b=Array.isArray(b[0])?b[0]:b;b=new mc(b);b.closeStroke=a;this.drawShape(b);return this};c.prototype.drawShape=function(a){this._holeMode?
this._geometry.drawHole(a,this._matrix):this._geometry.drawShape(a,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);return this};c.prototype.clear=function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;this._matrix=null;this._holeMode=!1;this.currentPath=null;return this};c.prototype.isFastRect=function(){var a=this._geometry.graphicsData;return 1===a.length&&a[0].shape.type===Ca.RECT&&!(a[0].lineStyle.visible&&a[0].lineStyle.width)};c.prototype._render=
function(a){this.finishPoly();var b=this._geometry;b.updateBatches(a.context.supports.uint32Indices);b.batchable?(this.batchDirty!==b.batchDirty&&this._populateBatches(),this._renderBatched(a)):(a.batch.flush(),this._renderDirect(a))};c.prototype._populateBatches=function(){var a=this._geometry,b=this.blendMode,e=a.batches.length;this._transformID=this.batchTint=-1;this.batchDirty=a.batchDirty;this.batches.length=e;this.vertexData=new Float32Array(a.points);for(var f=0;f<e;f++){var g=a.batches[f],
h=g.style.color,k=new Float32Array(this.vertexData.buffer,8*g.attribStart,2*g.attribSize),l=new Float32Array(a.uvsFloat32.buffer,8*g.attribStart,2*g.attribSize),m=new Uint16Array(a.indicesUint16.buffer,2*g.start,g.size);g={vertexData:k,blendMode:b,indices:m,uvs:l,_batchRGB:ca(h),_tintRGB:h,_texture:g.style.texture,alpha:g.style.alpha,worldAlpha:1};this.batches[f]=g}};c.prototype._renderBatched=function(a){if(this.batches.length){a.batch.setObjectRenderer(a.plugins[this.pluginName]);this.calculateVertices();
this.calculateTints();for(var b=0,e=this.batches.length;b<e;b++){var f=this.batches[b];f.worldAlpha=this.worldAlpha*f.alpha;a.plugins[this.pluginName].render(f)}}};c.prototype._renderDirect=function(a){var b=this._resolveDirectShader(a),e=this._geometry,f=this.tint,g=this.worldAlpha,h=b.uniforms,k=e.drawCalls;h.translationMatrix=this.transform.worldTransform;h.tint[0]=(f>>16&255)/255*g;h.tint[1]=(f>>8&255)/255*g;h.tint[2]=(f&255)/255*g;h.tint[3]=g;a.shader.bind(b);a.geometry.bind(e,b);a.state.set(this.state);
b=0;for(k=k.length;b<k;b++)this._renderDrawCallDirect(a,e.drawCalls[b])};c.prototype._renderDrawCallDirect=function(a,b){var e=b.texArray,f=b.type,g=b.size;b=b.start;for(var h=e.count,k=0;k<h;k++)a.texture.bind(e.elements[k],k);a.geometry.draw(f,g,b)};c.prototype._resolveDirectShader=function(a){var b=this.shader,e=this.pluginName;if(!b){if(!Ge[e]){b=a.plugins.batch.MAX_TEXTURES;for(var f=new Int32Array(b),g=0;g<b;g++)f[g]=g;b={tint:new Float32Array([1,1,1,1]),translationMatrix:new Fa,default:tb.from({uSamplers:f},
!0)};Ge[e]=new qb(a.plugins[e]._shader.program,b)}b=Ge[e]}return b};c.prototype._calculateBounds=function(){this.finishPoly();var a=this._geometry;a.graphicsData.length&&(a=a.bounds,this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY))};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,c._TEMP_POINT);return this._geometry.containsPoint(c._TEMP_POINT)};c.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var a=ca(this.tint,
Bi),b=0;b<this.batches.length;b++){var e=this.batches[b],f=e._batchRGB;f=(a[0]*f[0]*255<<16)+(a[1]*f[1]*255<<8)+(a[2]*f[2]*255|0);e._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}};c.prototype.calculateVertices=function(){var a=this.transform._worldID;if(this._transformID!==a){this._transformID=a;var b=this.transform.worldTransform;a=b.a;var e=b.b,f=b.c,g=b.d,h=b.tx;b=b.ty;for(var k=this._geometry.points,l=this.vertexData,m=0,n=0;n<k.length;n+=2){var q=k[n],y=k[n+1];l[m++]=a*q+f*y+h;l[m++]=g*y+e*q+b}}};
c.prototype.closePath=function(){var a=this.currentPath;a&&(a.closeStroke=!0);return this};c.prototype.setMatrix=function(a){this._matrix=a;return this};c.prototype.beginHole=function(){this.finishPoly();this._holeMode=!0;return this};c.prototype.endHole=function(){this.finishPoly();this._holeMode=!1;return this};c.prototype.destroy=function(a){this._geometry.refCount--;0===this._geometry.refCount&&this._geometry.dispose();this.currentPath=this._matrix=null;this._lineStyle.destroy();this._lineStyle=
null;this._fillStyle.destroy();this.vertexData=this.shader=this._geometry=this._fillStyle=null;this.batches.length=0;this.batches=null;d.prototype.destroy.call(this,a)};c._TEMP_POINT=new Da;return c}(Ua),Xh={buildPoly:Ce,buildCircle:De,buildRectangle:Lg,buildRoundedRectangle:Mg,buildLine:nd,ArcUtils:Ee,BezierUtils:Ng,QuadraticUtils:Og,BatchPart:Pg,FILL_COMMANDS:Xc,BATCH_POOL:Fe,DRAW_CALL_POOL:rc},od=function(d,c){od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return od(d,c)},sc=new Da,Ci=new Uint16Array([0,1,2,0,2,3]),Wb=function(d){function c(a){var b=d.call(this)||this;b._anchor=new Cb(b._onAnchorUpdate,b,a?a.defaultAnchor.x:0,a?a.defaultAnchor.y:0);b._texture=null;b._width=0;b._height=0;b._tint=null;b._tintRGB=null;b.tint=16777215;b.blendMode=la.NORMAL;b._cachedTint=16777215;b.uvs=null;b.texture=a||na.EMPTY;b.vertexData=new Float32Array(8);b.vertexTrimmedData=null;b._transformID=-1;
b._textureID=-1;b._transformTrimmedID=-1;b._textureTrimmedID=-1;b.indices=Ci;b.pluginName="batch";b.isSprite=!0;b._roundPixels=ja.ROUND_PIXELS;return b}uh(c,d);c.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this._cachedTint=16777215;this._width&&(this.scale.x=ma(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=ma(this.scale.y)*this._height/this._texture.orig.height)};c.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=
-1};c.prototype.calculateVertices=function(){var a=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==a._updateID){this._textureID!==a._updateID&&(this.uvs=this._texture._uvs.uvsFloat32);this._transformID=this.transform._worldID;this._textureID=a._updateID;var b=this.transform.worldTransform,e=b.a,f=b.b,g=b.c,h=b.d,k=b.tx,l=b.ty;b=this.vertexData;var m=a.trim,n=a.orig,q=this._anchor;if(m){var y=m.x-q._x*n.width;a=y+m.width;q=m.y-q._y*n.height;m=q+m.height}else y=-q._x*
n.width,a=y+n.width,q=-q._y*n.height,m=q+n.height;b[0]=e*y+g*q+k;b[1]=h*q+f*y+l;b[2]=e*a+g*q+k;b[3]=h*q+f*a+l;b[4]=e*a+g*m+k;b[5]=h*m+f*a+l;b[6]=e*y+g*m+k;b[7]=h*m+f*y+l;if(this._roundPixels)for(e=ja.RESOLUTION,f=0;f<b.length;++f)b[f]=Math.round((b[f]*e|0)/e)}};c.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=
this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this.vertexTrimmedData,b=this._texture.orig,e=this._anchor,f=this.transform.worldTransform,g=f.a,h=f.b,k=f.c,l=f.d,m=f.tx;f=f.ty;var n=-e._x*b.width,q=n+b.width;e=-e._y*b.height;b=e+b.height;a[0]=g*n+k*e+m;a[1]=l*e+h*n+f;a[2]=g*q+k*e+m;a[3]=l*e+h*q+f;a[4]=g*q+k*b+m;a[5]=l*b+h*q+f;a[6]=g*n+k*b+m;a[7]=l*b+h*n+f};c.prototype._render=function(a){this.calculateVertices();a.batch.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};
c.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};c.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*
(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new va),a=this._localBoundsRect),this._bounds.getRectangle(a)):d.prototype.getLocalBounds.call(this,a)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,sc);var b=this._texture.orig.width;a=this._texture.orig.height;var e=-b*this.anchor.x;return sc.x>=e&&sc.x<e+b&&(b=-a*this.anchor.y,sc.y>=b&&sc.y<b+a)?!0:!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,
a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this._texture=null};c.from=function(a,b){a=a instanceof na?a:na.from(a,b);return new c(a)};Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1);this._roundPixels=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=ma(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=ma(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"anchor",
{get:function(){return this._anchor},set:function(a){this._anchor.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"texture",{get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=a||
na.EMPTY,this._cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,a))if(a.baseTexture.valid)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)},enumerable:!1,configurable:!0});return c}(Ua),pd=function(d,c){pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return pd(d,c)},Pb;(function(d){d[d.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";d[d.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Pb||
(Pb={}));var He={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pb.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,
leading:0},Di="serif sans-serif monospace cursive fantasy system-ui".split(" "),Ab=function(){function d(c){this.styleID=0;this.reset();rd(this,c,c)}d.prototype.clone=function(){var c={};rd(c,this,He);return new d(c)};d.prototype.reset=function(){rd(this,He,He)};Object.defineProperty(d.prototype,"align",{get:function(){return this._align},set:function(c){this._align!==c&&(this._align=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"breakWords",{get:function(){return this._breakWords},
set:function(c){this._breakWords!==c&&(this._breakWords=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(c){this._dropShadow!==c&&(this._dropShadow=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(c){this._dropShadowAlpha!==c&&(this._dropShadowAlpha=c,this.styleID++)},enumerable:!1,configurable:!0});
Object.defineProperty(d.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(c){this._dropShadowAngle!==c&&(this._dropShadowAngle=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(c){this._dropShadowBlur!==c&&(this._dropShadowBlur=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},
set:function(c){c=qd(c);this._dropShadowColor!==c&&(this._dropShadowColor=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(c){this._dropShadowDistance!==c&&(this._dropShadowDistance=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fill",{get:function(){return this._fill},set:function(c){c=qd(c);this._fill!==c&&(this._fill=c,this.styleID++)},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(c){this._fillGradientType!==c&&(this._fillGradientType=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(c){a:{var a=this._fillGradientStops;if(Array.isArray(a)&&Array.isArray(c)&&a.length===c.length){for(var b=0;b<a.length;++b)if(a[b]!==c[b]){a=!1;break a}a=
!0}else a=!1}a||(this._fillGradientStops=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(c){this.fontFamily!==c&&(this._fontFamily=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontSize",{get:function(){return this._fontSize},set:function(c){this._fontSize!==c&&(this._fontSize=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"fontStyle",{get:function(){return this._fontStyle},set:function(c){this._fontStyle!==c&&(this._fontStyle=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(c){this._fontVariant!==c&&(this._fontVariant=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(c){this._fontWeight!==c&&(this._fontWeight=c,
this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(c){this._letterSpacing!==c&&(this._letterSpacing=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(c){this._lineHeight!==c&&(this._lineHeight=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"leading",{get:function(){return this._leading},
set:function(c){this._leading!==c&&(this._leading=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(c){this._lineJoin!==c&&(this._lineJoin=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(c){this._miterLimit!==c&&(this._miterLimit=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"padding",{get:function(){return this._padding},set:function(c){this._padding!==c&&(this._padding=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"stroke",{get:function(){return this._stroke},set:function(c){c=qd(c);this._stroke!==c&&(this._stroke=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(c){this._strokeThickness!==c&&(this._strokeThickness=c,
this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(c){this._textBaseline!==c&&(this._textBaseline=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"trim",{get:function(){return this._trim},set:function(c){this._trim!==c&&(this._trim=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"whiteSpace",{get:function(){return this._whiteSpace},
set:function(c){this._whiteSpace!==c&&(this._whiteSpace=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(c){this._wordWrap!==c&&(this._wordWrap=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(c){this._wordWrapWidth!==c&&(this._wordWrapWidth=c,this.styleID++)},enumerable:!1,configurable:!0});
d.prototype.toFontString=function(){var c="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,a=this.fontFamily;Array.isArray(this.fontFamily)||(a=this.fontFamily.split(","));for(var b=a.length-1;0<=b;b--){var e=a[b].trim();!/(["'])[^'"]+\1/.test(e)&&0>Di.indexOf(e)&&(e='"'+e+'"');a[b]=e}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+c+" "+a.join(",")};return d}(),Oa=function(){function d(c,a,b,e,f,g,h,k,l){this.text=c;this.style=a;this.width=b;this.height=e;this.lines=
f;this.lineWidths=g;this.lineHeight=h;this.maxLineWidth=k;this.fontProperties=l}d.measureText=function(c,a,b,e){void 0===e&&(e=d._canvas);b=void 0===b||null===b?a.wordWrap:b;var f=a.toFontString(),g=d.measureFont(f);0===g.fontSize&&(g.fontSize=a.fontSize,g.ascent=a.fontSize);var h=e.getContext("2d");h.font=f;b=(b?d.wordWrap(c,a,e):c).split(/(?:\r\n|\r|\n)/);e=Array(b.length);for(var k=f=0;k<b.length;k++){var l=h.measureText(b[k]).width+(b[k].length-1)*a.letterSpacing;e[k]=l;f=Math.max(f,l)}h=f+a.strokeThickness;
a.dropShadow&&(h+=a.dropShadowDistance);k=a.lineHeight||g.fontSize+a.strokeThickness;l=Math.max(k,g.fontSize+a.strokeThickness)+(b.length-1)*(k+a.leading);a.dropShadow&&(l+=a.dropShadowDistance);return new d(c,a,h,l,b,e,k+a.leading,f,g)};d.wordWrap=function(c,a,b){void 0===b&&(b=d._canvas);b=b.getContext("2d");var e=0,f="",g="",h=Object.create(null),k=a.letterSpacing,l=a.whiteSpace,m=d.collapseSpaces(l);l=d.collapseNewlines(l);var n=!m,q=a.wordWrapWidth+k;c=d.tokenize(c);for(var y=0;y<c.length;y++){var E=
c[y];if(d.isNewline(E)){if(!l){g+=d.addLine(f);n=!m;f="";e=0;continue}E=" "}if(m){var N=d.isBreakingSpace(E),U=d.isBreakingSpace(f[f.length-1]);if(N&&U)continue}N=d.getFromCache(E,k,h,b);if(N>q)if(""!==f&&(g+=d.addLine(f),f="",e=0),d.canBreakWords(E,a.breakWords))for(N=d.wordWrapSplit(E),U=0;U<N.length;U++){for(var ka=N[U],fa=1;N[U+fa];){var ha=N[U+fa];if(d.canBreakChars(ka[ka.length-1],ha,E,U,a.breakWords))break;else ka+=ha;fa++}U+=ka.length-1;fa=d.getFromCache(ka,k,h,b);fa+e>q&&(g+=d.addLine(f),
n=!1,f="",e=0);f+=ka;e+=fa}else 0<f.length&&(g+=d.addLine(f)),g+=d.addLine(E,y!==c.length-1),n=!1,f="",e=0;else if(N+e>q&&(n=!1,g+=d.addLine(f),f="",e=0),0<f.length||!d.isBreakingSpace(E)||n)f+=E,e+=N}return g+=d.addLine(f,!1)};d.addLine=function(c,a){void 0===a&&(a=!0);c=d.trimRight(c);return a?c+"\n":c};d.getFromCache=function(c,a,b,e){var f=b[c];"number"!==typeof f&&(a*=c.length,f=e.measureText(c).width+a,b[c]=f);return f};d.collapseSpaces=function(c){return"normal"===c||"pre-line"===c};d.collapseNewlines=
function(c){return"normal"===c};d.trimRight=function(c){if("string"!==typeof c)return"";for(var a=c.length-1;0<=a&&d.isBreakingSpace(c[a]);a--)c=c.slice(0,-1);return c};d.isNewline=function(c){return"string"!==typeof c?!1:0<=d._newlines.indexOf(c.charCodeAt(0))};d.isBreakingSpace=function(c,a){return"string"!==typeof c?!1:0<=d._breakingSpaces.indexOf(c.charCodeAt(0))};d.tokenize=function(c){var a=[],b="";if("string"!==typeof c)return a;for(var e=0;e<c.length;e++){var f=c[e];d.isBreakingSpace(f,c[e+
1])||d.isNewline(f)?(""!==b&&(a.push(b),b=""),a.push(f)):b+=f}""!==b&&a.push(b);return a};d.canBreakWords=function(c,a){return a};d.canBreakChars=function(c,a,b,e,f){return!0};d.wordWrapSplit=function(c){return c.split("")};d.measureFont=function(c){if(d._fonts[c])return d._fonts[c];var a={ascent:0,descent:0,fontSize:0},b=d._canvas,e=d._context;e.font=c;var f=d.METRICS_STRING+d.BASELINE_SYMBOL,g=Math.ceil(e.measureText(f).width),h=Math.ceil(e.measureText(d.BASELINE_SYMBOL).width),k=d.HEIGHT_MULTIPLIER*
h;h=h*d.BASELINE_MULTIPLIER|0;b.width=g;b.height=k;e.fillStyle="#f00";e.fillRect(0,0,g,k);e.font=c;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(f,0,h);b=e.getImageData(0,0,g,k).data;e=b.length;g*=4;var l=0,m=!1;for(f=0;f<h;++f){for(var n=0;n<g;n+=4)if(255!==b[l+n]){m=!0;break}if(m)break;else l+=g}a.ascent=h-f;l=e-g;m=!1;for(f=k;f>h;--f){for(n=0;n<g;n+=4)if(255!==b[l+n]){m=!0;break}if(m)break;else l-=g}a.descent=f-h;a.fontSize=a.ascent+a.descent;return d._fonts[c]=a};d.clearMetrics=function(c){void 0===
c&&(c="");c?delete d._fonts[c]:d._fonts={}};return d}(),Yc=function(){try{var d=new OffscreenCanvas(0,0),c=d.getContext("2d");return c&&c.measureText?d:document.createElement("canvas")}catch(a){return document.createElement("canvas")}}();Yc.width=Yc.height=10;Oa._canvas=Yc;Oa._context=Yc.getContext("2d");Oa._fonts={};Oa.METRICS_STRING="|\u00c9q\u00c5";Oa.BASELINE_SYMBOL="M";Oa.BASELINE_MULTIPLIER=1.4;Oa.HEIGHT_MULTIPLIER=2;Oa._newlines=[10,13];Oa._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,
8198,8200,8201,8202,8287,12288];var Ei={texture:!0,children:!1,baseTexture:!0},td=function(d){function c(a,b,e){var f=!1;e||(e=document.createElement("canvas"),f=!0);e.width=3;e.height=3;var g=na.from(e);g.orig=new va;g.trim=new va;g=d.call(this,g)||this;g._ownCanvas=f;g.canvas=e;g.context=g.canvas.getContext("2d");g._resolution=ja.RESOLUTION;g._autoResolution=!0;g._text=null;g._style=null;g._styleListener=null;g._font="";g.text=a;g.style=b;g.localStyleID=-1;return g}vh(c,d);c.prototype.updateText=
function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(this.dirty||!a){this._font=this._style.toFontString();a=this.context;var e=Oa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),f=e.height,g=e.lines,h=e.lineHeight,k=e.lineWidths,l=e.maxLineWidth,m=e.fontProperties;this.canvas.width=Math.ceil((Math.max(1,e.width)+2*b.padding)*this._resolution);this.canvas.height=Math.ceil((Math.max(1,f)+2*b.padding)*this._resolution);
a.scale(this._resolution,this._resolution);a.clearRect(0,0,this.canvas.width,this.canvas.height);a.font=this._font;a.lineWidth=b.strokeThickness;a.textBaseline=b.textBaseline;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;for(var n,q,y=b.dropShadow?2:1,E=0;E<y;++E){var N=(q=b.dropShadow&&0===E)?Math.ceil(Math.max(1,f)+2*b.padding):0;n=N*this._resolution;q?(a.fillStyle="black",a.strokeStyle="black",q=b.dropShadowColor,q=ca("number"===typeof q?q:ea(q)),a.shadowColor="rgba("+255*q[0]+","+255*q[1]+","+
255*q[2]+","+b.dropShadowAlpha+")",a.shadowBlur=b.dropShadowBlur,a.shadowOffsetX=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,a.shadowOffsetY=Math.sin(b.dropShadowAngle)*b.dropShadowDistance+n):(a.fillStyle=this._generateFillStyle(b,g,e),a.strokeStyle=b.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);for(var U=0;U<g.length;U++)n=b.strokeThickness/2,q=b.strokeThickness/2+U*h+m.ascent,"right"===b.align?n+=l-k[U]:"center"===b.align&&(n+=(l-k[U])/2),b.stroke&&b.strokeThickness&&
this.drawLetterSpacing(g[U],n+b.padding,q+b.padding-N,!0),b.fill&&this.drawLetterSpacing(g[U],n+b.padding,q+b.padding-N)}this.updateTexture()}};c.prototype.drawLetterSpacing=function(a,b,e,f){void 0===f&&(f=!1);var g=this._style.letterSpacing;if(0===g)f?this.context.strokeText(a,b,e):this.context.fillText(a,b,e);else for(var h=Array.from?Array.from(a):a.split(""),k=this.context.measureText(a).width,l,m=0;m<h.length;++m)l=h[m],f?this.context.strokeText(l,b,e):this.context.fillText(l,b,e),l=this.context.measureText(a.substring(m+
1)).width,b+=k-l+g,k=l};c.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=oa(a);b.data&&(a.width=b.width,a.height=b.height,this.context.putImageData(b.data,0,0))}b=this._texture;var e=this._style;e=e.trim?0:e.padding;var f=b.baseTexture;b.trim.width=b._frame.width=Math.ceil(a.width/this._resolution);b.trim.height=b._frame.height=Math.ceil(a.height/this._resolution);b.trim.x=-e;b.trim.y=-e;b.orig.width=b._frame.width-2*e;b.orig.height=b._frame.height-2*e;this._onTextureUpdate();
f.setRealSize(a.width,a.height,this._resolution);this._recursivePostUpdateTransform();this.dirty=!1};c.prototype._render=function(a){this._autoResolution&&this._resolution!==a.resolution&&(this._resolution=a.resolution,this.dirty=!0);this.updateText(!0);d.prototype._render.call(this,a)};c.prototype.getLocalBounds=function(a){this.updateText(!0);return d.prototype.getLocalBounds.call(this,a)};c.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};
c.prototype._generateFillStyle=function(a,b,e){var f=a.fill;if(!Array.isArray(f))return f;if(1===f.length)return f[0];var g=a.dropShadow?a.dropShadowDistance:0,h=a.padding||0,k=Math.ceil(this.canvas.width/this._resolution)-g-2*h,l=Math.ceil(this.canvas.height/this._resolution)-g-2*h;g=f.slice();var m=a.fillGradientStops.slice();if(!m.length)for(var n=g.length+1,q=1;q<n;++q)m.push(q/n);g.unshift(f[0]);m.unshift(0);g.push(f[f.length-1]);m.push(1);if(a.fillGradientType===Pb.LINEAR_VERTICAL)for(f=this.context.createLinearGradient(k/
2,h,k/2,l+h),a=(e.fontProperties.fontSize+a.strokeThickness)/l,q=0;q<b.length;q++)for(h=e.lineHeight*q,k=0;k<g.length;k++)n=Math.min(1,Math.max(0,h/l+("number"===typeof m[k]?m[k]:k/g.length)*a)),n=Number(n.toFixed(5)),f.addColorStop(n,g[k]);else for(f=this.context.createLinearGradient(h,l/2,k+h,l/2),b=g.length+1,e=1,q=0;q<g.length;q++)f.addColorStop("number"===typeof m[q]?m[q]:e/b,g[q]),e++;return f};c.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},Ei,a);d.prototype.destroy.call(this,
a);this._ownCanvas&&(this.canvas.height=this.canvas.width=0);this._style=this.canvas=this.context=null};Object.defineProperty(c.prototype,"width",{get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=ma(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},
set:function(a){this.updateText(!0);var b=ma(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"style",{get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof Ab?a:new Ab(a);this.localStyleID=-1;this.dirty=!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(a){a=String(null===a||void 0===a?"":a);this._text!==
a&&(this._text=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._autoResolution=!1;this._resolution!==a&&(this._resolution=a,this.dirty=!0)},enumerable:!1,configurable:!0});return c}(Wb);ja.UPLOADS_PER_FRAME=4;var sd=function(d,c){sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return sd(d,
c)},Bf=function(){function d(c){this.maxItemsPerFrame=c;this.itemsLeft=0}d.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};d.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return d}(),tf=function(){function d(c){var a=this;this.limiter=new Bf(ja.UPLOADS_PER_FRAME);this.renderer=c;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){a.queue&&a.prepareItems()};this.registerFindHook(Ch);
this.registerFindHook(Dh);this.registerFindHook(xh);this.registerFindHook(yh);this.registerFindHook(zh);this.registerUploadHook(Ah);this.registerUploadHook(Bh)}d.prototype.upload=function(c,a){"function"===typeof c&&(a=c,c=null);c&&this.add(c);this.queue.length?(a&&this.completes.push(a),this.ticking||(this.ticking=!0,Ia.system.addOnce(this.tick,this,cb.UTILITY))):a&&a()};d.prototype.tick=function(){setTimeout(this.delayedTick,0)};d.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&
this.limiter.allowedToUpload();){var c=this.queue[0],a=!1;if(c&&!c._destroyed)for(var b=0,e=this.uploadHooks.length;b<e;b++)if(this.uploadHooks[b](this.uploadHookHelper,c)){this.queue.shift();a=!0;break}a||this.queue.shift()}if(this.queue.length)Ia.system.addOnce(this.tick,this,cb.UTILITY);else for(this.ticking=!1,c=this.completes.slice(0),b=this.completes.length=0,e=c.length;b<e;b++)c[b]()};d.prototype.registerFindHook=function(c){c&&this.addHooks.push(c);return this};d.prototype.registerUploadHook=
function(c){c&&this.uploadHooks.push(c);return this};d.prototype.add=function(c){for(var a=0,b=this.addHooks.length;a<b&&!this.addHooks[a](c,this.queue);a++);if(c instanceof Ua)for(a=c.children.length-1;0<=a;a--)this.add(c.children[a]);return this};d.prototype.destroy=function(){this.ticking&&Ia.system.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return d}(),Tf=function(d){function c(a){a=d.call(this,
a)||this;a.uploadHookHelper=a.renderer;a.registerFindHook(Fh);a.registerUploadHook(kf);a.registerUploadHook(Eh);return a}wh(c,d);return c}(tf),Vh=function(){function d(c){this.maxMilliseconds=c;this.frameStart=0}d.prototype.beginFrame=function(){this.frameStart=Date.now()};d.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return d}(),ag=function(){function d(c,a,b){void 0===b&&(b=null);this._texture=c instanceof na?c:null;this.baseTexture=c instanceof xa?
c:this._texture.baseTexture;this.textures={};this.animations={};this.data=a;c=this.baseTexture.resource;this.resolution=this._updateResolution(b||(c?c.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}d.prototype._updateResolution=function(c){void 0===c&&(c=null);var a=this.data.meta.scale;c=ac(c,null);null===c&&(c=void 0!==a?parseFloat(a):1);1!==c&&this.baseTexture.setResolution(c);return c};d.prototype.parse=function(c){this._batchIndex=
0;this._callback=c;this._frameKeys.length<=d.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()};d.prototype._processFrames=function(c){for(var a=c,b=d.BATCH_SIZE;a-c<b&&a<this._frameKeys.length;){var e=this._frameKeys[a],f=this._frames[e],g=f.frame;if(g){var h=null;var k=!1!==f.trimmed&&f.sourceSize?f.sourceSize:f.frame;var l=new va(0,0,Math.floor(k.w)/this.resolution,Math.floor(k.h)/this.resolution);k=f.rotated?new va(Math.floor(g.x)/this.resolution,
Math.floor(g.y)/this.resolution,Math.floor(g.h)/this.resolution,Math.floor(g.w)/this.resolution):new va(Math.floor(g.x)/this.resolution,Math.floor(g.y)/this.resolution,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);!1!==f.trimmed&&f.spriteSourceSize&&(h=new va(Math.floor(f.spriteSourceSize.x)/this.resolution,Math.floor(f.spriteSourceSize.y)/this.resolution,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution));this.textures[e]=new na(this.baseTexture,k,l,h,f.rotated?2:
0,f.anchor);na.addToCache(this.textures[e],e)}a++}};d.prototype._processAnimations=function(){var c=this.data.animations||{},a;for(a in c){this.animations[a]=[];for(var b=0;b<c[a].length;b++)this.animations[a].push(this.textures[c[a][b]])}};d.prototype._parseComplete=function(){var c=this._callback;this._callback=null;this._batchIndex=0;c.call(this,this.textures)};d.prototype._nextBatch=function(){var c=this;this._processFrames(this._batchIndex*d.BATCH_SIZE);this._batchIndex++;setTimeout(function(){c._batchIndex*
d.BATCH_SIZE<c._frameKeys.length?c._nextBatch():(c._processAnimations(),c._parseComplete())},0)};d.prototype.destroy=function(c){var a;void 0===c&&(c=!1);for(var b in this.textures)this.textures[b].destroy();this.textures=this.data=this._frameKeys=this._frames=null;c&&(null===(a=this._texture)||void 0===a?void 0:a.destroy(),this.baseTexture.destroy());this.baseTexture=this._texture=null};d.BATCH_SIZE=1E3;return d}(),bg=function(){function d(){}d.use=function(c,a){var b,e,f=this,g=c.name+"_image";
if(c.data&&c.type===Ra.TYPE.JSON&&c.data.frames&&!f.resources[g]){var h=null===(e=null===(b=c.data)||void 0===b?void 0:b.meta)||void 0===e?void 0:e.related_multi_packs;if(Array.isArray(h))for(b=function(k){if("string"!==typeof k)return"continue";var l=k.replace(".json",""),m=Mb.resolve(c.url.replace(f.baseUrl,""),k);if(f.resources[l]||Object.values(f.resources).some(function(n){return Mb.format(Mb.parse(n.url))===m}))return"continue";f.add(l,m,{crossOrigin:c.crossOrigin,loadType:Ra.LOAD_TYPE.XHR,
xhrType:Ra.XHR_RESPONSE_TYPE.JSON,parentResource:c})},e=0;e<h.length;e++)b(h[e]);h={crossOrigin:c.crossOrigin,metadata:c.metadata.imageMetadata,parentResource:c};b=d.getResourcePath(c,f.baseUrl);f.add(g,b,h,function(k){if(k.error)a(k.error);else{var l=new ag(k.texture,c.data,c.url);l.parse(function(){c.spritesheet=l;c.textures=l.textures;a()})}})}else a()};d.getResourcePath=function(c,a){return c.isDataUrl?c.data.meta.image:Mb.resolve(c.url.replace(a,""),c.data.meta.image)};return d}(),vd=function(d,
c){vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return vd(d,c)},tc=new Da,Uh=function(d){function c(a,b,e){void 0===b&&(b=100);void 0===e&&(e=100);var f=d.call(this,a)||this;f.tileTransform=new je;f._width=b;f._height=e;f.uvMatrix=f.texture.uvMatrix||new Lc(a);f.pluginName="tilingSprite";f.uvRespectAnchor=!1;return f}lf(c,d);Object.defineProperty(c.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},
set:function(a){this.uvMatrix.clampMargin=a;this.uvMatrix.update(!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copyFrom(a)},enumerable:!1,configurable:!0});c.prototype._onTextureUpdate=
function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture);this._cachedTint=16777215};c.prototype._render=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};c.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-
this._anchor._y))};c.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new va),a=this._localBoundsRect),this._bounds.getRectangle(a)):d.prototype.getLocalBounds.call(this,a)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,
tc);var b=this._width;a=this._height;var e=-b*this.anchor._x;return tc.x>=e&&tc.x<e+b&&(b=-a*this.anchor._y,tc.y>=b&&tc.y<b+a)?!0:!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,a);this.uvMatrix=this.tileTransform=null};c.from=function(a,b){return new c(na.from(a,b),b.width,b.height)};Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._height},
set:function(a){this._height=a},enumerable:!1,configurable:!0});return c}(Wb),Zc=new Fa,fg=function(d){function c(a){a=d.call(this,a)||this;var b={globals:a.renderer.globalUniforms};a.shader=qb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",b);a.simpleShader=qb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",b);a.quad=new Yd;a.state=rb.for2d();return a}lf(c,d);c.prototype.render=function(a){var b=this.renderer,e=this.quad,f=e.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);var g=a.uvRespectAnchor?a.anchor.x:0,h=
a.uvRespectAnchor?a.anchor.y:0;f=e.uvs;f[0]=f[6]=-g;f[1]=f[3]=-h;f[2]=f[4]=1-g;f[5]=f[7]=1-h;e.invalidate();f=a._texture;g=f.baseTexture;h=a.tileTransform.localTransform;var k=a.uvMatrix,l=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;l&&(g._glTextures[b.CONTEXT_UID]?l=g.wrapMode!==jb.CLAMP:g.wrapMode===jb.CLAMP&&(g.wrapMode=jb.REPEAT));var m=l?this.simpleShader:this.shader,n=f.width,q=f.height,y=a._width,E=a._height;Zc.set(h.a*n/y,h.b*n/E,h.c*q/y,h.d*q/E,h.tx/y,h.ty/E);Zc.invert();
l?Zc.prepend(k.mapCoord):(m.uniforms.uMapCoord=k.mapCoord.toArray(!0),m.uniforms.uClampFrame=k.uClampFrame,m.uniforms.uClampOffset=k.uClampOffset);m.uniforms.uTransform=Zc.toArray(!0);m.uniforms.uColor=F(a.tint,a.worldAlpha,m.uniforms.uColor,g.alphaMode);m.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);m.uniforms.uSampler=f;b.shader.bind(m);b.geometry.bind(e);this.state.blendMode=D(a.blendMode,g.alphaMode);b.state.set(this.state);b.geometry.draw(this.renderer.gl.TRIANGLES,6,0)};
return c}(kc),xd=function(d,c){xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return xd(d,c)},Qf=function(){function d(c,a){this.uvBuffer=c;this.uvMatrix=a;this.data=null;this._textureUpdateId=this._bufferUpdateId=-1;this._updateID=0}d.prototype.update=function(c){if(c||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID)this._bufferUpdateId=this.uvBuffer._updateID,
this._textureUpdateId=this.uvMatrix._updateID,c=this.uvBuffer.data,this.data&&this.data.length===c.length||(this.data=new Float32Array(c.length)),this.uvMatrix.multiplyUvs(c,this.data),this._updateID++};return d}(),Ie=new Da,Qg=new mc,Ub=function(d){function c(a,b,e,f){void 0===f&&(f=Qa.TRIANGLES);var g=d.call(this)||this;g.geometry=a;a.refCount++;g.shader=b;g.state=e||rb.for2d();g.drawMode=f;g.start=0;g.size=0;g.uvs=null;g.indices=null;g.vertexData=new Float32Array(1);g.vertexDirty=0;g._transformID=
-1;g._roundPixels=ja.ROUND_PIXELS;g.batchUvs=null;return g}wd(c,d);Object.defineProperty(c.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"material",{get:function(){return this.shader},set:function(a){this.shader=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1);this._roundPixels=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(a){this.shader.tint=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(a){this.shader.texture=a},enumerable:!1,configurable:!0});c.prototype._render=function(a){var b=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Qa.TRIANGLES&&b.length<2*c.BATCHABLE_SIZE?this._renderToBatch(a):this._renderDefault(a)};c.prototype._renderDefault=function(a){var b=this.shader;b.alpha=this.worldAlpha;b.update&&b.update();a.batch.flush();
b.program.uniformData.translationMatrix&&(b.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0));a.shader.bind(b);a.state.set(this.state);a.geometry.bind(this.geometry,b);a.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)};c.prototype._renderToBatch=function(a){var b=this.geometry,e=this.shader;e.uvMatrix&&(e.uvMatrix.update(),this.calculateUvs());this.calculateVertices();this.indices=b.indexBuffer.data;this._tintRGB=e._tintRGB;this._texture=e.texture;
b=this.material.pluginName;a.batch.setObjectRenderer(a.plugins[b]);a.plugins[b].render(this)};c.prototype.calculateVertices=function(){var a=this.geometry,b=a.buffers[0].data;if(a.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;this.vertexData.length!==b.length&&(this.vertexData=new Float32Array(b.length));var e=this.transform.worldTransform,f=e.a,g=e.b,h=e.c,k=e.d,l=e.tx,m=e.ty;e=this.vertexData;for(var n=0;n<e.length/2;n++){var q=
b[2*n],y=b[2*n+1];e[2*n]=f*q+h*y+l;e[2*n+1]=g*q+k*y+m}if(this._roundPixels)for(b=ja.RESOLUTION,n=0;n<e.length;++n)e[n]=Math.round((e[n]*b|0)/b);this.vertexDirty=a.vertexDirtyId}};c.prototype.calculateUvs=function(){var a=this.geometry.buffers[1],b=this.shader;b.uvMatrix.isSimple?this.uvs=a.data:(this.batchUvs||(this.batchUvs=new Qf(a,b.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)};c.prototype._calculateBounds=function(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,
0,this.vertexData.length)};c.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,Ie);a=this.geometry.getBuffer("aVertexPosition").data;for(var b=Qg.points,e=this.geometry.getIndex().data,f=e.length,g=4===this.drawMode?3:1,h=0;h+2<f;h+=g){var k=2*e[h],l=2*e[h+1],m=2*e[h+2];b[0]=a[k];b[1]=a[k+1];b[2]=a[l];b[3]=a[l+1];b[4]=a[m];b[5]=a[m+1];if(Qg.contains(Ie.x,Ie.y))return!0}return!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,
a);this.geometry.refCount--;0===this.geometry.refCount&&this.geometry.dispose();this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null);this.vertexData=this.indices=this.uvs=this.state=this.shader=this.geometry=null};c.BATCHABLE_SIZE=100;return c}(Ua),jc=function(d){function c(a,b){var e={uSampler:a,alpha:1,uTextureMatrix:Fa.IDENTITY,uColor:new Float32Array([1,1,1,1])};b=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},b);b.uniforms&&Object.assign(e,b.uniforms);e=d.call(this,
b.program||nc.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),
e)||this;e._colorDirty=!1;e.uvMatrix=new Lc(a);e.batchable=void 0===b.program;e.pluginName=b.pluginName;e.tint=b.tint;e.alpha=b.alpha;return e}wd(c,d);Object.defineProperty(c.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(a){this.uniforms.uSampler!==a&&(this.uniforms.uSampler=a,this.uvMatrix.texture=a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"alpha",{get:function(){return this._alpha},set:function(a){a!==this._alpha&&(this._alpha=a,this._colorDirty=
!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){a!==this._tint&&(this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0});c.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,F(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode));this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)};return c}(qb),
ic=function(d){function c(a,b,e){var f=d.call(this)||this;a=new Ha(a);b=new Ha(b,!0);e=new Ha(e,!0,!0);f.addAttribute("aVertexPosition",a,2,!1,za.FLOAT).addAttribute("aTextureCoord",b,2,!1,za.FLOAT).addIndex(e);f._updateId=-1;return f}wd(c,d);Object.defineProperty(c.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0});return c}(Tb),yd=function(d,c){yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return yd(d,c)},fc=function(){return function(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=[]}}(),Fi=function(){function d(){}d.test=function(c){return"string"===typeof c&&0===c.indexOf("info face=")};d.parse=function(c){c=c.match(/^[a-z]+\s+.+$/gm);var a={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]},b;for(b in c){var e=c[b].match(/^[a-z]+/gm)[0],f=c[b].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),g={},
h;for(h in f){var k=f[h].split("="),l=k[0];k=k[1].replace(/"/gm,"");var m=parseFloat(k);k=isNaN(m)?k:m;g[l]=k}a[e].push(g)}var n=new fc;a.info.forEach(function(q){return n.info.push({face:q.face,size:parseInt(q.size,10)})});a.common.forEach(function(q){return n.common.push({lineHeight:parseInt(q.lineHeight,10)})});a.page.forEach(function(q){return n.page.push({id:parseInt(q.id,10),file:q.file})});a.char.forEach(function(q){return n.char.push({id:parseInt(q.id,10),page:parseInt(q.page,10),x:parseInt(q.x,
10),y:parseInt(q.y,10),width:parseInt(q.width,10),height:parseInt(q.height,10),xoffset:parseInt(q.xoffset,10),yoffset:parseInt(q.yoffset,10),xadvance:parseInt(q.xadvance,10)})});a.kerning.forEach(function(q){return n.kerning.push({first:parseInt(q.first,10),second:parseInt(q.second,10),amount:parseInt(q.amount,10)})});return n};return d}(),Je=function(){function d(){}d.test=function(c){return c instanceof XMLDocument&&c.getElementsByTagName("page").length&&null!==c.getElementsByTagName("info")[0].getAttribute("face")};
d.parse=function(c){var a=new fc,b=c.getElementsByTagName("info"),e=c.getElementsByTagName("common"),f=c.getElementsByTagName("page"),g=c.getElementsByTagName("char");c=c.getElementsByTagName("kerning");for(var h=0;h<b.length;h++)a.info.push({face:b[h].getAttribute("face"),size:parseInt(b[h].getAttribute("size"),10)});for(h=0;h<e.length;h++)a.common.push({lineHeight:parseInt(e[h].getAttribute("lineHeight"),10)});for(h=0;h<f.length;h++)a.page.push({id:parseInt(f[h].getAttribute("id"),10)||0,file:f[h].getAttribute("file")});
for(h=0;h<g.length;h++)b=g[h],a.char.push({id:parseInt(b.getAttribute("id"),10),page:parseInt(b.getAttribute("page"),10)||0,x:parseInt(b.getAttribute("x"),10),y:parseInt(b.getAttribute("y"),10),width:parseInt(b.getAttribute("width"),10),height:parseInt(b.getAttribute("height"),10),xoffset:parseInt(b.getAttribute("xoffset"),10),yoffset:parseInt(b.getAttribute("yoffset"),10),xadvance:parseInt(b.getAttribute("xadvance"),10)});for(h=0;h<c.length;h++)a.kerning.push({first:parseInt(c[h].getAttribute("first"),
10),second:parseInt(c[h].getAttribute("second"),10),amount:parseInt(c[h].getAttribute("amount"),10)});return a};return d}(),Gi=function(){function d(){}d.test=function(c){return"string"===typeof c&&-1<c.indexOf("<font>")?(c=(new self.DOMParser).parseFromString(c,"text/xml"),Je.test(c)):!1};d.parse=function(c){c=(new self.DOMParser).parseFromString(c,"text/xml");return Je.parse(c)};return d}(),zd=[Fi,Je,Gi],Rb=function(){function d(c,a,b){var e=c.info[0],f=c.common[0],g=ac(c.page[0].file),h={};this._ownsTextures=
b;this.font=e.face;this.size=e.size;this.lineHeight=f.lineHeight/g;this.chars={};this.pageTextures=h;for(b=0;b<c.page.length;b++)f=c.page[b],e=f.id,f=f.file,h[e]=a instanceof Array?a[b]:a[f];for(b=0;b<c.char.length;b++){a=c.char[b];e=a.id;a=a.page;var k=c.char[b],l=k.x,m=k.y,n=k.width,q=k.height;f=k.xoffset;var y=k.yoffset;k=k.xadvance;l/=g;m/=g;n/=g;q/=g;f/=g;y/=g;k/=g;l=new va(l+h[a].frame.x/g,m+h[a].frame.y/g,n,q);this.chars[e]={xOffset:f,yOffset:y,xAdvance:k,kerning:{},texture:new na(h[a].baseTexture,
l),page:a}}for(b=0;b<c.kerning.length;b++)a=c.kerning[b],h=a.first,e=a.second,a=a.amount,h/=g,e/=g,a/=g,this.chars[e]&&(this.chars[e].kerning[h]=a)}d.prototype.destroy=function(){for(var c in this.chars)this.chars[c].texture.destroy(),this.chars[c].texture=null;for(c in this.pageTextures)this._ownsTextures&&this.pageTextures[c].destroy(!0),this.pageTextures[c]=null;this.pageTextures=this.chars=null};d.install=function(c,a,b){if(!(c instanceof fc)){var e=mf(c);if(!e)throw Error("Unrecognized data format for font.");
c=e.parse(c)}a instanceof na&&(a=[a]);a=new d(c,a,b);return d.available[a.font]=a};d.uninstall=function(c){var a=d.available[c];if(!a)throw Error("No font found named '"+c+"'");a.destroy();delete d.available[c]};d.from=function(c,a,b){if(!c)throw Error("[BitmapFont] Property `name` is required.");b=Object.assign({},d.defaultOptions,b);var e=b.padding,f=b.resolution,g=b.textureWidth,h=b.textureHeight,k=b.chars;"string"===typeof k&&(k=[k]);b=[];for(var l=0,m=k.length;l<m;l++){var n=k[l];if(Array.isArray(n)){if(2!==
n.length)throw Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var q=n[0].charCodeAt(0);n=n[1].charCodeAt(0);if(n<q)throw Error("[BitmapFont]: Invalid character range.");for(;q<=n;q++)b.push(String.fromCharCode(q))}else b.push.apply(b,n.split(""))}if(0===b.length)throw Error("[BitmapFont]: Empty set when resolving characters.");m=a instanceof Ab?a:new Ab(a);a=new fc;a.info[0]={face:m.fontFamily,size:m.fontSize};a.common[0]={lineHeight:m.fontSize};n=q=0;var y=0;
k=[];for(l=0;l<b.length;l++){if(!E){var E=document.createElement("canvas");E.width=g;E.height=h;var N=E.getContext("2d");var U=new xa(E,{resolution:f});k.push(new na(U));a.page.push({id:k.length-1,file:""})}var ka=Oa.measureText(b[l],m,!1,E);U=ka.width;var fa=Math.ceil(ka.height),ha=Math.ceil(("italic"===m.fontStyle?2:1)*U);if(n>=h-fa*f){if(0===n)throw Error("[BitmapFont] textureHeight "+h+"px is too small for "+(m.fontSize+"px fonts"));--l;N=E=null;y=q=n=0}else if(y=Math.max(fa+ka.fontProperties.descent,
y),ha*f+q>=g)--l,n+=y*f,n=Math.ceil(n),y=q=0;else{var ua=E,Z=N,wa=ka,T=f,pa=m,fb=wa.text,yb=wa.fontProperties;Z.translate(q,n);Z.scale(T,T);var zb=pa.strokeThickness/2,Ga=-(pa.strokeThickness/2);Z.font=pa.toFontString();Z.lineWidth=pa.strokeThickness;Z.textBaseline=pa.textBaseline;Z.lineJoin=pa.lineJoin;Z.miterLimit=pa.miterLimit;Z.fillStyle=nf(ua,Z,pa,T,[fb],wa);Z.strokeStyle=pa.stroke;Z.font=pa.toFontString();Z.lineWidth=pa.strokeThickness;Z.textBaseline=pa.textBaseline;Z.lineJoin=pa.lineJoin;Z.miterLimit=
pa.miterLimit;Z.fillStyle=nf(ua,Z,pa,T,[fb],wa);Z.strokeStyle=pa.stroke;ua=pa.dropShadowColor;ua=ca("number"===typeof ua?ua:ea(ua));pa.dropShadow?(Z.shadowColor="rgba("+255*ua[0]+","+255*ua[1]+","+255*ua[2]+","+pa.dropShadowAlpha+")",Z.shadowBlur=pa.dropShadowBlur,Z.shadowOffsetX=Math.cos(pa.dropShadowAngle)*pa.dropShadowDistance,Z.shadowOffsetY=Math.sin(pa.dropShadowAngle)*pa.dropShadowDistance):(Z.shadowColor="black",Z.shadowBlur=0,Z.shadowOffsetX=0,Z.shadowOffsetY=0);pa.stroke&&pa.strokeThickness&&
Z.strokeText(fb,zb,Ga+wa.lineHeight-yb.descent);pa.fill&&Z.fillText(fb,zb,Ga+wa.lineHeight-yb.descent);Z.setTransform(1,0,0,1,0,0);Z.fillStyle="rgba(0, 0, 0, 0)";ka=ka.text.charCodeAt(0);a.char.push({id:ka,page:k.length-1,x:q/f,y:n/f,width:ha,height:fa,xoffset:0,yoffset:0,xadvance:Math.ceil(U-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0))});q+=(ha+2*e)*f;q=Math.ceil(q)}}l=0;for(E=b.length;l<E;l++)for(e=b[l],f=0;f<E;f++)g=b[f],h=N.measureText(e).width,m=N.measureText(g).width,
(h=N.measureText(e+g).width-(h+m))&&a.kerning.push({first:e.charCodeAt(0),second:g.charCodeAt(0),amount:h});N=new d(a,k,!0);void 0!==d.available[c]&&d.uninstall(c);return d.available[c]=N};d.ALPHA=[["a","z"],["A","Z"]," "];d.NUMERIC=[["0","9"]];d.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];d.ASCII=[[" ","~"]];d.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:d.ALPHANUMERIC};d.available={};return d}(),Rg=[],Sg=[],Oh=function(d){function c(a,b){void 0===b&&(b={});
var e=d.call(this)||this;e._tint=16777215;var f=Object.assign({},c.styleDefaults,b);b=f.align;var g=f.tint,h=f.maxWidth,k=f.letterSpacing,l=f.fontName;f=f.fontSize;if(!Rb.available[l])throw Error('Missing BitmapFont "'+l+'"');e._activePagesMeshData=[];e._textWidth=0;e._textHeight=0;e._align=b;e._tint=g;e._fontName=l;e._fontSize=f||Rb.available[l].size;e._text=a;e._maxWidth=h;e._maxLineHeight=0;e._letterSpacing=k;e._anchor=new Cb(function(){e.dirty=!0},e,0,0);e._roundPixels=ja.ROUND_PIXELS;e.dirty=
!0;e._textureCache={};return e}Gh(c,d);c.prototype.updateText=function(){for(var a,b=Rb.available[this._fontName],e=this._fontSize/b.size,f=new Da,g=[],h=[],k=[],l=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",m=l.length,n=this._maxWidth*b.size/this._fontSize,q=null,y=0,E=0,N=0,U=-1,ka=0,fa=0,ha=0,ua=0,Z=0;Z<m;Z++){var wa=l.charCodeAt(Z),T=l.charAt(Z);/(?:\s)/.test(T)&&(U=Z,ka=y,ua++);if("\r"===T||"\n"===T)h.push(y),k.push(-1),E=Math.max(E,y),++N,++fa,f.x=0,f.y+=b.lineHeight,q=null,ua=0;else if(T=
b.chars[wa])q&&T.kerning[q]&&(f.x+=T.kerning[q]),y=Sg.pop()||{texture:na.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Da},y.texture=T.texture,y.line=N,y.charCode=wa,y.position.x=f.x+T.xOffset+this._letterSpacing/2,y.position.y=f.y+T.yOffset,y.prevSpaces=ua,g.push(y),f.x+=T.xAdvance+this._letterSpacing,y=f.x,ha=Math.max(ha,T.yOffset+T.texture.height),q=wa,-1!==U&&0<n&&f.x>n&&(++fa,qa(g,1+U-fa,1+Z-U),Z=U,U=-1,h.push(ka),k.push(0<g.length?g[g.length-1].prevSpaces:0),E=Math.max(E,ka),N++,f.x=0,f.y+=
b.lineHeight,q=null,ua=0)}Z=l.charAt(l.length-1);"\r"!==Z&&"\n"!==Z&&(/(?:\s)/.test(Z)&&(y=ka),h.push(y),E=Math.max(E,y),k.push(-1));ka=[];for(Z=0;Z<=N;Z++)T=0,"right"===this._align?T=E-h[Z]:"center"===this._align?T=(E-h[Z])/2:"justify"===this._align&&(T=0>k[Z]?0:(E-h[Z])/k[Z]),ka.push(T);k=g.length;h={};l=[];m=this._activePagesMeshData;for(Z=0;Z<m.length;Z++)Rg.push(m[Z]);for(Z=0;Z<k;Z++)N=g[Z].texture,n=N.baseTexture.uid,h[n]||(T=Rg.pop(),T||(T=new ic,y=new jc(na.EMPTY),T={index:0,indexCount:0,
vertexCount:0,uvsCount:0,total:0,mesh:new Ub(T,y),vertices:null,uvs:null,indices:null}),T.index=0,T.indexCount=0,T.vertexCount=0,T.uvsCount=0,T.total=0,y=this._textureCache,y[n]=y[n]||new na(N.baseTexture),T.mesh.texture=y[n],T.mesh.tint=this._tint,l.push(T),h[n]=T),h[n].total++;for(Z=0;Z<m.length;Z++)-1===l.indexOf(m[Z])&&this.removeChild(m[Z].mesh);for(Z=0;Z<l.length;Z++)l[Z].mesh.parent!==this&&this.addChild(l[Z].mesh);this._activePagesMeshData=l;for(Z in h){T=h[Z];N=T.total;if(!((null===(a=T.indices)||
void 0===a?void 0:a.length)>6*N)||T.vertices.length<2*Ub.BATCHABLE_SIZE)T.vertices=new Float32Array(8*N),T.uvs=new Float32Array(8*N),T.indices=new Uint16Array(6*N);else for(l=T.vertices,m=8*T.total;m<l.length;m++)l[m]=0;T.mesh.size=6*N}for(Z=0;Z<k;Z++)T=g[Z],a=T.position.x+ka[T.line]*("justify"===this._align?T.prevSpaces:1),this._roundPixels&&(a=Math.round(a)),a*=e,l=T.position.y*e,N=T.texture,T=h[N.baseTexture.uid],m=N.frame,N=N._uvs,n=T.index++,T.indices[6*n]=4*n,T.indices[6*n+1]=1+4*n,T.indices[6*
n+2]=2+4*n,T.indices[6*n+3]=4*n,T.indices[6*n+4]=2+4*n,T.indices[6*n+5]=3+4*n,T.vertices[8*n]=a,T.vertices[8*n+1]=l,T.vertices[8*n+2]=a+m.width*e,T.vertices[8*n+3]=l,T.vertices[8*n+4]=a+m.width*e,T.vertices[8*n+5]=l+m.height*e,T.vertices[8*n+6]=a,T.vertices[8*n+7]=l+m.height*e,T.uvs[8*n]=N.x0,T.uvs[8*n+1]=N.y0,T.uvs[8*n+2]=N.x1,T.uvs[8*n+3]=N.y1,T.uvs[8*n+4]=N.x2,T.uvs[8*n+5]=N.y2,T.uvs[8*n+6]=N.x3,T.uvs[8*n+7]=N.y3;this._textWidth=E*e;this._textHeight=(f.y+b.lineHeight)*e;for(Z in h){T=h[Z];if(0!==
this.anchor.x||0!==this.anchor.y)for(b=0,f=this._textWidth*this.anchor.x,E=this._textHeight*this.anchor.y,a=0;a<T.total;a++)T.vertices[b++]-=f,T.vertices[b++]-=E,T.vertices[b++]-=f,T.vertices[b++]-=E,T.vertices[b++]-=f,T.vertices[b++]-=E,T.vertices[b++]-=f,T.vertices[b++]-=E;this._maxLineHeight=ha*e;b=T.mesh.geometry.getBuffer("aVertexPosition");f=T.mesh.geometry.getBuffer("aTextureCoord");E=T.mesh.geometry.getIndex();b.data=T.vertices;f.data=T.uvs;E.data=T.indices;b.update();f.update();E.update()}for(Z=
0;Z<g.length;Z++)Sg.push(g[Z])};c.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};c.prototype.getLocalBounds=function(){this.validate();return d.prototype.getLocalBounds.call(this)};c.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){if(this._tint!==a){this._tint=a;for(var b=0;b<this._activePagesMeshData.length;b++)this._activePagesMeshData[b].mesh.tint=
a}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"align",{get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fontName",{get:function(){return this._fontName},set:function(a){if(!Rb.available[a])throw Error('Missing BitmapFont "'+a+'"');this._fontName!==a&&(this._fontName=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fontSize",
{get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"anchor",{get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(a){a=String(null===a||void 0===a?"":a);this._text!==a&&(this._text=a,this.dirty=
!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"maxLineHeight",{get:function(){this.validate();return this._maxLineHeight},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textWidth",{get:function(){this.validate();return this._textWidth},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"letterSpacing",{get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){a!==this._roundPixels&&(this._roundPixels=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textHeight",{get:function(){this.validate();return this._textHeight},enumerable:!1,configurable:!0});
c.prototype.destroy=function(a){var b=this._textureCache,e;for(e in b)b[e].destroy(),delete b[e];this._textureCache=null;d.prototype.destroy.call(this,a)};c.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};return c}(Ua),xf=function(){function d(){}d.add=function(){Ra.setExtensionXhrType("fnt",Ra.XHR_RESPONSE_TYPE.TEXT)};d.use=function(c,a){var b=mf(c.data);if(b){var e=d.getBaseUrl(this,c),f=b.parse(c.data),g={};b=function(y){g[y.metadata.pageFile]=y.texture;Object.keys(g).length===
f.page.length&&(c.bitmapFont=Rb.install(f,g,!0),a())};for(var h=0;h<f.page.length;++h){var k=f.page[h].file,l=e+k,m=!1,n;for(n in this.resources){var q=this.resources[n];if(q.url===l){q.metadata.pageFile=k;q.texture?b(q):q.onAfterMiddleware.add(b);m=!0;break}}m||(k={crossOrigin:c.crossOrigin,loadType:Ra.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:k},c.metadata.imageMetadata),parentResource:c},this.add(l,k,b))}}else a()};d.getBaseUrl=function(c,a){var b=a.isDataUrl?"":d.dirname(a.url);a.isDataUrl&&
("."===b&&(b=""),c.baseUrl&&b&&"/"===c.baseUrl.charAt(c.baseUrl.length-1)&&(b+="/"));(b=b.replace(c.baseUrl,""))&&"/"!==b.charAt(b.length-1)&&(b+="/");return b};d.dirname=function(c){var a=c.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return a===c?".":""===a?"/":a};return d}(),Ad=function(d,c){Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Ad(d,c)},Hi=function(d){function c(a){void 0===
a&&(a=1);var b=d.call(this,hg,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;b.alpha=a;return b}Hh(c,d);Object.defineProperty(c.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0});return c}(ib),Bd=function(d,c){Bd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,
b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Bd(d,c)},Ii={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Tg;(function(d){d[d.WEBGL_LEGACY=0]="WEBGL_LEGACY";d[d.WEBGL=1]="WEBGL";d[d.WEBGL2=2]="WEBGL2"})(Tg||(Tg={}));var Ug;
(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.WEBGL=1]="WEBGL";d[d.CANVAS=2]="CANVAS"})(Ug||(Ug={}));var Vg;(function(d){d[d.COLOR=16384]="COLOR";d[d.DEPTH=256]="DEPTH";d[d.STENCIL=1024]="STENCIL"})(Vg||(Vg={}));var Wg;(function(d){d[d.NORMAL=0]="NORMAL";d[d.ADD=1]="ADD";d[d.MULTIPLY=2]="MULTIPLY";d[d.SCREEN=3]="SCREEN";d[d.OVERLAY=4]="OVERLAY";d[d.DARKEN=5]="DARKEN";d[d.LIGHTEN=6]="LIGHTEN";d[d.COLOR_DODGE=7]="COLOR_DODGE";d[d.COLOR_BURN=8]="COLOR_BURN";d[d.HARD_LIGHT=9]="HARD_LIGHT";d[d.SOFT_LIGHT=
10]="SOFT_LIGHT";d[d.DIFFERENCE=11]="DIFFERENCE";d[d.EXCLUSION=12]="EXCLUSION";d[d.HUE=13]="HUE";d[d.SATURATION=14]="SATURATION";d[d.COLOR=15]="COLOR";d[d.LUMINOSITY=16]="LUMINOSITY";d[d.NORMAL_NPM=17]="NORMAL_NPM";d[d.ADD_NPM=18]="ADD_NPM";d[d.SCREEN_NPM=19]="SCREEN_NPM";d[d.NONE=20]="NONE";d[d.SRC_OVER=0]="SRC_OVER";d[d.SRC_IN=21]="SRC_IN";d[d.SRC_OUT=22]="SRC_OUT";d[d.SRC_ATOP=23]="SRC_ATOP";d[d.DST_OVER=24]="DST_OVER";d[d.DST_IN=25]="DST_IN";d[d.DST_OUT=26]="DST_OUT";d[d.DST_ATOP=27]="DST_ATOP";
d[d.ERASE=26]="ERASE";d[d.SUBTRACT=28]="SUBTRACT";d[d.XOR=29]="XOR"})(Wg||(Wg={}));var Xg;(function(d){d[d.POINTS=0]="POINTS";d[d.LINES=1]="LINES";d[d.LINE_LOOP=2]="LINE_LOOP";d[d.LINE_STRIP=3]="LINE_STRIP";d[d.TRIANGLES=4]="TRIANGLES";d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Xg||(Xg={}));var Yg;(function(d){d[d.RGBA=6408]="RGBA";d[d.RGB=6407]="RGB";d[d.ALPHA=6406]="ALPHA";d[d.LUMINANCE=6409]="LUMINANCE";d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";d[d.DEPTH_COMPONENT=
6402]="DEPTH_COMPONENT";d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Yg||(Yg={}));var Zg;(function(d){d[d.TEXTURE_2D=3553]="TEXTURE_2D";d[d.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";d[d.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY";d[d.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";d[d.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";d[d.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";
d[d.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zg||(Zg={}));var $g;(function(d){d[d.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";d[d.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";d[d.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";d[d.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";d[d.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";d[d.FLOAT=5126]="FLOAT";d[d.HALF_FLOAT=36193]="HALF_FLOAT"})($g||($g={}));
var ah;(function(d){d[d.NEAREST=0]="NEAREST";d[d.LINEAR=1]="LINEAR"})(ah||(ah={}));var bh;(function(d){d[d.CLAMP=33071]="CLAMP";d[d.REPEAT=10497]="REPEAT";d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(bh||(bh={}));var ch;(function(d){d[d.OFF=0]="OFF";d[d.POW2=1]="POW2";d[d.ON=2]="ON";d[d.ON_MANUAL=3]="ON_MANUAL"})(ch||(ch={}));var dh;(function(d){d[d.NPM=0]="NPM";d[d.UNPACK=1]="UNPACK";d[d.PMA=2]="PMA";d[d.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";d[d.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";
d[d.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(dh||(dh={}));var uc;(function(d){d[d.NO=0]="NO";d[d.YES=1]="YES";d[d.AUTO=2]="AUTO";d[d.BLEND=0]="BLEND";d[d.CLEAR=1]="CLEAR";d[d.BLIT=2]="BLIT"})(uc||(uc={}));var eh;(function(d){d[d.AUTO=0]="AUTO";d[d.MANUAL=1]="MANUAL"})(eh||(eh={}));var fh;(function(d){d.LOW="lowp";d.MEDIUM="mediump";d.HIGH="highp"})(fh||(fh={}));var gh;(function(d){d[d.NONE=0]="NONE";d[d.SCISSOR=1]="SCISSOR";d[d.STENCIL=2]="STENCIL";d[d.SPRITE=3]="SPRITE"})(gh||(gh={}));var hh;(function(d){d[d.NONE=
0]="NONE";d[d.LOW=2]="LOW";d[d.MEDIUM=4]="MEDIUM";d[d.HIGH=8]="HIGH"})(hh||(hh={}));var Ke=function(d){function c(a,b,e,f,g){void 0===b&&(b=8);void 0===e&&(e=4);void 0===f&&(f=ja.FILTER_RESOLUTION);void 0===g&&(g=5);var h=g;var k=Math.ceil(h/2),l="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",
m="";var n=a?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var q=0;q<h;q++){var y=n.replace("%index%",q.toString());y=y.replace("%sampleIndex%",q-(k-1)+".0");m+=y;m+="\n"}l=l.replace("%blur%",m);h=l=l.replace("%size%",h.toString());k=Ii[g];l=k.length;m="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}";
n="";for(y=0;y<g;y++){var E="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",y.toString());q=y;y>=l&&(q=g-y-1);E=E.replace("%value%",k[q].toString());n+=E;n+="\n"}m=m.replace("%blur%",n);m=m.replace("%size%",g.toString());h=d.call(this,h,m)||this;h.horizontal=a;h.resolution=f;h._quality=0;h.quality=e;h.blur=b;return h}of(c,d);c.prototype.apply=function(a,b,e,f){this.uniforms.strength=e?this.horizontal?1/e.width*(e.width/b.width):1/e.height*(e.height/b.height):
this.horizontal?1/a.renderer.width*(a.renderer.width/b.width):1/a.renderer.height*(a.renderer.height/b.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,b,e,f);else{var g=a.getFilterTexture(),h=a.renderer,k=g;this.state.blend=!1;a.applyFilter(this,b,k,uc.CLEAR);for(var l=1;l<this.passes-1;l++){a.bindAndClear(b,uc.BLIT);var m=this.uniforms.uSampler=k;k=b;b=m;h.shader.bind(this);h.geometry.draw(5)}this.state.blend=!0;a.applyFilter(this,
k,e,f);a.returnFilterTexture(g)}};Object.defineProperty(c.prototype,"blur",{get:function(){return this.strength},set:function(a){this.padding=1+2*Math.abs(a);this.strength=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"quality",{get:function(){return this._quality},set:function(a){this.passes=this._quality=a},enumerable:!1,configurable:!0});return c}(ib),Ji=function(d){function c(a,b,e,f){void 0===a&&(a=8);void 0===b&&(b=4);void 0===e&&(e=ja.FILTER_RESOLUTION);void 0===f&&(f=
5);var g=d.call(this)||this;g.blurXFilter=new Ke(!0,a,b,e,f);g.blurYFilter=new Ke(!1,a,b,e,f);g.resolution=e;g.quality=b;g.blur=a;g.repeatEdgePixels=!1;return g}of(c,d);c.prototype.apply=function(a,b,e,f){var g=Math.abs(this.blurYFilter.strength);Math.abs(this.blurXFilter.strength)&&g?(g=a.getFilterTexture(),this.blurXFilter.apply(a,b,g,uc.CLEAR),this.blurYFilter.apply(a,g,e,f),a.returnFilterTexture(g)):g?this.blurYFilter.apply(a,b,e,f):this.blurXFilter.apply(a,b,e,f)};c.prototype.updatePadding=function(){this.padding=
this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))};Object.defineProperty(c.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(a){this.blurYFilter.blendMode=
a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(a){this._repeatEdgePixels=a;this.updatePadding()},enumerable:!1,configurable:!0});return c}(ib),Cd=function(d,c){Cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Cd(d,c)},Le=function(d){function c(){var a={m:new Float32Array([1,0,0,0,0,0,1,0,0,
0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};a=d.call(this,le,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",
a)||this;a.alpha=1;return a}Ih(c,d);c.prototype._loadMatrix=function(a,b){void 0===b&&(b=!1);var e=a;b&&(this._multiply(e,this.uniforms.m,a),e=this._colorMatrix(e));this.uniforms.m=e};c.prototype._multiply=function(a,b,e){a[0]=b[0]*e[0]+b[1]*e[5]+b[2]*e[10]+b[3]*e[15];a[1]=b[0]*e[1]+b[1]*e[6]+b[2]*e[11]+b[3]*e[16];a[2]=b[0]*e[2]+b[1]*e[7]+b[2]*e[12]+b[3]*e[17];a[3]=b[0]*e[3]+b[1]*e[8]+b[2]*e[13]+b[3]*e[18];a[4]=b[0]*e[4]+b[1]*e[9]+b[2]*e[14]+b[3]*e[19]+b[4];a[5]=b[5]*e[0]+b[6]*e[5]+b[7]*e[10]+b[8]*
e[15];a[6]=b[5]*e[1]+b[6]*e[6]+b[7]*e[11]+b[8]*e[16];a[7]=b[5]*e[2]+b[6]*e[7]+b[7]*e[12]+b[8]*e[17];a[8]=b[5]*e[3]+b[6]*e[8]+b[7]*e[13]+b[8]*e[18];a[9]=b[5]*e[4]+b[6]*e[9]+b[7]*e[14]+b[8]*e[19]+b[9];a[10]=b[10]*e[0]+b[11]*e[5]+b[12]*e[10]+b[13]*e[15];a[11]=b[10]*e[1]+b[11]*e[6]+b[12]*e[11]+b[13]*e[16];a[12]=b[10]*e[2]+b[11]*e[7]+b[12]*e[12]+b[13]*e[17];a[13]=b[10]*e[3]+b[11]*e[8]+b[12]*e[13]+b[13]*e[18];a[14]=b[10]*e[4]+b[11]*e[9]+b[12]*e[14]+b[13]*e[19]+b[14];a[15]=b[15]*e[0]+b[16]*e[5]+b[17]*e[10]+
b[18]*e[15];a[16]=b[15]*e[1]+b[16]*e[6]+b[17]*e[11]+b[18]*e[16];a[17]=b[15]*e[2]+b[16]*e[7]+b[17]*e[12]+b[18]*e[17];a[18]=b[15]*e[3]+b[16]*e[8]+b[17]*e[13]+b[18]*e[18];a[19]=b[15]*e[4]+b[16]*e[9]+b[17]*e[14]+b[18]*e[19]+b[19];return a};c.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};c.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};c.prototype.greyscale=function(a,b){this._loadMatrix([a,
a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};c.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};c.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var e=Math.cos(a);a=Math.sin(a);var f=Math.sqrt,g=1/3;f=f(g);this._loadMatrix([e+(1-e)*g,g*(1-e)-f*a,g*(1-e)+f*a,0,0,g*(1-e)+f*a,e+g*(1-e),g*(1-e)-f*a,0,0,g*(1-e)-f*a,g*(1-e)+f*a,e+g*(1-e),0,0,0,0,0,1,0],b)};c.prototype.contrast=function(a,b){a=(a||0)+1;var e=-.5*(a-1);this._loadMatrix([a,0,0,0,e,
0,a,0,0,e,0,0,a,0,e,0,0,0,1,0],b)};c.prototype.saturate=function(a,b){void 0===a&&(a=0);a=2*a/3+1;var e=-.5*(a-1);this._loadMatrix([a,e,e,0,0,e,a,e,0,0,e,e,a,0,0,0,0,0,1,0],b)};c.prototype.desaturate=function(){this.saturate(-1)};c.prototype.negative=function(a){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a)};c.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};c.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,
-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)};c.prototype.polaroid=function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)};c.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};c.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,
-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a)};c.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,
0,0,0,1,0],a)};c.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};c.prototype.colorTone=function(a,b,e,f,g){e=e||16770432;f=f||3375104;var h=(e>>16&255)/255,k=(e>>8&255)/255;e=(e&255)/255;var l=(f>>16&255)/255,m=(f>>8&255)/255;f=(f&255)/255;this._loadMatrix([.3,
.59,.11,0,0,h,k,e,a||.2,0,l,m,f,b||.15,0,h-l,k-m,e-f,0,0],g)};c.prototype.night=function(a,b){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],b)};c.prototype.predator=function(a,b){this._loadMatrix([11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],
b)};c.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};c.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperty(c.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0});
return c}(ib);Le.prototype.grayscale=Le.prototype.greyscale;var Dd=function(d,c){Dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Dd(d,c)},Ki=function(d){function c(a,b){var e=new Fa;a.renderable=!1;var f=d.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",
{mapSampler:a._texture,filterMatrix:e,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this;f.maskSprite=a;f.maskMatrix=e;if(null===b||void 0===b)b=20;f.scale=new Da(b,b);return f}Jh(c,d);c.prototype.apply=function(a,b,e,f){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;var g=this.maskSprite.worldTransform,h=Math.sqrt(g.a*g.a+g.b*g.b),k=Math.sqrt(g.c*g.c+g.d*g.d);0!==h&&0!==k&&(this.uniforms.rotation[0]=
g.a/h,this.uniforms.rotation[1]=g.b/h,this.uniforms.rotation[2]=g.c/k,this.uniforms.rotation[3]=g.d/k);a.applyFilter(this,b,e,f)};Object.defineProperty(c.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a},enumerable:!1,configurable:!0});return c}(ib),Ed=function(d,c){Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Ed(d,c)},Li=function(d){function c(){return d.call(this,
"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||
this}Kh(c,d);return c}(ib),Fd=function(d,c){Fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Fd(d,c)},Mi=function(d){function c(a,b){void 0===a&&(a=.5);void 0===b&&(b=Math.random());var e=d.call(this,le,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",
{uNoise:0,uSeed:0})||this;e.noise=a;e.seed=b;return e}Lh(c,d);Object.defineProperty(c.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a},enumerable:!1,configurable:!0});return c}(ib),ub=new Fa;Ea.prototype._cacheAsBitmap=!1;Ea.prototype._cacheData=null;Ea.prototype._cacheAsBitmapResolution=null;
var Ni=function(){return function(){this.sprite=this.originalContainsPoint=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRender=this.textureCacheId=null}}();Object.defineProperties(Ea.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(d){d!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=d,this.cacheAsBitmap&&
(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(d){this._cacheAsBitmap!==d&&((this._cacheAsBitmap=d)?(this._cacheData||(this._cacheData=new Ni),d=this._cacheData,d.originalRender=this.render,d.originalRenderCanvas=this.renderCanvas,d.originalUpdateTransform=this.updateTransform,d.originalCalculateBounds=this.calculateBounds,d.originalGetLocalBounds=this.getLocalBounds,d.originalDestroy=this.destroy,d.originalContainsPoint=this.containsPoint,
d.originalMask=this._mask,d.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(d=this._cacheData,d.sprite&&this._destroyCachedDisplayObject(),this.render=d.originalRender,this.renderCanvas=d.originalRenderCanvas,this.calculateBounds=d.originalCalculateBounds,this.getLocalBounds=d.originalGetLocalBounds,this.destroy=d.originalDestroy,this.updateTransform=d.originalUpdateTransform,this.containsPoint=
d.originalContainsPoint,this._mask=d.originalMask,this.filterArea=d.originalFilterArea))}}});Ea.prototype._renderCached=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(d),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(d))};Ea.prototype._initCachedDisplayObject=function(d){if(!this._cacheData||!this._cacheData.sprite){var c=this.alpha;this.alpha=1;d.batch.flush();
var a=this.getLocalBounds(null,!0).clone();this.filters&&a.pad(this.filters[0].padding);a.ceil(ja.RESOLUTION);var b=d.renderTexture.current,e=d.renderTexture.sourceFrame.clone(),f=d.renderTexture.destinationFrame.clone(),g=d.projection.transform,h=pb.create({width:a.width,height:a.height,resolution:this.cacheAsBitmapResolution||d.resolution}),k="cacheAsBitmap_"+ ++wb;this._cacheData.textureCacheId=k;xa.addToCache(h.baseTexture,k);na.addToCache(h,k);k=this.transform.localTransform.copyTo(ub).invert().translate(-a.x,
-a.y);this.render=this._cacheData.originalRender;d.render(this,{renderTexture:h,clear:!0,transform:k,skipUpdateTransform:!1});d.projection.transform=g;d.renderTexture.bind(b,e,f);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;d=new Wb(h);d.transform.worldTransform=this.transform.worldTransform;d.anchor.x=-(a.x/a.width);d.anchor.y=-(a.y/
a.height);d.alpha=c;d._bounds=this._bounds;this._cacheData.sprite=d;this.transform._parentID=-1;this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null));this.containsPoint=d.containsPoint.bind(d)}};Ea.prototype._renderCachedCanvas=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(d),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(d))};Ea.prototype._initCachedDisplayObjectCanvas=
function(d){if(!this._cacheData||!this._cacheData.sprite){var c=this.getLocalBounds(null,!0),a=this.alpha;this.alpha=1;var b=d.context,e=d._projTransform;c.ceil(ja.RESOLUTION);var f=pb.create({width:c.width,height:c.height}),g="cacheAsBitmap_"+ ++wb;this._cacheData.textureCacheId=g;xa.addToCache(f.baseTexture,g);na.addToCache(f,g);this.transform.localTransform.copyTo(ub);ub.invert();ub.tx-=c.x;ub.ty-=c.y;this.renderCanvas=this._cacheData.originalRenderCanvas;d.render(this,{renderTexture:f,clear:!0,
transform:ub,skipUpdateTransform:!1});d.context=b;d._projTransform=e;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;b=new Wb(f);b.transform.worldTransform=this.transform.worldTransform;b.anchor.x=-(c.x/c.width);b.anchor.y=-(c.y/c.height);b.alpha=a;b._bounds=this._bounds;this._cacheData.sprite=b;this.transform._parentID=-1;
this.parent?this.updateTransform():(this.parent=d._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=b.containsPoint.bind(b)}};Ea.prototype._calculateCachedBounds=function(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};Ea.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ea.prototype._destroyCachedDisplayObject=
function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;xa.removeFromCache(this._cacheData.textureCacheId);na.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};Ea.prototype._cacheAsBitmapDestroy=function(d){this.cacheAsBitmap=!1;this.destroy(d)};Ea.prototype.name=null;Ua.prototype.getChildByName=function(d,c){for(var a=0,b=this.children.length;a<b;a++)if(this.children[a].name===d)return this.children[a];if(c)for(a=0,b=this.children.length;a<
b;a++)if(this.children[a].getChildByName&&(c=this.children[a].getChildByName(d,!0)))return c;return null};Ea.prototype.getGlobalPosition=function(d,c){void 0===d&&(d=new Da);void 0===c&&(c=!1);this.parent?this.parent.toGlobal(this.position,d,c):(d.x=this.position.x,d.y=this.position.y);return d};var Gd=function(d,c){Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Gd(d,c)},Sf=function(d){function c(a,
b,e,f){void 0===a&&(a=100);void 0===b&&(b=100);void 0===e&&(e=10);void 0===f&&(f=10);var g=d.call(this)||this;g.segWidth=e;g.segHeight=f;g.width=a;g.height=b;g.build();return g}Qb(c,d);c.prototype.build=function(){for(var a=this.segWidth*this.segHeight,b=[],e=[],f=[],g=this.segWidth-1,h=this.segHeight-1,k=this.width/g,l=this.height/h,m=0;m<a;m++){var n=m%this.segWidth,q=m/this.segWidth|0;b.push(n*k,q*l);e.push(n/g,q/h)}a=g*h;for(m=0;m<a;m++)h=m%g,k=m/g|0,l=k*this.segWidth+h+1,n=(k+1)*this.segWidth+
h,f.push(k*this.segWidth+h,l,n,l,(k+1)*this.segWidth+h+1,n);this.buffers[0].data=new Float32Array(b);this.buffers[1].data=new Float32Array(e);this.indexBuffer.data=new Uint16Array(f);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()};return c}(ic),Xf=function(d){function c(a,b,e){void 0===a&&(a=200);void 0===e&&(e=0);var f=d.call(this,new Float32Array(4*b.length),new Float32Array(4*b.length),new Uint16Array(6*(b.length-1)))||this;f.points=b;f._width=a;f.textureScale=e;f.build();
return f}Qb(c,d);Object.defineProperty(c.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0});c.prototype.build=function(){var a=this.points;if(a){var b=this.getBuffer("aVertexPosition"),e=this.getBuffer("aTextureCoord"),f=this.getIndex();if(!(1>a.length)){b.data.length/4!==a.length&&(b.data=new Float32Array(4*a.length),e.data=new Float32Array(4*a.length),f.data=new Uint16Array(6*(a.length-1)));var g=e.data;b=f.data;g[0]=0;g[1]=0;g[2]=0;g[3]=1;for(var h=0,k=a[0],l=
this._width*this.textureScale,m=a.length,n=0;n<m;n++){var q=4*n;if(0<this.textureScale){var y=k.x-a[n].x;k=k.y-a[n].y;y=Math.sqrt(y*y+k*k);k=a[n];h+=y/l}else h=n/(m-1);g[q]=h;g[q+1]=0;g[q+2]=h;g[q+3]=1}for(n=a=0;n<m-1;n++)q=2*n,b[a++]=q,b[a++]=q+1,b[a++]=q+2,b[a++]=q+2,b[a++]=q+1,b[a++]=q+3;e.update();f.update();this.updateVertices()}}};c.prototype.updateVertices=function(){var a=this.points;if(!(1>a.length)){for(var b=a[0],e,f,g=this.buffers[0].data,h=a.length,k=0;k<h;k++){var l=a[k],m=4*k;e=k<a.length-
1?a[k+1]:l;f=-(e.x-b.x);b=e.y-b.y;e=Math.sqrt(b*b+f*f);var n=0<this.textureScale?this.textureScale*this._width/2:this._width/2;b/=e;f/=e;b*=n;f*=n;g[m]=l.x+b;g[m+1]=l.y+f;g[m+2]=l.x-b;g[m+3]=l.y-f;b=l}this.buffers[0].update()}};c.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()};return c}(ic),Th=function(d){function c(a,b,e){void 0===e&&(e=0);b=new Xf(a.height,b,e);var f=new jc(a);0<e&&(a.baseTexture.wrapMode=jb.REPEAT);a=d.call(this,b,f)||this;a.autoUpdate=!0;return a}
Qb(c,d);c.prototype._render=function(a){var b=this.geometry;if(this.autoUpdate||b._width!==this.shader.texture.height)b._width=this.shader.texture.height,b.update();d.prototype._render.call(this,a)};return c}(Ub),Zf=function(d){function c(a,b,e){b=new Sf(a.width,a.height,b,e);e=new jc(na.WHITE);b=d.call(this,b,e)||this;b.texture=a;return b}Qb(c,d);c.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var a=this.geometry;a.width=this.shader.texture.width;a.height=this.shader.texture.height;
a.build()};Object.defineProperty(c.prototype,"texture",{get:function(){return this.shader.texture},set:function(a){if(this.shader.texture!==a)if(this.shader.texture=a,this._textureID=-1,a.baseTexture.valid)this.textureUpdated();else a.once("update",this.textureUpdated,this)},enumerable:!1,configurable:!0});c.prototype._render=function(a){this._textureID!==this.shader.texture._updateID&&this.textureUpdated();d.prototype._render.call(this,a)};c.prototype.destroy=function(a){this.shader.texture.off("update",
this.textureUpdated,this);d.prototype.destroy.call(this,a)};return c}(Ub),Sh=function(d){function c(a,b,e,f,g){void 0===a&&(a=na.EMPTY);b=new ic(b,e,f);b.getBuffer("aVertexPosition").static=!1;a=new jc(a);g=d.call(this,b,a,null,g)||this;g.autoUpdate=!0;return g}Qb(c,d);Object.defineProperty(c.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0});c.prototype._render=
function(a){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update();d.prototype._render.call(this,a)};return c}(Ub),Qh=function(d){function c(a,b,e,f,g){void 0===b&&(b=10);void 0===e&&(e=10);void 0===f&&(f=10);void 0===g&&(g=10);var h=d.call(this,na.WHITE,4,4)||this;h._origWidth=a.orig.width;h._origHeight=a.orig.height;h._width=h._origWidth;h._height=h._origHeight;h._leftWidth=b;h._rightWidth=f;h._topHeight=e;h._bottomHeight=g;h.texture=a;return h}Qb(c,d);c.prototype.textureUpdated=function(){this._textureID=
this.shader.texture._updateID;this._refresh()};Object.defineProperty(c.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0});c.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._getMinScale();a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=
function(){var a=this.vertices,b=this._getMinScale();a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._getMinScale=function(){var a=this._leftWidth+this._rightWidth,b=this._topHeight+this._bottomHeight;return Math.min(this._width>a?1:this._width/a,this._height>b?1:this._height/b)};Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a;this._refresh()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._height},set:function(a){this._height=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(a){this._leftWidth=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;this._refresh()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"topHeight",{get:function(){return this._topHeight},set:function(a){this._topHeight=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a;this._refresh()},enumerable:!1,configurable:!0});c.prototype._refresh=function(){var a=this.texture,b=this.geometry.buffers[1].data;this._origWidth=a.orig.width;this._origHeight=
a.orig.height;a=1/this._origWidth;var e=1/this._origHeight;b[0]=b[8]=b[16]=b[24]=0;b[1]=b[3]=b[5]=b[7]=0;b[6]=b[14]=b[22]=b[30]=1;b[25]=b[27]=b[29]=b[31]=1;b[2]=b[10]=b[18]=b[26]=a*this._leftWidth;b[4]=b[12]=b[20]=b[28]=1-a*this._rightWidth;b[9]=b[11]=b[13]=b[15]=e*this._topHeight;b[17]=b[19]=b[21]=b[23]=1-e*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()};return c}(Zf),Hd=function(d,c){Hd=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Hd(d,c)},Nh=function(d){function c(a,b){void 0===b&&(b=!0);var e=d.call(this,a[0]instanceof na?a[0]:a[0].texture)||this;e._textures=null;e._durations=null;e._autoUpdate=b;e._isConnectedToTicker=!1;e.animationSpeed=1;e.loop=!0;e.updateAnchor=!1;e.onComplete=null;e.onFrameChange=null;e.onLoop=null;e._currentTime=0;e._playing=!1;e._previousFrame=null;e.textures=a;return e}
Mh(c,d);c.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ia.shared.remove(this.update,this),this._isConnectedToTicker=!1))};c.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ia.shared.add(this.update,this,cb.HIGH),this._isConnectedToTicker=!0))};c.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};c.prototype.gotoAndPlay=
function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();this.play()};c.prototype.update=function(a){if(this._playing){var b=this.animationSpeed*a,e=this.currentFrame;if(null!==this._durations){var f=this._currentTime%1*this._durations[this.currentFrame];for(f+=b/60*1E3;0>f;)this._currentTime--,f+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);f>=this._durations[this.currentFrame];)f-=
this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=f/this._durations[this.currentFrame]}else this._currentTime+=b;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(e!==this.currentFrame){if(this.loop&&this.onLoop)if(0<this.animationSpeed&&this.currentFrame<e)this.onLoop();else if(0>
this.animationSpeed&&this.currentFrame>e)this.onLoop();this.updateTexture()}}};c.prototype.updateTexture=function(){var a=this.currentFrame;if(this._previousFrame!==a&&(this._previousFrame=a,this._texture=this._textures[a],this._textureTrimmedID=this._textureID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange))this.onFrameChange(this.currentFrame)};c.prototype.destroy=function(a){this.stop();
d.prototype.destroy.call(this,a);this.onLoop=this.onFrameChange=this.onComplete=null};c.fromFrames=function(a){for(var b=[],e=0;e<a.length;++e)b.push(na.from(a[e]));return new c(b)};c.fromImages=function(a){for(var b=[],e=0;e<a.length;++e)b.push(na.from(a[e]));return new c(b)};Object.defineProperty(c.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textures",{get:function(){return this._textures},set:function(a){if(a[0]instanceof
na)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this._previousFrame=null;this.gotoAndStop(0);this.updateTexture()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"currentFrame",{get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Ia.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ia.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});return c}(Wb);
db.registerPlugin("accessibility",rf);db.registerPlugin("extract",Ff);db.registerPlugin("interaction",Mf);db.registerPlugin("particle",Rf);db.registerPlugin("prepare",Tf);db.registerPlugin("batch",vf);db.registerPlugin("tilingSprite",fg);ab.registerPlugin(xf);ab.registerPlugin(Af);ab.registerPlugin(Cf);ab.registerPlugin(Nf);ab.registerPlugin(bg);Bc.registerPlugin(eg);Bc.registerPlugin(sf);var Wh={AlphaFilter:Hi,BlurFilter:Ji,BlurFilterPass:Ke,ColorMatrixFilter:Le,DisplacementFilter:Ki,FXAAFilter:Li,
NoiseFilter:Mi}},350:function(t){t.exports=function(u,B,v,K){v=v||"=";var A={};if("string"!==typeof u||0===u.length)return A;var G=/\+/g;u=u.split(B||"&");B=1E3;K&&"number"===typeof K.maxKeys&&(B=K.maxKeys);K=u.length;0<B&&K>B&&(K=B);for(B=0;B<K;++B){var x=u[B].replace(G,"%20"),w=x.indexOf(v);if(0<=w){var I=x.substr(0,w);x=x.substr(w+1)}else I=x,x="";I=decodeURIComponent(I);x=decodeURIComponent(x);Object.prototype.hasOwnProperty.call(A,I)?Array.isArray(A[I])?A[I].push(x):A[I]=[A[I],x]:A[I]=x}return A}},
104:function(t){var u=function(B){switch(typeof B){case "string":return B;case "boolean":return B?"true":"false";case "number":return isFinite(B)?B:"";default:return""}};t.exports=function(B,v,K,A){v=v||"&";K=K||"=";null===B&&(B=void 0);return"object"===typeof B?Object.keys(B).map(function(G){var x=encodeURIComponent(u(G))+K;return Array.isArray(B[G])?B[G].map(function(w){return x+encodeURIComponent(u(w))}).join(v):x+encodeURIComponent(u(B[G]))}).join(v):A?encodeURIComponent(u(A))+K+encodeURIComponent(u(B)):
""}},966:function(t,u,B){u.decode=u.parse=B(350);u.encode=u.stringify=B(104)},947:function(t,u,B){B.r(u);B.d(u,{"default":function(){return v}});t=B(892);t=B.n(t);B=B(660);t()(B.Z,{insert:"head",singleton:!1});var v=B.Z.locals||{}},892:function(t,u,B){function v(V){for(var ca=-1,X=0;X<J.length;X++)if(J[X].identifier===V){ca=X;break}return ca}function K(V,ca){for(var X={},ea=[],z=0;z<V.length;z++){var D=V[z],p=ca.base?D[0]+ca.base:D[0],r=X[p]||0,F="".concat(p," ").concat(r);X[p]=r+1;p=v(F);D={css:D[1],
media:D[2],sourceMap:D[3]};-1!==p?(J[p].references++,J[p].updater(D)):J.push({identifier:F,updater:w(D,ca),references:1});ea.push(F)}return ea}function A(V){var ca=document.createElement("style"),X=V.attributes||{};if("undefined"===typeof X.nonce){var ea=B.nc;ea&&(X.nonce=ea)}Object.keys(X).forEach(function(z){ca.setAttribute(z,X[z])});if("function"===typeof V.insert)V.insert(ca);else{V=C(V.insert||"head");if(!V)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
V.appendChild(ca)}return ca}function G(V,ca,X,ea){X=X?"":ea.media?"@media ".concat(ea.media," {").concat(ea.css,"}"):ea.css;V.styleSheet?V.styleSheet.cssText=M(ca,X):(X=document.createTextNode(X),ea=V.childNodes,ea[ca]&&V.removeChild(ea[ca]),ea.length?V.insertBefore(X,ea[ca]):V.appendChild(X))}function x(V,ca,X){ca=X.css;var ea=X.media;X=X.sourceMap;ea?V.setAttribute("media",ea):V.removeAttribute("media");X&&"undefined"!==typeof btoa&&(ca+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(X)))),
" */"));if(V.styleSheet)V.styleSheet.cssText=ca;else{for(;V.firstChild;)V.removeChild(V.firstChild);V.appendChild(document.createTextNode(ca))}}function w(V,ca){if(ca.singleton){var X=W++;var ea=aa||(aa=A(ca));var z=G.bind(null,ea,X,!1);var D=G.bind(null,ea,X,!0)}else ea=A(ca),z=x.bind(null,ea,ca),D=function(){null!==ea.parentNode&&ea.parentNode.removeChild(ea)};z(V);return function(p){p?(p.css!==V.css||p.media!==V.media||p.sourceMap!==V.sourceMap)&&z(V=p):D()}}var I=function(){var V;return function(){"undefined"===
typeof V&&(V=!(!(window&&document&&document.all)||window.atob));return V}}(),C=function(){var V={};return function(ca){if("undefined"===typeof V[ca]){var X=document.querySelector(ca);if(window.HTMLIFrameElement&&X instanceof window.HTMLIFrameElement)try{X=X.contentDocument.head}catch(ea){X=null}V[ca]=X}return V[ca]}}(),J=[],M=function(){var V=[];return function(ca,X){V[ca]=X;return V.filter(Boolean).join("\n")}}(),aa=null,W=0;t.exports=function(V,ca){ca=ca||{};ca.singleton||"boolean"===typeof ca.singleton||
(ca.singleton=I());V=V||[];var X=K(V,ca);return function(ea){ea=ea||[];if("[object Array]"===Object.prototype.toString.call(ea)){for(var z=0;z<X.length;z++){var D=v(X[z]);J[D].references--}ea=K(ea,ca);for(z=0;z<X.length;z++)D=v(X[z]),0===J[D].references&&(J[D].updater(),J.splice(D,1));X=ea}}}},477:function(t,u,B){Object.defineProperty(u,"__esModule",{value:!0});u.App=void 0;var v=B(496),K=B(138),A=B(677);t=function(){return v.Module.call(this,[new K.Canvas,new A.Layout])||this};$jscomp.inherits(t,
v.Module);$jscomp.global.Object.defineProperties(t.prototype,{canvas:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(K.Canvas)}}});$jscomp.global.Object.defineProperties(t,{instance:{configurable:!0,enumerable:!0,get:function(){return this._instance}}});u.App=t;t._instance=new t},138:function(t,u,B){var v=this&&this.__createBinding||(Object.create?function(C,J,M,aa){void 0===aa&&(aa=M);Object.defineProperty(C,aa,{enumerable:!0,get:function(){return J[M]}})}:function(C,J,M,aa){void 0===
aa&&(aa=M);C[aa]=J[M]}),K=this&&this.__setModuleDefault||(Object.create?function(C,J){Object.defineProperty(C,"default",{enumerable:!0,value:J})}:function(C,J){C["default"]=J});t=this&&this.__importStar||function(C){if(C&&C.__esModule)return C;var J={};if(null!=C)for(var M in C)"default"!==M&&Object.prototype.hasOwnProperty.call(C,M)&&v(J,C,M);K(J,C);return J};Object.defineProperty(u,"__esModule",{value:!0});u.Canvas=void 0;var A=t(B(655)),G=B(496),x=B(514),w=B(379),I=function(){var C=G.Module.call(this,
[new w.Ticker,new x.Space])||this;C._app=new A.Application({width:window.innerWidth,height:window.innerHeight,backgroundColor:I.CANVAS_BACKGROUND});C._viewCanvas=C.viewCanvas;return C};$jscomp.inherits(I,G.Module);I.prototype.onInit=function(){this._viewCanvas.appendChild(this._app.view);this._app.ticker.add(this.ticker.update,this.ticker);this._app.stage.addChild(this.space.container)};$jscomp.global.Object.defineProperties(I.prototype,{viewCanvas:{configurable:!0,enumerable:!0,get:function(){if(this._viewCanvas)return this._viewCanvas;
var C=document.getElementById("background-canvas");if(!C)throw Error("Canvas element does not exist on document");return C}},ticker:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(w.Ticker)}},space:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(x.Space)}},app:{configurable:!0,enumerable:!0,get:function(){return this._app}}});u.Canvas=I;I.CANVAS_BACKGROUND=1052688},514:function(t,u,B){var v=this&&this.__createBinding||(Object.create?function(M,aa,W,V){void 0===
V&&(V=W);Object.defineProperty(M,V,{enumerable:!0,get:function(){return aa[W]}})}:function(M,aa,W,V){void 0===V&&(V=W);M[V]=aa[W]}),K=this&&this.__setModuleDefault||(Object.create?function(M,aa){Object.defineProperty(M,"default",{enumerable:!0,value:aa})}:function(M,aa){M["default"]=aa});t=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var aa={};if(null!=M)for(var W in M)"default"!==W&&Object.prototype.hasOwnProperty.call(M,W)&&v(aa,M,W);K(aa,M);return aa};Object.defineProperty(u,
"__esModule",{value:!0});u.Space=void 0;var A=t(B(655)),G=B(496),x=B(682),w=B(574),I=B(741),C=B(220),J=function(){var M=G.Module.call(this)||this;M._stars=[];M._container=new A.Container;M._container.interactive=!0;M._container.interactiveChildren=!1;M._container.on("pointermove",function(aa){return w.Events.emit(x.Event.SPACE_POINTER_MOVE,{base:aa})});window.addEventListener("mouseout",M._onMouseOut);window.addEventListener("touchend",M._onMouseOut);return M};$jscomp.inherits(J,G.Module);J.prototype.onInit=
function(){this._populateStars();this._drawSpace();w.Events.emit(x.Event.ADD_TICKER,{ticker:new I.InitStarsTicker(this._stars)});w.Events.on(x.Event.ADD_DISPLAY_OBJECT,this._onAddDisplayObject.bind(this))};J.prototype.onDispose=function(){this._container.destroy({children:!0});window.removeEventListener("mouseout",this._onMouseOut);window.removeEventListener("touchend",this._onMouseOut)};J.prototype._onAddDisplayObject=function(M){M&&this._container.addChild(M.object)};J.prototype._onMouseOut=function(M){w.Events.emit(x.Event.SPACE_POINTER_OUT,
{base:M})};J.prototype._populateStars=function(){var M=window;M=M.innerWidth*M.innerHeight*J.STAR_RATIO*window.devicePixelRatio;for(var aa=0;aa<M;aa++){var W=C.Star.random();this._stars.push(W)}};J.prototype._drawSpace=function(){this._container.addChild.apply(this._container,$jscomp.arrayFromIterable(this._stars.map(function(M){return M.sprite})))};$jscomp.global.Object.defineProperties(J.prototype,{container:{configurable:!0,enumerable:!0,get:function(){return this._container}},stars:{configurable:!0,
enumerable:!0,get:function(){return this._stars}}});u.Space=J;J.STAR_RATIO=.008},220:function(t,u,B){var v=this&&this.__createBinding||(Object.create?function(J,M,aa,W){void 0===W&&(W=aa);Object.defineProperty(J,W,{enumerable:!0,get:function(){return M[aa]}})}:function(J,M,aa,W){void 0===W&&(W=aa);J[W]=M[aa]}),K=this&&this.__setModuleDefault||(Object.create?function(J,M){Object.defineProperty(J,"default",{enumerable:!0,value:M})}:function(J,M){J["default"]=M});t=this&&this.__importStar||function(J){if(J&&
J.__esModule)return J;var M={};if(null!=J)for(var aa in J)"default"!==aa&&Object.prototype.hasOwnProperty.call(J,aa)&&v(M,J,aa);K(M,J);return M};Object.defineProperty(u,"__esModule",{value:!0});u.Star=void 0;var A=t(B(655)),G=B(541),x=B(682),w=B(574),I=B(968),C=function(J,M,aa,W,V){this._position=J;this._size=M;this._brightness=aa;this._color=W;this._cloned=void 0===V?!1:V;this._sprite=this._buildSprite()};C.prototype.clone=function(){var J=new C(this._position,this._size,this._brightness,this._color,
!0);J.sprite.x=this._position.x;J.sprite.y=this._position.y;w.Events.emit(x.Event.ADD_DISPLAY_OBJECT,{object:J.sprite});return J};C.prototype._buildSprite=function(){var J=this.position.x,M=this.size,aa=this.color,W=new A.Sprite(I.StarTextureGenerator.base);W.blendMode=A.BLEND_MODES.SATURATION;W.x=J-M/2;W.y=window.innerHeight;W.scale.set(M);W.tint=aa;W.alpha=0;return W};C.random=function(){var J=window,M=J.innerWidth;J=J.innerHeight;var aa=G.getBetween(20,63.75),W=1===G.getBetween(1,10)?2:1,V=G.getBetween(0,
100);V=this._starColors[V];return new C({x:G.getBetween(0,M),y:G.getBetween(0,J)},W,aa,V)};C._computeStarColorProbabilities=function(){var J=this.STAR_COLORS,M=Array(100).fill(J[J.length-1][1]),aa=0;J=$jscomp.makeIterator(J);for(var W=J.next();!W.done;W=J.next()){var V=$jscomp.makeIterator(W.value);W=V.next().value;V=V.next().value;M.fill(V,aa,W);aa+=W}return M};$jscomp.global.Object.defineProperties(C.prototype,{position:{configurable:!0,enumerable:!0,get:function(){return this._position}},size:{configurable:!0,
enumerable:!0,get:function(){return this._size}},brightness:{configurable:!0,enumerable:!0,get:function(){return this._brightness}},color:{configurable:!0,enumerable:!0,get:function(){return this._color}},sprite:{configurable:!0,enumerable:!0,get:function(){return this._sprite}},cloned:{configurable:!0,enumerable:!0,get:function(){return this._cloned}}});u.Star=C;C.STAR_COLORS=[[2,15717547],[2,15707051],[10,15707112],[30,11259375],[30,16777215]];C._starColors=C._computeStarColorProbabilities()},968:function(t,
u,B){var v=this&&this.__createBinding||(Object.create?function(x,w,I,C){void 0===C&&(C=I);Object.defineProperty(x,C,{enumerable:!0,get:function(){return w[I]}})}:function(x,w,I,C){void 0===C&&(C=I);x[C]=w[I]}),K=this&&this.__setModuleDefault||(Object.create?function(x,w){Object.defineProperty(x,"default",{enumerable:!0,value:w})}:function(x,w){x["default"]=w});t=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var w={};if(null!=x)for(var I in x)"default"!==I&&Object.prototype.hasOwnProperty.call(x,
I)&&v(w,x,I);K(w,x);return w};Object.defineProperty(u,"__esModule",{value:!0});u.StarTextureGenerator=void 0;var A=t(B(655)),G=B(477);B=function(){};B._buildStarBaseTexture=function(){var x=new A.Graphics;x.beginFill(16777215);x.drawCircle(0,0,.75);x.endFill();return G.App.instance.canvas.app.renderer.generateTexture(x)};$jscomp.global.Object.defineProperties(B,{base:{configurable:!0,enumerable:!0,get:function(){var x;return null!=(x=this._base)?x:this._base=this._buildStarBaseTexture()}}});u.StarTextureGenerator=
B},741:function(t,u,B){Object.defineProperty(u,"__esModule",{value:!0});u.InitStarsTicker=void 0;var v=B(682),K=B(574),A=B(810),G=B(495);t=function(x){var w=A.AbstractTicker.call(this)||this;w._stars=x;w._starAnimations=w._initStarAnimations();w._remainingDelay=20;return w};$jscomp.inherits(t,A.AbstractTicker);t.prototype.update=function(x){if(0<this._remainingDelay)this._remainingDelay--;else{x=!1;for(var w=$jscomp.makeIterator(this._starAnimations),I=w.next();!I.done;I=w.next())I=I.value,I.ended||
(x=!0,I.ended=this._updateStarAnimation(I));x||this.dispose()}};t.prototype.onDispose=function(){K.Events.emit(v.Event.ADD_TICKER,{ticker:new G.StarAnimationTicker});K.Events.emit(v.Event.SPACE_INITIALIZED)};t.prototype._initStarAnimations=function(){return this._stars.map(function(x){return{star:x,yVelocity:50*Math.random()+10,ended:!1}})};t.prototype._updateStarAnimation=function(x){var w=x.star,I=w.sprite,C=w.position.y;w=w.brightness;I.y-=x.yVelocity;I.y<=C&&(I.y=C);I.alpha+=.01;x=w/255;I.alpha>=
x&&(I.alpha=x);return I.alpha===x&&I.y===C};u.InitStarsTicker=t},495:function(t,u,B){Object.defineProperty(u,"__esModule",{value:!0});u.StarAnimationTicker=void 0;var v=B(774),K=B(682),A=B(67),G=B(574),x=B(477),w=B(810),I=function(){var C=w.AbstractTicker.call(this)||this;C._oldAnimatingStars=new Set;C._animatingStars=new Set;C._buttonAnimatingStars=new Set;C._buttonAnimatingStarsTarget=new Map;C._runningButtonAnimation=!1;G.Events.on(K.Event.SPACE_POINTER_MOVE,C._onSpacePointerOver,C);G.Events.on(K.Event.SPACE_POINTER_OUT,
C._onSpacePointerOut,C);G.Events.on(K.Event.SPACE_BUTTON_HOVER,C._onSpaceButtonHover,C);G.Events.on(K.Event.SPACE_BUTTON_OUT,C._onSpaceButtonOut,C);return C};$jscomp.inherits(I,w.AbstractTicker);I.prototype.update=function(C){C=$jscomp.makeIterator(this._oldAnimatingStars);for(var J=C.next();!J.done;J=C.next()){J=J.value;J.sprite.alpha-=.05;var M=J.brightness/255;J.sprite.alpha<=M&&(J.sprite.alpha=M,this._oldAnimatingStars.delete(J))}C=$jscomp.makeIterator(this._animatingStars);for(J=C.next();!J.done;J=
C.next())J=J.value,M=this._buttonAnimatingStars.has(J)?.025:.1,J.sprite.alpha+=M,1<=J.sprite.alpha&&(J.sprite.alpha=1);C=!1;J=$jscomp.makeIterator(this._buttonAnimatingStarsTarget);for(M=J.next();!M.done;M=J.next()){var aa=$jscomp.makeIterator(M.value);M=aa.next().value;aa=aa.next().value;if(aa.progress===I.ANIMATION_DURATION)aa.persistent||this._deleteStar(M);else{C=!0;var W=aa,V=W.target,ca=V.targetX;V=V.targetY;var X=W.initial;W=X.initialX;X=X.initialY;var ea=this._applyEaseInOutQuad(aa.progress/
I.ANIMATION_DURATION);V=(V-X)*ea;M.sprite.x=(ca-W)*ea+W;M.sprite.y=V+X;aa.progress++}}this._runningButtonAnimation=C};I.prototype._onSpacePointerOver=function(C){C&&this._addAnimatingStars(this._getClosePointChildren(C.base))};I.prototype._onSpacePointerOut=function(){this._addStarsToOldAnimatingStars()};I.prototype._onSpaceButtonHover=function(C){if(C&&(C=C.base.target,C instanceof HTMLButtonElement)){this._buttonBounds=C=C.getBoundingClientRect();var J=this._runningButtonAnimation?Array.from(this._buttonAnimatingStarsTarget.keys()):
this._getCloseRectChildren(C).map(function(M){return M.clone()});this._addAnimatingStars(J,!0);this._assignButtonAnimatingStarTargets(J,C)}};I.prototype._deleteStar=function(C){C.sprite.destroy();this._oldAnimatingStars.delete(C);this._animatingStars.delete(C);this._buttonAnimatingStars.delete(C);this._buttonAnimatingStarsTarget.delete(C)};I.prototype._assignButtonAnimatingStarTargets=function(C,J){J=this._getButtonAnimatingStarTargets(C.length,J);C=$jscomp.makeIterator(C);for(var M=C.next();!M.done;M=
C.next()){M=M.value;var aa=M.position,W=aa.x;aa=aa.y;for(var V=J[0],ca=Infinity,X=-1,ea=0;ea<J.length;ea++){var z=J[ea],D=v.get2DVectorDistance(W,aa,z.targetX,z.targetY);D<ca&&(V=z,ca=D,X=ea)}J.splice(X,1);this._buttonAnimatingStarsTarget.set(M,{target:V,initial:{initialX:M.sprite.x,initialY:M.sprite.y},progress:0,persistent:!0})}};I.prototype._onSpaceButtonOut=function(){var C=Array.from(this._buttonAnimatingStarsTarget.keys());C=$jscomp.makeIterator(C);for(var J=C.next();!J.done;J=C.next())J=J.value,
this._buttonAnimatingStarsTarget.set(J,{target:{targetX:J.position.x,targetY:J.position.y},initial:{initialX:J.sprite.x,initialY:J.sprite.y},progress:0,persistent:!1});this._buttonAnimatingStars.clear();this._addStarsToOldAnimatingStars()};I.prototype._getCloseRectChildren=function(C){var J=C.x,M=C.y,aa=C.width,W=C.height;return x.App.instance.canvas.space.stars.filter(function(V){V=V.sprite;return 40>v.get2DVectorToRectDistance(V.x,V.y,J,M,aa,W)})};I.prototype._getClosePointChildren=function(C){C=
C.data.global;var J=C.x,M=C.y;return x.App.instance.canvas.space.stars.filter(function(aa){aa=aa.sprite;return 40>v.get2DVectorDistance(J,M,aa.x,aa.y)})};I.prototype._addAnimatingStars=function(C,J){J=void 0===J?!1:J;this._addStarsToOldAnimatingStars(C);C=$jscomp.makeIterator(C);for(var M=C.next();!M.done;M=C.next())M=M.value,J&&!this._buttonAnimatingStars.has(M)&&this._buttonAnimatingStars.add(M),this._animatingStars.has(M)||this._animatingStars.add(M)};I.prototype._getButtonAnimatingStarTargets=
function(C,J){var M=[],aa=J.x,W=J.y,V=J.width;J=J.height;for(var ca=aa+V,X=W+J,ea=(2*V+2*J)/C,z=0;z<C;z++){var D=ea*z,p=aa+D,r=W;p>ca&&(D-=V,p=ca,r=W+D);r>X&&(D-=J,r=W+J,p=ca-D);p<aa&&(D-=V,p=aa,r=X-D);D=0;A.isPhone()&&(D=5);p+=10*Math.random()-D;r+=10*Math.random()-D;M.push({targetX:p,targetY:r})}return M};I.prototype._addStarsToOldAnimatingStars=function(C){for(var J=$jscomp.makeIterator(this._animatingStars),M=J.next();!M.done;M=J.next())M=M.value,C&&C.includes(M)||this._buttonAnimatingStars.has(M)||
(this._animatingStars.delete(M),this._oldAnimatingStars.has(M)||this._oldAnimatingStars.add(M))};I.prototype._applyEaseInOutQuad=function(C){return.5>C?2*C*C:1-Math.pow(-2*C+2,2)/2};u.StarAnimationTicker=I;I.ANIMATION_DURATION=50},810:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.AbstractTicker=void 0;t=function(){this._disposed=!1};t.prototype.onDispose=function(){};t.prototype.dispose=function(){this.onDispose();this._disposed=!0};$jscomp.global.Object.defineProperties(t.prototype,
{disposed:{configurable:!0,enumerable:!0,get:function(){return this._disposed}}});u.AbstractTicker=t},379:function(t,u,B){Object.defineProperty(u,"__esModule",{value:!0});u.Ticker=void 0;var v=B(496),K=B(682),A=B(574);t=function(){var G=v.Module.call(this)||this;G._tickers=[];return G};$jscomp.inherits(t,v.Module);t.prototype.onInit=function(){A.Events.on(K.Event.ADD_TICKER,this._addTicker,this)};t.prototype.onDispose=function(){for(var G=$jscomp.makeIterator(this._tickers),x=G.next();!x.done;x=G.next())x.value.dispose()};
t.prototype.update=function(G){this._tickers=this._tickers.filter(function(I){return!I.disposed});for(var x=$jscomp.makeIterator(this._tickers),w=x.next();!w.done;w=x.next())w.value.update(G)};t.prototype._addTicker=function(G){G&&this._tickers.push(G.ticker)};u.Ticker=t},682:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Event=void 0;t=u.Event||(u.Event={});t[t.SPACE_INITIALIZED=0]="SPACE_INITIALIZED";t[t.ADD_TICKER=1]="ADD_TICKER";t[t.ADD_DISPLAY_OBJECT=2]="ADD_DISPLAY_OBJECT";
t[t.SPACE_POINTER_MOVE=3]="SPACE_POINTER_MOVE";t[t.SPACE_POINTER_OUT=4]="SPACE_POINTER_OUT";t[t.SPACE_BUTTON_HOVER=5]="SPACE_BUTTON_HOVER";t[t.SPACE_BUTTON_OUT=6]="SPACE_BUTTON_OUT"},574:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Events=void 0;t=function(){};t.on=function(B,v,K){var A=this._subscriptions.get(B);v=v.bind(K);this._subscriptions.set(B,A?[].concat($jscomp.arrayFromIterable(A),[v]):[v])};t.emit=function(B,v){var K;B=$jscomp.makeIterator(null!=(K=this._subscriptions.get(B))?
K:[]);for(K=B.next();!K.done;K=B.next())K=K.value,K(v)};u.Events=t;t._subscriptions=new Map},677:function(t,u,B){Object.defineProperty(u,"__esModule",{value:!0});u.Layout=void 0;var v=B(496),K=B(682),A=B(574);t=function(){var G=v.Module.call(this)||this;A.Events.on(K.Event.SPACE_INITIALIZED,G._onSpaceInitialized.bind(G));return G};$jscomp.inherits(t,v.Module);t.prototype._onSpaceInitialized=function(){this._displayStartButton();this._bindSpaceButtons()};t.prototype._displayStartButton=function(){var G=
document.getElementById("start-btn");G&&(G.style.opacity="1")};t.prototype._bindSpaceButtons=function(){for(var G=$jscomp.makeIterator(document.querySelectorAll("button[is=space-button]")),x=G.next();!x.done;x=G.next())x=x.value,x instanceof HTMLButtonElement&&(x.addEventListener("mouseover",this._onSpaceButtonHover.bind(this)),x.addEventListener("touchstart",this._onSpaceButtonHover.bind(this)),x.addEventListener("mouseout",this._onSpaceButtonOut.bind(this)),x.addEventListener("touchend",this._onSpaceButtonOut.bind(this)))};
t.prototype._onSpaceButtonHover=function(G){A.Events.emit(K.Event.SPACE_BUTTON_HOVER,{base:G})};t.prototype._onSpaceButtonOut=function(G){A.Events.emit(K.Event.SPACE_BUTTON_OUT,{base:G})};u.Layout=t},496:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Module=void 0;t=function(B){B=void 0===B?[]:B;this._submodules=new Map;B=$jscomp.makeIterator(B);for(var v=B.next();!v.done;v=B.next())v=v.value,this._submodules.set(v.constructor.name,v)};t.prototype.onInit=function(){};t.prototype.init=
function(){this.onInit();for(var B=$jscomp.makeIterator(this._submodules.values()),v=B.next();!v.done;v=B.next())v.value.init()};t.prototype.getSubmodule=function(B){return this._submodules.get(B.name)};t.prototype.onDispose=function(){};t.prototype.dispose=function(){this.onDispose();for(var B=$jscomp.makeIterator(this._submodules.values()),v=B.next();!v.done;v=B.next())v.value.dispose()};u.Module=t},541:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.getBetween=void 0;u.getBetween=
function(B,v){B=Math.ceil(B);return Math.floor(Math.random()*(Math.floor(v)-B+1))+B}},774:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.get2DVectorToRectDistance=u.get2DVectorDistance=void 0;u.get2DVectorDistance=function(B,v,K,A){return Math.sqrt(Math.pow(Math.abs(B-K),2)+Math.pow(Math.abs(v-A),2))};u.get2DVectorToRectDistance=function(B,v,K,A,G,x){return Math.sqrt(Math.pow(Math.max(K-B,0,B-(K+G)),2)+Math.pow(Math.max(A-v,0,v-(A+x)),2))}},67:function(t,u){Object.defineProperty(u,
"__esModule",{value:!0});u.isPhone=void 0;u.isPhone=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(B){return navigator.userAgent.match(B)})}},884:function(t,u,B){t=B.nmd(t);var v;(function(K){function A(z){throw RangeError(ca[z]);}function G(z,D){for(var p=z.length,r=[];p--;)r[p]=D(z[p]);return r}function x(z,D){var p=z.split("@"),r="";1<p.length&&(r=p[0]+"@",z=p[1]);z=z.replace(V,".");z=z.split(".");D=G(z,D).join(".");return r+D}function w(z){for(var D=
[],p=0,r=z.length,F,L;p<r;)F=z.charCodeAt(p++),55296<=F&&56319>=F&&p<r?(L=z.charCodeAt(p++),56320==(L&64512)?D.push(((F&1023)<<10)+(L&1023)+65536):(D.push(F),p--)):D.push(F);return D}function I(z){return G(z,function(D){var p="";65535<D&&(D-=65536,p+=ea(D>>>10&1023|55296),D=56320|D&1023);return p+=ea(D)}).join("")}function C(z,D,p){var r=0;z=p?X(z/700):z>>1;for(z+=X(z/D);455<z;r+=36)z=X(z/35);return X(r+36*z/(z+38))}function J(z){var D=[],p=z.length,r=0,F=128,L=72,Q,R;var ba=z.lastIndexOf("-");0>
ba&&(ba=0);for(Q=0;Q<ba;++Q)128<=z.charCodeAt(Q)&&A("not-basic"),D.push(z.charCodeAt(Q));for(ba=0<ba?ba+1:0;ba<p;){Q=r;var Y=1;for(R=36;;R+=36){ba>=p&&A("invalid-input");var S=z.charCodeAt(ba++);S=10>S-48?S-22:26>S-65?S-65:26>S-97?S-97:36;(36<=S||S>X((2147483647-r)/Y))&&A("overflow");r+=S*Y;var qa=R<=L?1:R>=L+26?26:R-L;if(S<qa)break;S=36-qa;Y>X(2147483647/S)&&A("overflow");Y*=S}Y=D.length+1;L=C(r-Q,Y,0==Q);X(r/Y)>2147483647-F&&A("overflow");F+=X(r/Y);r%=Y;D.splice(r++,0,F)}return I(D)}function M(z){var D,
p,r,F=[];z=w(z);var L=z.length;var Q=128;var R=0;var ba=72;for(r=0;r<L;++r){var Y=z[r];128>Y&&F.push(ea(Y))}for((D=p=F.length)&&F.push("-");D<L;){var S=2147483647;for(r=0;r<L;++r)Y=z[r],Y>=Q&&Y<S&&(S=Y);var qa=D+1;S-Q>X((2147483647-R)/qa)&&A("overflow");R+=(S-Q)*qa;Q=S;for(r=0;r<L;++r)if(Y=z[r],Y<Q&&2147483647<++R&&A("overflow"),Y==Q){var ma=R;for(S=36;;S+=36){Y=S<=ba?1:S>=ba+26?26:S-ba;if(ma<Y)break;var ta=ma-Y;ma=36-Y;var Ba=F;Y+=ta%ma;Ba.push.call(Ba,ea(Y+22+75*(26>Y)-0));ma=X(ta/ma)}F.push(ea(ma+
22+75*(26>ma)-0));ba=C(R,qa,D==p);R=0;++D}++R;++Q}return F.join("")}var aa=/^xn--/,W=/[^\x20-\x7E]/,V=/[\x2E\u3002\uFF0E\uFF61]/g,ca={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=Math.floor,ea=String.fromCharCode;!(v={version:"1.3.2",ucs2:{decode:w,encode:I},decode:J,encode:M,toASCII:function(z){return x(z,function(D){return W.test(D)?"xn--"+M(D):D})},toUnicode:function(z){return x(z,function(D){return aa.test(D)?
J(D.slice(4).toLowerCase()):D})}},void 0!==v&&(t.exports=v))})(this)},760:function(t,u,B){function v(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function K(z,D,p){if(z&&G.isObject(z)&&z instanceof v)return z;var r=new v;r.parse(z,D,p);return r}var A=B(884),G=B(569);u.Qc=K;u.DB=function(z,D){return K(z,!1,!0).resolve(D)};u.WU=function(z){G.isString(z)&&(z=K(z));return z instanceof v?z.format():v.prototype.format.call(z)};
var x=/^([a-z0-9.+-]+:)/i,w=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;t="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var C=["'"].concat(t),J=["%","/","?",";","#"].concat(C),M=["/","?","#"],aa=/^[+a-z0-9A-Z_-]{0,63}$/,W=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,V={javascript:!0,"javascript:":!0},ca={javascript:!0,"javascript:":!0},X={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ea=B(966);v.prototype.parse=function(z,D,p){if(!G.isString(z))throw new TypeError("Parameter 'url' must be a string, not "+
typeof z);var r=z.indexOf("?");r=-1!==r&&r<z.indexOf("#")?"?":"#";z=z.split(r);z[0]=z[0].replace(/\\/g,"/");z=z.join(r);r=z.trim();if(!p&&1===z.split("#").length&&(z=I.exec(r)))return this.href=this.path=r,this.pathname=z[1],z[2]?(this.search=z[2],this.query=D?ea.parse(this.search.substr(1)):this.search.substr(1)):D&&(this.search="",this.query={}),this;if(z=x.exec(r)){z=z[0];var F=z.toLowerCase();this.protocol=F;r=r.substr(z.length)}if(p||z||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var L="//"===r.substr(0,
2);!L||z&&ca[z]||(r=r.substr(2),this.slashes=!0)}if(!ca[z]&&(L||z&&!X[z])){L=-1;for(p=0;p<M.length;p++)z=r.indexOf(M[p]),-1!==z&&(-1===L||z<L)&&(L=z);L=-1===L?r.lastIndexOf("@"):r.lastIndexOf("@",L);-1!==L&&(p=r.slice(0,L),r=r.slice(L+1),this.auth=decodeURIComponent(p));L=-1;for(p=0;p<J.length;p++)z=r.indexOf(J[p]),-1!==z&&(-1===L||z<L)&&(L=z);-1===L&&(L=r.length);this.host=r.slice(0,L);r=r.slice(L);this.parseHost();this.hostname=this.hostname||"";L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-
1];if(!L){var Q=this.hostname.split(/\./);p=0;for(z=Q.length;p<z;p++){var R=Q[p];if(R&&!R.match(aa)){for(var ba="",Y=0,S=R.length;Y<S;Y++)ba=127<R.charCodeAt(Y)?ba+"x":ba+R[Y];if(!ba.match(aa)){z=Q.slice(0,p);p=Q.slice(p+1);if(R=R.match(W))z.push(R[1]),p.unshift(R[2]);p.length&&(r="/"+p.join(".")+r);this.hostname=z.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();L||(this.hostname=A.toASCII(this.hostname));p=this.port?":"+this.port:"";this.host=(this.hostname||
"")+p;this.href+=this.host;L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!V[F])for(p=0,z=C.length;p<z;p++)L=C[p],-1!==r.indexOf(L)&&(R=encodeURIComponent(L),R===L&&(R=escape(L)),r=r.split(L).join(R));p=r.indexOf("#");-1!==p&&(this.hash=r.substr(p),r=r.slice(0,p));p=r.indexOf("?");-1!==p?(this.search=r.substr(p),this.query=r.substr(p+1),D&&(this.query=ea.parse(this.query)),r=r.slice(0,p)):D&&(this.search="",this.query={});r&&(this.pathname=r);X[F]&&this.hostname&&
!this.pathname&&(this.pathname="/");if(this.pathname||this.search)p=this.pathname||"",this.path=p+(this.search||"");this.href=this.format();return this};v.prototype.format=function(){var z=this.auth||"";z&&(z=encodeURIComponent(z),z=z.replace(/%3A/i,":"),z+="@");var D=this.protocol||"",p=this.pathname||"",r=this.hash||"",F=!1,L="";this.host?F=z+this.host:this.hostname&&(F=z+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(F+=":"+this.port));this.query&&G.isObject(this.query)&&
Object.keys(this.query).length&&(L=ea.stringify(this.query));z=this.search||L&&"?"+L||"";D&&":"!==D.substr(-1)&&(D+=":");this.slashes||(!D||X[D])&&!1!==F?(F="//"+(F||""),p&&"/"!==p.charAt(0)&&(p="/"+p)):F||(F="");r&&"#"!==r.charAt(0)&&(r="#"+r);z&&"?"!==z.charAt(0)&&(z="?"+z);p=p.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)});z=z.replace("#","%23");return D+F+p+z+r};v.prototype.resolve=function(z){return this.resolveObject(K(z,!1,!0)).format()};v.prototype.resolveObject=function(z){if(G.isString(z)){var D=
new v;D.parse(z,!1,!0);z=D}D=new v;for(var p=Object.keys(this),r=0;r<p.length;r++){var F=p[r];D[F]=this[F]}D.hash=z.hash;if(""===z.href)return D.href=D.format(),D;if(z.slashes&&!z.protocol){p=Object.keys(z);for(r=0;r<p.length;r++)F=p[r],"protocol"!==F&&(D[F]=z[F]);X[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/");D.href=D.format();return D}if(z.protocol&&z.protocol!==D.protocol){if(!X[z.protocol]){p=Object.keys(z);for(r=0;r<p.length;r++)F=p[r],D[F]=z[F];D.href=D.format();return D}D.protocol=
z.protocol;if(z.host||ca[z.protocol])D.pathname=z.pathname;else{for(var L=(z.pathname||"").split("/");L.length&&!(z.host=L.shift()););z.host||(z.host="");z.hostname||(z.hostname="");""!==L[0]&&L.unshift("");2>L.length&&L.unshift("");D.pathname=L.join("/")}D.search=z.search;D.query=z.query;D.host=z.host||"";D.auth=z.auth;D.hostname=z.hostname||z.host;D.port=z.port;if(D.pathname||D.search)D.path=(D.pathname||"")+(D.search||"");D.slashes=D.slashes||z.slashes;D.href=D.format();return D}p=D.pathname&&
"/"===D.pathname.charAt(0);var Q=z.host||z.pathname&&"/"===z.pathname.charAt(0),R=p=Q||p||D.host&&z.pathname;r=D.pathname&&D.pathname.split("/")||[];L=z.pathname&&z.pathname.split("/")||[];if(F=D.protocol&&!X[D.protocol])D.hostname="",D.port=null,D.host&&(""===r[0]?r[0]=D.host:r.unshift(D.host)),D.host="",z.protocol&&(z.hostname=null,z.port=null,z.host&&(""===L[0]?L[0]=z.host:L.unshift(z.host)),z.host=null),p=p&&(""===L[0]||""===r[0]);if(Q)D.host=z.host||""===z.host?z.host:D.host,D.hostname=z.hostname||
""===z.hostname?z.hostname:D.hostname,D.search=z.search,D.query=z.query,r=L;else if(L.length)r||(r=[]),r.pop(),r=r.concat(L),D.search=z.search,D.query=z.query;else if(!G.isNullOrUndefined(z.search))return F&&(D.hostname=D.host=r.shift(),F=D.host&&0<D.host.indexOf("@")?D.host.split("@"):!1)&&(D.auth=F.shift(),D.host=D.hostname=F.shift()),D.search=z.search,D.query=z.query,G.isNull(D.pathname)&&G.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!r.length)return D.pathname=
null,D.path=D.search?"/"+D.search:null,D.href=D.format(),D;Q=r.slice(-1)[0];L=(D.host||z.host||1<r.length)&&("."===Q||".."===Q)||""===Q;for(var ba=0,Y=r.length;0<=Y;Y--)Q=r[Y],"."===Q?r.splice(Y,1):".."===Q?(r.splice(Y,1),ba++):ba&&(r.splice(Y,1),ba--);if(!p&&!R)for(;ba--;ba)r.unshift("..");!p||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift("");L&&"/"!==r.join("/").substr(-1)&&r.push("");R=""===r[0]||r[0]&&"/"===r[0].charAt(0);F&&(D.hostname=D.host=R?"":r.length?r.shift():"",F=D.host&&0<D.host.indexOf("@")?
D.host.split("@"):!1)&&(D.auth=F.shift(),D.host=D.hostname=F.shift());(p=p||D.host&&r.length)&&!R&&r.unshift("");r.length?D.pathname=r.join("/"):(D.pathname=null,D.path=null);G.isNull(D.pathname)&&G.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:""));D.auth=z.auth||D.auth;D.slashes=D.slashes||z.slashes;D.href=D.format();return D};v.prototype.parseHost=function(){var z=this.host,D=w.exec(z);D&&(D=D[0],":"!==D&&(this.port=D.substr(1)),z=z.substr(0,z.length-D.length));z&&(this.hostname=
z)}},569:function(t){t.exports={isString:function(u){return"string"===typeof u},isObject:function(u){return"object"===typeof u&&null!==u},isNull:function(u){return null===u},isNullOrUndefined:function(u){return null==u}}}},O={};(function(){H.n=function(t){var u=t&&t.__esModule?function(){return t["default"]}:function(){return t};H.d(u,{a:u});return u}})();(function(){H.d=function(t,u){for(var B in u)H.o(u,B)&&!H.o(t,B)&&Object.defineProperty(t,B,{enumerable:!0,get:u[B]})}})();(function(){H.g=function(){if("object"===
typeof globalThis)return globalThis;try{return this||(new Function("return this"))()}catch(t){if("object"===typeof window)return window}}()})();(function(){H.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,u)}})();(function(){H.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})}})();(function(){H.nmd=function(t){t.paths=[];t.children||(t.children=[]);return t}})();
H(947);H(477).App.instance.init()})();}).call(this || window)

//# sourceMappingURL=main.bundle.js.map