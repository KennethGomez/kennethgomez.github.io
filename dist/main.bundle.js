(function(){/*
 @pixi/polyfill - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/polyfill is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/settings - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/settings is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/constants - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/constants is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/utils - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/utils is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/math - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/math is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/display - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/display is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
**************************************************************************** @pixi/accessibility - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/accessibility is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/ticker - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/ticker is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/interaction - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/interaction is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/runner - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/runner is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/core - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/core is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/app - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/app is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/extract - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/extract is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 resource-loader - v3.0.1
 https://github.com/pixijs/pixi-sound
 Compiled Tue, 02 Jul 2019 14:06:18 UTC

 resource-loader is licensed under the MIT license.
 http://www.opensource.org/licenses/mit-license
 @pixi/loaders - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/loaders is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/compressed-textures - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/compressed-textures is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/particles - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/particles is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/graphics - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/graphics is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/sprite is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/text - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/text is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/prepare - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/prepare is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/spritesheet - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/spritesheet is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite-tiling - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/sprite-tiling is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mesh - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/mesh is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/text-bitmap - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/text-bitmap is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-alpha - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-alpha is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-blur - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-blur is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-color-matrix - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-color-matrix is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-displacement - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-displacement is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-fxaa - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-fxaa is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/filter-noise - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/filter-noise is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-cache-as-bitmap - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-get-child-by-name - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/mixin-get-child-by-name is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mixin-get-global-position - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/mixin-get-global-position is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/mesh-extras - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/mesh-extras is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 @pixi/sprite-animated - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 @pixi/sprite-animated is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 pixi.js - v6.0.2
 Compiled Mon, 05 Apr 2021 18:17:46 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.3.2 by @mathias */
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(H){var R=0;return function(){return R<H.length?{done:!1,value:H[R++]}:{done:!0}}};$jscomp.arrayIterator=function(H){return{next:$jscomp.arrayIteratorImpl(H)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(H,R,P){if(H==Array.prototype||H==Object.prototype)return H;H[R]=P.value;return H};$jscomp.getGlobal=function(H){H=["object"==typeof globalThis&&globalThis,H,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var R=0;R<H.length;++R){var P=H[R];if(P&&P.Math==Math)return P}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(H,R){var P=$jscomp.propertyToPolyfillSymbol[R];if(null==P)return H[R];P=H[P];return void 0!==P?P:H[R]};
$jscomp.polyfill=function(H,R,P,t){R&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(H,R,P,t):$jscomp.polyfillUnisolated(H,R,P,t))};$jscomp.polyfillUnisolated=function(H,R,P,t){P=$jscomp.global;H=H.split(".");for(t=0;t<H.length-1;t++){var u=H[t];if(!(u in P))return;P=P[u]}H=H[H.length-1];t=P[H];R=R(t);R!=t&&null!=R&&$jscomp.defineProperty(P,H,{configurable:!0,writable:!0,value:R})};
$jscomp.polyfillIsolated=function(H,R,P,t){var u=H.split(".");H=1===u.length;t=u[0];t=!H&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var A=0;A<u.length-1;A++){var w=u[A];if(!(w in t))return;t=t[w]}u=u[u.length-1];P=$jscomp.IS_SYMBOL_NATIVE&&"es6"===P?t[u]:null;R=R(P);null!=R&&(H?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:R}):R!==P&&(void 0===$jscomp.propertyToPolyfillSymbol[u]&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):
$jscomp.POLYFILL_PREFIX+u),$jscomp.defineProperty(t,$jscomp.propertyToPolyfillSymbol[u],{configurable:!0,writable:!0,value:R})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(H){if(H)return H;var R=function(u,A){this.$jscomp$symbol$id_=u;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:A})};R.prototype.toString=function(){return this.$jscomp$symbol$id_};var P=0,t=function(u){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new R("jscomp_symbol_"+(u||"")+"_"+P++,u)};return t},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(H){if(H)return H;H=Symbol("Symbol.iterator");for(var R="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),P=0;P<R.length;P++){var t=$jscomp.global[R[P]];"function"===typeof t&&"function"!=typeof t.prototype[H]&&$jscomp.defineProperty(t.prototype,H,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return H},"es6",
"es3");$jscomp.iteratorPrototype=function(H){H={next:H};H[Symbol.iterator]=function(){return this};return H};$jscomp.makeIterator=function(H){var R="undefined"!=typeof Symbol&&Symbol.iterator&&H[Symbol.iterator];return R?R.call(H):$jscomp.arrayIterator(H)};$jscomp.arrayFromIterator=function(H){for(var R,P=[];!(R=H.next()).done;)P.push(R.value);return P};$jscomp.arrayFromIterable=function(H){return H instanceof Array?H:$jscomp.arrayFromIterator($jscomp.makeIterator(H))};
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(H){var R=function(){};R.prototype=H;return new R};
$jscomp.getConstructImplementation=function(){function H(){function P(){}new P;Reflect.construct(P,[],function(){});return new P instanceof P}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(H())return Reflect.construct;var R=Reflect.construct;return function(P,t,u){P=R(P,t);u&&Reflect.setPrototypeOf(P,u.prototype);return P}}return function(P,t,u){void 0===u&&(u=P);u=$jscomp.objectCreate(u.prototype||Object.prototype);return Function.prototype.apply.call(P,u,t)||
u}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var H={a:!0},R={};try{return R.__proto__=H,R.a}catch(P){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(H,R){H.__proto__=R;if(H.__proto__!==R)throw new TypeError(H+" is not extensible");return H}:null;
$jscomp.inherits=function(H,R){H.prototype=$jscomp.objectCreate(R.prototype);H.prototype.constructor=H;if($jscomp.setPrototypeOf){var P=$jscomp.setPrototypeOf;P(H,R)}else for(P in R)if("prototype"!=P)if(Object.defineProperties){var t=Object.getOwnPropertyDescriptor(R,P);t&&Object.defineProperty(H,P,t)}else H[P]=R[P];H.superClass_=R.prototype};$jscomp.polyfill("Reflect",function(H){return H?H:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(H){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(H){if(H)return H;if($jscomp.setPrototypeOf){var R=$jscomp.setPrototypeOf;return function(P,t){try{return R(P,t),!0}catch(u){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Array.from",function(H){return H?H:function(R,P,t){P=null!=P?P:function(L){return L};var u=[],A="undefined"!=typeof Symbol&&Symbol.iterator&&R[Symbol.iterator];if("function"==typeof A){R=A.call(R);for(var w=0;!(A=R.next()).done;)u.push(P.call(t,A.value,w++))}else for(A=R.length,w=0;w<A;w++)u.push(P.call(t,R[w],w));return u}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(H){return H?H:function(){return[]}},"es6","es5");
$jscomp.iteratorFromArray=function(H,R){H instanceof String&&(H+="");var P=0,t=!1,u={next:function(){if(!t&&P<H.length){var A=P++;return{value:R(A,H[A]),done:!1}}t=!0;return{done:!0,value:void 0}}};u[Symbol.iterator]=function(){return u};return u};$jscomp.polyfill("Array.prototype.keys",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(R){return R})}},"es6","es3");$jscomp.owns=function(H,R){return Object.prototype.hasOwnProperty.call(H,R)};
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(H,R){for(var P=1;P<arguments.length;P++){var t=arguments[P];if(t)for(var u in t)$jscomp.owns(t,u)&&(H[u]=t[u])}return H};$jscomp.polyfill("Object.assign",function(H){return H||$jscomp.assign},"es6","es3");$jscomp.polyfill("Math.sign",function(H){return H?H:function(R){R=Number(R);return 0===R||isNaN(R)?R:0<R?1:-1}},"es6","es3");
$jscomp.polyfill("Object.setPrototypeOf",function(H){return H||$jscomp.setPrototypeOf},"es6","es5");$jscomp.polyfill("Number.isFinite",function(H){return H?H:function(R){return"number"!==typeof R?!1:!isNaN(R)&&Infinity!==R&&-Infinity!==R}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(H){return H?H:function(R){return Number.isFinite(R)?R===Math.floor(R):!1}},"es6","es3");
$jscomp.polyfill("Promise",function(H){function R(){this.batch_=null}function P(w){return w instanceof u?w:new u(function(L,B){L(w)})}if(H&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return H;R.prototype.asyncExecute=function(w){if(null==this.batch_){this.batch_=[];var L=this;this.asyncExecuteFunction(function(){L.executeBatch_()})}this.batch_.push(w)};
var t=$jscomp.global.setTimeout;R.prototype.asyncExecuteFunction=function(w){t(w,0)};R.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var w=this.batch_;this.batch_=[];for(var L=0;L<w.length;++L){var B=w[L];w[L]=null;try{B()}catch(G){this.asyncThrow_(G)}}}this.batch_=null};R.prototype.asyncThrow_=function(w){this.asyncExecuteFunction(function(){throw w;})};var u=function(w){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var L=this.createResolveAndReject_();
try{w(L.resolve,L.reject)}catch(B){L.reject(B)}};u.prototype.createResolveAndReject_=function(){function w(G){return function(y){B||(B=!0,G.call(L,y))}}var L=this,B=!1;return{resolve:w(this.resolveTo_),reject:w(this.reject_)}};u.prototype.resolveTo_=function(w){if(w===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.settleSameAsPromise_(w);else{a:switch(typeof w){case "object":var L=null!=w;break a;case "function":L=!0;break a;default:L=!1}L?this.resolveToNonPromiseObj_(w):
this.fulfill_(w)}};u.prototype.resolveToNonPromiseObj_=function(w){var L=void 0;try{L=w.then}catch(B){this.reject_(B);return}"function"==typeof L?this.settleSameAsThenable_(L,w):this.fulfill_(w)};u.prototype.reject_=function(w){this.settle_(2,w)};u.prototype.fulfill_=function(w){this.settle_(1,w)};u.prototype.settle_=function(w,L){if(0!=this.state_)throw Error("Cannot settle("+w+", "+L+"): Promise already settled in state"+this.state_);this.state_=w;this.result_=L;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};u.prototype.scheduleUnhandledRejectionCheck_=function(){var w=this;t(function(){if(w.notifyUnhandledRejection_()){var L=$jscomp.global.console;"undefined"!==typeof L&&L.error(w.result_)}},1)};u.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var w=$jscomp.global.CustomEvent,L=$jscomp.global.Event,B=$jscomp.global.dispatchEvent;if("undefined"===typeof B)return!0;"function"===typeof w?w=new w("unhandledrejection",{cancelable:!0}):
"function"===typeof L?w=new L("unhandledrejection",{cancelable:!0}):(w=$jscomp.global.document.createEvent("CustomEvent"),w.initCustomEvent("unhandledrejection",!1,!0,w));w.promise=this;w.reason=this.result_;return B(w)};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var w=0;w<this.onSettledCallbacks_.length;++w)A.asyncExecute(this.onSettledCallbacks_[w]);this.onSettledCallbacks_=null}};var A=new R;u.prototype.settleSameAsPromise_=function(w){var L=this.createResolveAndReject_();
w.callWhenSettled_(L.resolve,L.reject)};u.prototype.settleSameAsThenable_=function(w,L){var B=this.createResolveAndReject_();try{w.call(L,B.resolve,B.reject)}catch(G){B.reject(G)}};u.prototype.then=function(w,L){function B(I,C){return"function"==typeof I?function(K){try{G(I(K))}catch(N){y(N)}}:C}var G,y,x=new u(function(I,C){G=I;y=C});this.callWhenSettled_(B(w,G),B(L,y));return x};u.prototype.catch=function(w){return this.then(void 0,w)};u.prototype.callWhenSettled_=function(w,L){function B(){switch(G.state_){case 1:w(G.result_);
break;case 2:L(G.result_);break;default:throw Error("Unexpected state: "+G.state_);}}var G=this;null==this.onSettledCallbacks_?A.asyncExecute(B):this.onSettledCallbacks_.push(B);this.isRejectionHandled_=!0};u.resolve=P;u.reject=function(w){return new u(function(L,B){B(w)})};u.race=function(w){return new u(function(L,B){for(var G=$jscomp.makeIterator(w),y=G.next();!y.done;y=G.next())P(y.value).callWhenSettled_(L,B)})};u.all=function(w){var L=$jscomp.makeIterator(w),B=L.next();return B.done?P([]):new u(function(G,
y){function x(K){return function(N){I[K]=N;C--;0==C&&G(I)}}var I=[],C=0;do I.push(void 0),C++,P(B.value).callWhenSettled_(x(I.length-1),y),B=L.next();while(!B.done)})};return u},"es6","es3");$jscomp.polyfill("String.prototype.trimRight",function(H){function R(){return this.replace(/[\s\xa0]+$/,"")}return H||R},"es_2019","es3");
$jscomp.polyfill("Array.prototype.fill",function(H){return H?H:function(R,P,t){var u=this.length||0;0>P&&(P=Math.max(0,u+P));if(null==t||t>u)t=u;t=Number(t);0>t&&(t=Math.max(0,u+t));for(P=Number(P||0);P<t;P++)this[P]=R;return this}},"es6","es3");$jscomp.typedArrayFill=function(H){return H?H:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Object.values",function(H){return H?H:function(R){var P=[],t;for(t in R)$jscomp.owns(R,t)&&P.push(R[t]);return P}},"es8","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var H={},R=Object.create(new $jscomp.global.Proxy(H,{get:function(P,t,u){return P==H&&"q"==t&&u==R}}));return!0===R.q}catch(P){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(H){function R(){if(!H||!Object.seal)return!1;try{var G=Object.seal({}),y=Object.seal({}),x=new H([[G,2],[y,3]]);if(2!=x.get(G)||3!=x.get(y))return!1;x.delete(G);x.set(y,4);return!x.has(G)&&4==x.get(y)}catch(I){return!1}}function P(){}function t(G){var y=typeof G;return"object"===y&&null!==G||"function"===y}function u(G){if(!$jscomp.owns(G,w)){var y=new P;$jscomp.defineProperty(G,w,{value:y})}}function A(G){if(!$jscomp.ISOLATE_POLYFILLS){var y=Object[G];y&&(Object[G]=
function(x){if(x instanceof P)return x;Object.isExtensible(x)&&u(x);return y(x)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(R())return H;var w="$jscomp_hidden_"+Math.random();A("freeze");A("preventExtensions");A("seal");var L=0,B=function(G){this.id_=(L+=Math.random()+1).toString();if(G){G=$jscomp.makeIterator(G);for(var y;!(y=G.next()).done;)y=y.value,this.set(y[0],y[1])}};B.prototype.set=function(G,y){if(!t(G))throw Error("Invalid WeakMap key");
u(G);if(!$jscomp.owns(G,w))throw Error("WeakMap key fail: "+G);G[w][this.id_]=y;return this};B.prototype.get=function(G){return t(G)&&$jscomp.owns(G,w)?G[w][this.id_]:void 0};B.prototype.has=function(G){return t(G)&&$jscomp.owns(G,w)&&$jscomp.owns(G[w],this.id_)};B.prototype.delete=function(G){return t(G)&&$jscomp.owns(G,w)&&$jscomp.owns(G[w],this.id_)?delete G[w][this.id_]:!1};return B},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(H){function R(){if($jscomp.ASSUME_NO_NATIVE_MAP||!H||"function"!=typeof H||!H.prototype.entries||"function"!=typeof Object.seal)return!1;try{var B=Object.seal({x:4}),G=new H($jscomp.makeIterator([[B,"s"]]));if("s"!=G.get(B)||1!=G.size||G.get({x:4})||G.set({x:4},"t")!=G||2!=G.size)return!1;var y=G.entries(),x=y.next();if(x.done||x.value[0]!=B||"s"!=x.value[1])return!1;x=y.next();return x.done||4!=x.value[0].x||"t"!=x.value[1]||!y.next().done?!1:!0}catch(I){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(R())return H;var P=new WeakMap,t=function(B){this.data_={};this.head_=w();this.size=0;if(B){B=$jscomp.makeIterator(B);for(var G;!(G=B.next()).done;)G=G.value,this.set(G[0],G[1])}};t.prototype.set=function(B,G){B=0===B?0:B;var y=u(this,B);y.list||(y.list=this.data_[y.id]=[]);y.entry?y.entry.value=G:(y.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:B,value:G},y.list.push(y.entry),
this.head_.previous.next=y.entry,this.head_.previous=y.entry,this.size++);return this};t.prototype.delete=function(B){B=u(this,B);return B.entry&&B.list?(B.list.splice(B.index,1),B.list.length||delete this.data_[B.id],B.entry.previous.next=B.entry.next,B.entry.next.previous=B.entry.previous,B.entry.head=null,this.size--,!0):!1};t.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=w();this.size=0};t.prototype.has=function(B){return!!u(this,B).entry};t.prototype.get=function(B){return(B=
u(this,B).entry)&&B.value};t.prototype.entries=function(){return A(this,function(B){return[B.key,B.value]})};t.prototype.keys=function(){return A(this,function(B){return B.key})};t.prototype.values=function(){return A(this,function(B){return B.value})};t.prototype.forEach=function(B,G){for(var y=this.entries(),x;!(x=y.next()).done;)x=x.value,B.call(G,x[1],x[0],this)};t.prototype[Symbol.iterator]=t.prototype.entries;var u=function(B,G){var y=G&&typeof G;"object"==y||"function"==y?P.has(G)?y=P.get(G):
(y=""+ ++L,P.set(G,y)):y="p_"+G;var x=B.data_[y];if(x&&$jscomp.owns(B.data_,y))for(B=0;B<x.length;B++){var I=x[B];if(G!==G&&I.key!==I.key||G===I.key)return{id:y,list:x,index:B,entry:I}}return{id:y,list:x,index:-1,entry:void 0}},A=function(B,G){var y=B.head_;return $jscomp.iteratorPrototype(function(){if(y){for(;y.head!=B.head_;)y=y.previous;for(;y.next!=y.head;)return y=y.next,{done:!1,value:G(y)};y=null}return{done:!0,value:void 0}})},w=function(){var B={};return B.previous=B.next=B.head=B},L=0;
return t},"es6","es3");
$jscomp.polyfill("Set",function(H){function R(){if($jscomp.ASSUME_NO_NATIVE_SET||!H||"function"!=typeof H||!H.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),u=new H($jscomp.makeIterator([t]));if(!u.has(t)||1!=u.size||u.add(t)!=u||1!=u.size||u.add({x:4})!=u||2!=u.size)return!1;var A=u.entries(),w=A.next();if(w.done||w.value[0]!=t||w.value[1]!=t)return!1;w=A.next();return w.done||w.value[0]==t||4!=w.value[0].x||w.value[1]!=w.value[0]?!1:A.next().done}catch(L){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(H&&$jscomp.ES6_CONFORMANCE)return H}else if(R())return H;var P=function(t){this.map_=new Map;if(t){t=$jscomp.makeIterator(t);for(var u;!(u=t.next()).done;)this.add(u.value)}this.size=this.map_.size};P.prototype.add=function(t){t=0===t?0:t;this.map_.set(t,t);this.size=this.map_.size;return this};P.prototype.delete=function(t){t=this.map_.delete(t);this.size=this.map_.size;return t};P.prototype.clear=function(){this.map_.clear();this.size=0};P.prototype.has=
function(t){return this.map_.has(t)};P.prototype.entries=function(){return this.map_.entries()};P.prototype.values=function(){return this.map_.values()};P.prototype.keys=P.prototype.values;P.prototype[Symbol.iterator]=P.prototype.values;P.prototype.forEach=function(t,u){var A=this;this.map_.forEach(function(w){return t.call(u,w,w,A)})};return P},"es6","es3");$jscomp.polyfill("Object.is",function(H){return H?H:function(R,P){return R===P?0!==R||1/R===1/P:R!==R&&P!==P}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(H){return H?H:function(R,P){var t=this;t instanceof String&&(t=String(t));var u=t.length;P=P||0;for(0>P&&(P=Math.max(P+u,0));P<u;P++){var A=t[P];if(A===R||Object.is(A,R))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(H,R,P){if(null==H)throw new TypeError("The 'this' value for String.prototype."+P+" must not be null or undefined");if(R instanceof RegExp)throw new TypeError("First argument to String.prototype."+P+" must not be a regular expression");return H+""};$jscomp.polyfill("String.prototype.includes",function(H){return H?H:function(R,P){return-1!==$jscomp.checkStringArgs(this,R,"includes").indexOf(R,P||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(R,P){return P})}},"es8","es3");
(function(){function H(t){var u=P[t];if(void 0!==u)return u.exports;u=P[t]={id:t,loaded:!1,exports:{}};R[t].call(u.exports,u,u.exports,H);u.loaded=!0;return u.exports}var R={520:function(t){function u(){}function A(x,I,C){this.fn=x;this.context=I;this.once=C||!1}function w(x,I,C,K,N){if("function"!==typeof C)throw new TypeError("The listener must be a function");C=new A(C,K||x,N);I=y?y+I:I;x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],C]:x._events[I].push(C):(x._events[I]=C,x._eventsCount++);
return x}function L(x,I){0===--x._eventsCount?x._events=new u:delete x._events[I]}function B(){this._events=new u;this._eventsCount=0}var G=Object.prototype.hasOwnProperty,y="~";Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(y=!1));B.prototype.eventNames=function(){var x=[],I,C;if(0===this._eventsCount)return x;for(C in I=this._events)G.call(I,C)&&x.push(y?C.slice(1):C);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(I)):x};B.prototype.listeners=function(x){x=
this._events[y?y+x:x];if(!x)return[];if(x.fn)return[x.fn];for(var I=0,C=x.length,K=Array(C);I<C;I++)K[I]=x[I].fn;return K};B.prototype.listenerCount=function(x){return(x=this._events[y?y+x:x])?x.fn?1:x.length:0};B.prototype.emit=function(x,I,C,K,N,ba){var X=y?y+x:x;if(!this._events[X])return!1;X=this._events[X];var W=arguments.length,ea;if(X.fn){X.once&&this.removeListener(x,X.fn,void 0,!0);switch(W){case 1:return X.fn.call(X.context),!0;case 2:return X.fn.call(X.context,I),!0;case 3:return X.fn.call(X.context,
I,C),!0;case 4:return X.fn.call(X.context,I,C,K),!0;case 5:return X.fn.call(X.context,I,C,K,N),!0;case 6:return X.fn.call(X.context,I,C,K,N,ba),!0}var Y=1;for(ea=Array(W-1);Y<W;Y++)ea[Y-1]=arguments[Y];X.fn.apply(X.context,ea)}else{var ia=X.length;for(Y=0;Y<ia;Y++)switch(X[Y].once&&this.removeListener(x,X[Y].fn,void 0,!0),W){case 1:X[Y].fn.call(X[Y].context);break;case 2:X[Y].fn.call(X[Y].context,I);break;case 3:X[Y].fn.call(X[Y].context,I,C);break;case 4:X[Y].fn.call(X[Y].context,I,C,K);break;default:if(!ea){var z=
1;for(ea=Array(W-1);z<W;z++)ea[z-1]=arguments[z]}X[Y].fn.apply(X[Y].context,ea)}}return!0};B.prototype.on=function(x,I,C){return w(this,x,I,C,!1)};B.prototype.once=function(x,I,C){return w(this,x,I,C,!0)};B.prototype.removeListener=function(x,I,C,K){x=y?y+x:x;if(!this._events[x])return this;if(!I)return L(this,x),this;var N=this._events[x];if(N.fn)N.fn!==I||K&&!N.once||C&&N.context!==C||L(this,x);else{for(var ba=0,X=[],W=N.length;ba<W;ba++)(N[ba].fn!==I||K&&!N[ba].once||C&&N[ba].context!==C)&&X.push(N[ba]);
X.length?this._events[x]=1===X.length?X[0]:X:L(this,x)}return this};B.prototype.removeAllListeners=function(x){x?(x=y?y+x:x,this._events[x]&&L(this,x)):(this._events=new u,this._eventsCount=0);return this};B.prototype.off=B.prototype.removeListener;B.prototype.addListener=B.prototype.on;B.prefixed=y;B.EventEmitter=B;t.exports=B},660:function(t,u,A){A.d(u,{Z:function(){return L}});u=A(994);u=A.n(u);var w=A(476);A=A.n(w)()(u());A.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;200;300;400;500&display=swap);"]);
A.push([t.id,'#background-canvas{position:absolute;top:0;left:0;z-index:-1}.btn{font-size:20px;font-weight:300;outline:none;background:transparent;color:#fff;border:1px solid #fff;padding:.5rem 3rem;letter-spacing:.1em;transition:transform 150ms ease-in-out,background-color 100ms ease-in-out}.btn:before{content:"";width:100%;height:100%;border:1px solid #fff;border-top:none;border-left:none;position:absolute;top:4px;left:4px;transition:transform 200ms ease-in-out}.btn:hover{background:rgba(255,255,255,.1);transform:translate(4px, 4px)}.btn:hover::before{transform:translate(-4px, -4px)}.btn#start-btn{margin:auto;position:absolute;left:0;right:0;top:0;bottom:0;height:45px;transition:transform 150ms ease-in-out,background-color 100ms ease-in-out,opacity 500ms ease-in-out}*{font-family:Roboto Mono,sans-serif}body{color:rgba(255,255,255,.8);background:#333;margin:0;padding:0;overflow:hidden}',
"",{version:3,sources:["webpack://./../components/canvas/canvas.sass","webpack://./../components/buttons/buttons.sass","webpack://./../mixins.sass","webpack://./../page.sass"],names:[],mappings:"AAAA,mBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CCFF,KAGE,cAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,UAAA,CACA,qBAAA,CACA,kBAAA,CACA,mBAAA,CAEA,yEAXiB,CAajB,YACE,UAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,sCAAA,CAGF,WACE,+BAAA,CACA,6BAAA,CAEA,mBACE,+BAAA,CAEJ,eCnCA,WAAA,CACA,iBAAA,CACA,MAAA,CACA,OAAA,CACA,KAAA,CACA,QAAA,CACA,WD8BmB,CAEjB,mGAAA,CEvCJ,EACE,kCAAA,CAEF,KACE,0BAAA,CACA,eAAA,CACA,QAAA,CACA,SAAA,CACA,eAAA",
sourcesContent:["#background-canvas\r\n  position: absolute\r\n  top: 0\r\n  left: 0\r\n  z-index: -1\r\n","@import \"../../mixins\"\r\n\r\n.btn\r\n  $btn-transition: transform 150ms ease-in-out, background-color 100ms ease-in-out\r\n\r\n  font-size: 20px\r\n  font-weight: 300\r\n  outline: none\r\n  background: transparent\r\n  color: white\r\n  border: 1px solid white\r\n  padding: 0.5rem 3rem\r\n  letter-spacing: 0.1em\r\n\r\n  transition: $btn-transition\r\n\r\n  &:before\r\n    content: ''\r\n    width: 100%\r\n    height: 100%\r\n    border: 1px solid white\r\n    border-top: none\r\n    border-left: none\r\n    position: absolute\r\n    top: 4px\r\n    left: 4px\r\n    transition: transform 200ms ease-in-out\r\n\r\n\r\n  &:hover\r\n    background: rgba(255, 255, 255, 0.1)\r\n    transform: translate(4px, 4px)\r\n\r\n    &::before\r\n      transform: translate(-4px, -4px)\r\n\r\n  &#start-btn\r\n    +absolute-center(45px)\r\n\r\n    transition: $btn-transition, opacity 500ms ease-in-out\r\n",
"=absolute-center($width: fit-content)\r\n  margin: auto\r\n  position: absolute\r\n  left: 0\r\n  right: 0\r\n  top: 0\r\n  bottom: 0\r\n  height: $width\r\n","*\r\n  font-family: Roboto Mono, sans-serif\r\n\r\nbody\r\n  color: transparentize(white, 0.2)\r\n  background: #333\r\n  margin: 0\r\n  padding: 0\r\n  overflow: hidden\r\n"],sourceRoot:""}]);var L=A},476:function(t){t.exports=function(u){var A=[];A.toString=function(){return this.map(function(w){var L=u(w);return w[2]?"@media ".concat(w[2],
" {").concat(L,"}"):L}).join("")};A.i=function(w,L,B){"string"===typeof w&&(w=[[null,w,""]]);var G={};if(B)for(var y=0;y<this.length;y++){var x=this[y][0];null!=x&&(G[x]=!0)}for(y=0;y<w.length;y++)x=[].concat(w[y]),B&&G[x[0]]||(L&&(x[2]=x[2]?"".concat(L," and ").concat(x[2]):L),A.push(x))};return A}},994:function(t){function u(w,L){var B=Array.isArray(w)?w:void 0;if(!B)if("undefined"!==typeof Symbol&&Symbol.iterator in Object(w)){B=[];var G=!0,y=!1,x=void 0;try{for(var I=w[Symbol.iterator](),C;!(G=
(C=I.next()).done)&&(B.push(C.value),!L||B.length!==L);G=!0);}catch(K){y=!0,x=K}finally{try{if(!G&&null!=I["return"])I["return"]()}finally{if(y)throw x;}}}else B=void 0;if(!(I=B))a:{if(w){if("string"===typeof w){I=A(w,L);break a}I=Object.prototype.toString.call(w).slice(8,-1);"Object"===I&&w.constructor&&(I=w.constructor.name);if("Map"===I||"Set"===I){I=Array.from(w);break a}if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)){I=A(w,L);break a}}I=void 0}if(!(w=I))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return w}function A(w,L){if(null==L||L>w.length)L=w.length;for(var B=0,G=Array(L);B<L;B++)G[B]=w[B];return G}t.exports=function(w){var L=u(w,4);w=L[1];var B=L[3];if("function"===typeof btoa){L=btoa(unescape(encodeURIComponent(JSON.stringify(B))));L="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(L);L="/*# ".concat(L," */");var G=B.sources.map(function(y){return"/*# sourceURL=".concat(B.sourceRoot||"").concat(y," */")});return[w].concat(G).concat([L]).join("\n")}return[w].join("\n")}},
106:function(t){function u(q,r,F){F=F||2;var M=r&&r.length,S=M?r[0]*F:q.length,U=A(q,0,S,F,!0),ca=[];if(!U||U.next===U.prev)return ca;var Z;if(M){var V=F;M=[];var sa;var pa=0;for(sa=r.length;pa<sa;pa++){var va=r[pa]*V;var Ga=pa<sa-1?r[pa+1]*V:q.length;va=A(q,va,Ga,V,!1);va===va.next&&(va.steiner=!0);Ga=M;var Qa=Ga.push,fa=va,qa=va;do{if(fa.x<qa.x||fa.x===qa.x&&fa.y<qa.y)qa=fa;fa=fa.next}while(fa!==va);Qa.call(Ga,qa)}M.sort(G);for(pa=0;pa<M.length;pa++){V=M[pa];r=U;if(r=y(V,r))V=ea(r,V),w(r,r.next),
w(V,V.next);U=w(U,U.next)}}if(q.length>80*F){var Sb=Z=q[0];var Eb=M=q[1];for(V=F;V<S;V+=F)pa=q[V],r=q[V+1],pa<Sb&&(Sb=pa),r<Eb&&(Eb=r),pa>Z&&(Z=pa),r>M&&(M=r);Z=Math.max(Z-Sb,M-Eb);Z=0!==Z?1/Z:0}L(U,ca,F,Sb,Eb,Z);return ca}function A(q,r,F,M,S){if(S===0<D(q,r,F,M))for(S=r;S<F;S+=M)var U=Y(S,q[S],q[S+1],U);else for(S=F-M;S>=r;S-=M)U=Y(S,q[S],q[S+1],U);U&&K(U,U.next)&&(ia(U),U=U.next);return U}function w(q,r){if(!q)return q;r||(r=q);do{var F=!1;if(q.steiner||!K(q,q.next)&&0!==C(q.prev,q,q.next))q=q.next;
else{ia(q);q=r=q.prev;if(q===q.next)break;F=!0}}while(F||q!==r);return r}function L(q,r,F,M,S,U,ca){if(q){if(!ca&&U){var Z=q,V=Z;do null===V.z&&(V.z=x(V.x,V.y,M,S,U)),V.prevZ=V.prev,V=V.nextZ=V.next;while(V!==Z);V.prevZ.nextZ=null;V.prevZ=null;Z=V;var sa,pa,va,Ga,Qa=1;do{V=Z;var fa=Z=null;for(pa=0;V;){pa++;var qa=V;for(sa=va=0;sa<Qa&&(va++,qa=qa.nextZ,qa);sa++);for(Ga=Qa;0<va||0<Ga&&qa;)0!==va&&(0===Ga||!qa||V.z<=qa.z)?(sa=V,V=V.nextZ,va--):(sa=qa,qa=qa.nextZ,Ga--),fa?fa.nextZ=sa:Z=sa,sa.prevZ=fa,
fa=sa;V=qa}fa.nextZ=null;Qa*=2}while(1<pa)}for(Z=q;q.prev!==q.next;){V=q.prev;qa=q.next;if(U)fa=B(q,M,S,U);else a:if(fa=q,pa=fa.prev,va=fa,Qa=fa.next,0<=C(pa,va,Qa))fa=!1;else{for(sa=fa.next.next;sa!==fa.prev;){if(I(pa.x,pa.y,va.x,va.y,Qa.x,Qa.y,sa.x,sa.y)&&0<=C(sa.prev,sa,sa.next)){fa=!1;break a}sa=sa.next}fa=!0}if(fa)r.push(V.i/F),r.push(q.i/F),r.push(qa.i/F),ia(q),Z=q=qa.next;else if(q=qa,q===Z){if(!ca)L(w(q),r,F,M,S,U,1);else if(1===ca){q=w(q);ca=r;Z=F;V=q;do qa=V.prev,fa=V.next.next,!K(qa,fa)&&
N(qa,V,V.next,fa)&&W(qa,fa)&&W(fa,qa)&&(ca.push(qa.i/Z),ca.push(V.i/Z),ca.push(fa.i/Z),ia(V),ia(V.next),V=q=fa),V=V.next;while(V!==q);q=w(V);L(q,r,F,M,S,U,2)}else if(2===ca)a:{ca=q;do{for(Z=ca.next.next;Z!==ca.prev;){if(V=ca.i!==Z.i){V=ca;qa=Z;if(fa=V.next.i!==qa.i&&V.prev.i!==qa.i){b:{fa=V;do{if(fa.i!==V.i&&fa.next.i!==V.i&&fa.i!==qa.i&&fa.next.i!==qa.i&&N(fa,fa.next,V,qa)){fa=!0;break b}fa=fa.next}while(fa!==V);fa=!1}fa=!fa}if(fa){if(fa=W(V,qa)&&W(qa,V)){fa=V;pa=!1;va=(V.x+qa.x)/2;Qa=(V.y+qa.y)/
2;do fa.y>Qa!==fa.next.y>Qa&&fa.next.y!==fa.y&&va<(fa.next.x-fa.x)*(Qa-fa.y)/(fa.next.y-fa.y)+fa.x&&(pa=!pa),fa=fa.next;while(fa!==V);fa=pa}fa=fa&&(C(V.prev,V,qa.prev)||C(V,qa.prev,qa))||K(V,qa)&&0<C(V.prev,V,V.next)&&0<C(qa.prev,qa,qa.next)}V=fa}if(V){q=ea(ca,Z);ca=w(ca,ca.next);q=w(q,q.next);L(ca,r,F,M,S,U);L(q,r,F,M,S,U);break a}Z=Z.next}ca=ca.next}while(ca!==q)}break}}}}function B(q,r,F,M){var S=q.prev,U=q.next;if(0<=C(S,q,U))return!1;var ca=S.x>q.x?S.x>U.x?S.x:U.x:q.x>U.x?q.x:U.x,Z=S.y>q.y?S.y>
U.y?S.y:U.y:q.y>U.y?q.y:U.y,V=x(S.x<q.x?S.x<U.x?S.x:U.x:q.x<U.x?q.x:U.x,S.y<q.y?S.y<U.y?S.y:U.y:q.y<U.y?q.y:U.y,r,F,M);r=x(ca,Z,r,F,M);F=q.prevZ;for(M=q.nextZ;F&&F.z>=V&&M&&M.z<=r;){if(F!==q.prev&&F!==q.next&&I(S.x,S.y,q.x,q.y,U.x,U.y,F.x,F.y)&&0<=C(F.prev,F,F.next))return!1;F=F.prevZ;if(M!==q.prev&&M!==q.next&&I(S.x,S.y,q.x,q.y,U.x,U.y,M.x,M.y)&&0<=C(M.prev,M,M.next))return!1;M=M.nextZ}for(;F&&F.z>=V;){if(F!==q.prev&&F!==q.next&&I(S.x,S.y,q.x,q.y,U.x,U.y,F.x,F.y)&&0<=C(F.prev,F,F.next))return!1;
F=F.prevZ}for(;M&&M.z<=r;){if(M!==q.prev&&M!==q.next&&I(S.x,S.y,q.x,q.y,U.x,U.y,M.x,M.y)&&0<=C(M.prev,M,M.next))return!1;M=M.nextZ}return!0}function G(q,r){return q.x-r.x}function y(q,r){var F=r,M=q.x,S=q.y,U=-Infinity;do{if(S<=F.y&&S>=F.next.y&&F.next.y!==F.y){var ca=F.x+(S-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(ca<=M&&ca>U){U=ca;if(ca===M){if(S===F.y)return F;if(S===F.next.y)return F.next}var Z=F.x<F.next.x?F:F.next}}F=F.next}while(F!==r);if(!Z)return null;if(M===U)return Z;r=Z;ca=Z.x;var V=Z.y,
sa=Infinity;F=Z;do{if(M>=F.x&&F.x>=ca&&M!==F.x&&I(S<V?M:U,S,ca,V,S<V?U:M,S,F.x,F.y)){var pa=Math.abs(S-F.y)/(M-F.x);var va;if((va=W(F,q))&&!(va=pa<sa)&&(va=pa===sa)&&!(va=F.x>Z.x)&&(va=F.x===Z.x)){va=Z;var Ga=F;va=0>C(va.prev,va,Ga.prev)&&0>C(Ga.next,va,va.next)}va&&(Z=F,sa=pa)}F=F.next}while(F!==r);return Z}function x(q,r,F,M,S){q=32767*(q-F)*S;r=32767*(r-M)*S;q=(q|q<<8)&16711935;q=(q|q<<4)&252645135;q=(q|q<<2)&858993459;r=(r|r<<8)&16711935;r=(r|r<<4)&252645135;r=(r|r<<2)&858993459;return(q|q<<1)&
1431655765|((r|r<<1)&1431655765)<<1}function I(q,r,F,M,S,U,ca,Z){return 0<=(S-ca)*(r-Z)-(q-ca)*(U-Z)&&0<=(q-ca)*(M-Z)-(F-ca)*(r-Z)&&0<=(F-ca)*(U-Z)-(S-ca)*(M-Z)}function C(q,r,F){return(r.y-q.y)*(F.x-r.x)-(r.x-q.x)*(F.y-r.y)}function K(q,r){return q.x===r.x&&q.y===r.y}function N(q,r,F,M){var S=X(C(q,r,F)),U=X(C(q,r,M)),ca=X(C(F,M,q)),Z=X(C(F,M,r));return S!==U&&ca!==Z||0===S&&ba(q,F,r)||0===U&&ba(q,M,r)||0===ca&&ba(F,q,M)||0===Z&&ba(F,r,M)?!0:!1}function ba(q,r,F){return r.x<=Math.max(q.x,F.x)&&r.x>=
Math.min(q.x,F.x)&&r.y<=Math.max(q.y,F.y)&&r.y>=Math.min(q.y,F.y)}function X(q){return 0<q?1:0>q?-1:0}function W(q,r){return 0>C(q.prev,q,q.next)?0<=C(q,r,q.next)&&0<=C(q,q.prev,r):0>C(q,r,q.prev)||0>C(q,q.next,r)}function ea(q,r){var F=new z(q.i,q.x,q.y),M=new z(r.i,r.x,r.y),S=q.next,U=r.prev;q.next=r;r.prev=q;F.next=S;S.prev=F;M.next=F;F.prev=M;U.next=M;M.prev=U;return M}function Y(q,r,F,M){q=new z(q,r,F);M?(q.next=M.next,q.prev=M,M.next.prev=q,M.next=q):(q.prev=q,q.next=q);return q}function ia(q){q.next.prev=
q.prev;q.prev.next=q.next;q.prevZ&&(q.prevZ.nextZ=q.nextZ);q.nextZ&&(q.nextZ.prevZ=q.prevZ)}function z(q,r,F){this.i=q;this.x=r;this.y=F;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function D(q,r,F,M){for(var S=0,U=F-M;r<F;r+=M)S+=(q[U]-q[r])*(q[r+1]+q[U+1]),U=r;return S}t.exports=u;t.exports.default=u;u.deviation=function(q,r,F,M){var S=r&&r.length,U=Math.abs(D(q,0,S?r[0]*F:q.length,F));if(S){S=0;for(var ca=r.length;S<ca;S++)U-=Math.abs(D(q,r[S]*F,S<ca-1?r[S+1]*F:q.length,
F))}for(S=r=0;S<M.length;S+=3){ca=M[S]*F;var Z=M[S+1]*F,V=M[S+2]*F;r+=Math.abs((q[ca]-q[V])*(q[Z+1]-q[ca+1])-(q[ca]-q[Z])*(q[V+1]-q[ca+1]))}return 0===U&&0===r?0:Math.abs((r-U)/U)};u.flatten=function(q){for(var r=q[0][0].length,F={vertices:[],holes:[],dimensions:r},M=0,S=0;S<q.length;S++){for(var U=0;U<q[S].length;U++)for(var ca=0;ca<r;ca++)F.vertices.push(q[S][U][ca]);0<S&&(M+=q[S-1].length,F.holes.push(M))}return F}},552:function(t,u){function A(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function");
}function w(y,x){y._head?(y._tail._next=x,x._prev=y._tail):y._head=x;y._tail=x;x._owner=y;return x}Object.defineProperty(u,"__esModule",{value:!0});var L=function(){function y(x,I){for(var C=0;C<I.length;C++){var K=I[C];K.enumerable=K.enumerable||!1;K.configurable=!0;"value"in K&&(K.writable=!0);Object.defineProperty(x,K.key,K)}}return function(x,I,C){I&&y(x.prototype,I);C&&y(x,C);return x}}(),B=function(){function y(x,I,C){void 0===I&&(I=!1);A(this,y);this._fn=x;this._once=I;this._thisArg=C;this._next=
this._prev=this._owner=null}L(y,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return y}(),G=function(){function y(){A(this,y);this._head=this._tail=void 0}L(y,[{key:"handlers",value:function(){var x=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!x;for(var I=[];x;)I.push(x),x=x._next;return I}},{key:"has",value:function(x){if(!(x instanceof B))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
return x._owner===this}},{key:"dispatch",value:function(){var x=this._head;if(!x)return!1;for(;x;)x._once&&this.detach(x),x._fn.apply(x._thisArg,arguments),x=x._next;return!0}},{key:"add",value:function(x){var I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof x)throw Error("MiniSignal#add(): First arg must be a Function.");return w(this,new B(x,!1,I))}},{key:"once",value:function(x){var I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==
typeof x)throw Error("MiniSignal#once(): First arg must be a Function.");return w(this,new B(x,!0,I))}},{key:"detach",value:function(x){if(!(x instanceof B))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(x._owner!==this)return this;x._prev&&(x._prev._next=x._next);x._next&&(x._next._prev=x._prev);x===this._head?(this._head=x._next,null===x._next&&(this._tail=null)):x===this._tail&&(this._tail=x._prev,this._tail._next=null);x._owner=null;return this}},{key:"detachAll",
value:function(){var x=this._head;if(!x)return this;for(this._head=this._tail=null;x;)x._owner=null,x=x._next;return this}}]);return y}();G.MiniSignalBinding=B;u.default=G;t.exports=u["default"]},525:function(t){var u=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var L=new String("abc");L[5]="de";if("5"===Object.getOwnPropertyNames(L)[0])return!1;var B={};for(L=0;10>L;L++)B["_"+String.fromCharCode(L)]=
L;if("0123456789"!==Object.getOwnPropertyNames(B).map(function(y){return B[y]}).join(""))return!1;var G={};"abcdefghijklmnopqrst".split("").forEach(function(y){G[y]=y});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},G)).join("")?!1:!0}catch(y){return!1}}()?Object.assign:function(L,B){if(null===L||void 0===L)throw new TypeError("Object.assign cannot be called with null or undefined");var G=Object(L);for(var y,x=1;x<arguments.length;x++){var I=Object(arguments[x]);for(var C in I)A.call(I,
C)&&(G[C]=I[C]);if(u){y=u(I);for(var K=0;K<y.length;K++)w.call(I,y[K])&&(G[y[K]]=I[y[K]])}}return G}},767:function(t){t.exports=function(u,A){if(u){A=A||{};var w="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");u={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[A.strictMode?
"strict":"loose"].exec(u);var L={};for(A=14;A--;)L[w[A]]=u[A]||"";L.queryKey={};L[w[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(B,G,y){G&&(L.queryKey[G]=y)});return L}}},655:function(t,u,A){function w(){}function L(d,c){return function(){d.apply(c,arguments)}}function B(d){if(!(this instanceof B))throw new TypeError("Promises must be constructed via new");if("function"!==typeof d)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];K(d,this)}
function G(d,c){for(;3===d._state;)d=d._value;0===d._state?d._deferreds.push(c):(d._handled=!0,B._immediateFn(function(){var a=1===d._state?c.onFulfilled:c.onRejected;if(null===a)(1===d._state?y:x)(c.promise,d._value);else{try{var b=a(d._value)}catch(e){x(c.promise,e);return}y(c.promise,b)}}))}function y(d,c){try{if(c===d)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"===typeof c||"function"===typeof c)){var a=c.then;if(c instanceof B){d._state=3;d._value=c;I(d);return}if("function"===
typeof a){K(L(a,c),d);return}}d._state=1;d._value=c;I(d)}catch(b){x(d,b)}}function x(d,c){d._state=2;d._value=c;I(d)}function I(d){2===d._state&&0===d._deferreds.length&&B._immediateFn(function(){d._handled||B._unhandledRejectionFn(d._value)});for(var c=0,a=d._deferreds.length;c<a;c++)G(d,d._deferreds[c]);d._deferreds=null}function C(d,c,a){this.onFulfilled="function"===typeof d?d:null;this.onRejected="function"===typeof c?c:null;this.promise=a}function K(d,c){var a=!1;try{d(function(b){a||(a=!0,
y(c,b))},function(b){a||(a=!0,x(c,b))})}catch(b){a||(a=!0,x(c,b))}}function N(d){return function(c){return c.test(d)}}function ba(){md=!0}function X(d){var c;md||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(d=["\n %c %c %c PixiJS "+ff+" - \u2730 "+d+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;",
"background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],(c=self.console).log.apply(c,d)):self.console&&self.console.log("PixiJS "+ff+" - "+d+" - http://www.pixijs.com/"),md=!0)}function W(){"undefined"===typeof nd&&(nd=function(){var d={stencil:!0,failIfMajorPerformanceCaveat:na.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;
var c=document.createElement("canvas"),a=c.getContext("webgl",d)||c.getContext("experimental-webgl",d),b=!(!a||!a.getContextAttributes().stencil);if(a){var e=a.getExtension("WEBGL_lose_context");e&&e.loseContext()}return b}catch(f){return!1}}());return nd}function ea(d,c){void 0===c&&(c=[]);c[0]=(d>>16&255)/255;c[1]=(d>>8&255)/255;c[2]=(d&255)/255;return c}function Y(d){d=d.toString(16);d="000000".substr(0,6-d.length)+d;return"#"+d}function ia(d){"string"===typeof d&&(d=Rh[d.toLowerCase()]||d,"#"===
d[0]&&(d=d.substr(1)));return parseInt(d,16)}function z(d){return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)}function D(d,c){return od[c?1:0][d]}function q(d,c,a,b){a=a||new Float32Array(4);b||void 0===b?(a[0]=d[0]*c,a[1]=d[1]*c,a[2]=d[2]*c):(a[0]=d[0],a[1]=d[1],a[2]=d[2]);a[3]=c;return a}function r(d,c){return 1===c?(255*c<<24)+d:0===c?0:(255*c<<24)+(((d>>16&255)*c+.5|0)<<16)+(((d>>8&255)*c+.5|0)<<8)+((d&255)*c+.5|0)}function F(d,c,a,b){a=a||new Float32Array(4);a[0]=(d>>16&255)/255;a[1]=(d>>8&255)/
255;a[2]=(d&255)/255;if(b||void 0===b)a[0]*=c,a[1]*=c,a[2]*=c;a[3]=c;return a}function M(d,c){void 0===c&&(c=null);d*=6;c=c||new Uint16Array(d);if(c.length!==d)throw Error("Out buffer length is incorrect, got "+c.length+" and expected "+d);for(var a=0,b=0;a<d;a+=6,b+=4)c[a+0]=b+0,c[a+1]=b+1,c[a+2]=b+2,c[a+3]=b+0,c[a+4]=b+2,c[a+5]=b+3;return c}function S(d){if(4===d.BYTES_PER_ELEMENT)return d instanceof Float32Array?"Float32Array":d instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===d.BYTES_PER_ELEMENT){if(d instanceof
Uint16Array)return"Uint16Array"}else if(1===d.BYTES_PER_ELEMENT&&d instanceof Uint8Array)return"Uint8Array";return null}function U(d,c){for(var a=0,b=0,e={},f=0;f<d.length;f++)b+=c[f],a+=d[f].length;a=new ArrayBuffer(4*a);var g=0;for(f=0;f<d.length;f++){var h=c[f],k=d[f];var l=S(k);e[l]||(e[l]=new Sh[l](a));l=e[l];for(var m=0;m<k.length;m++)l[(m/h|0)*b+g+m%h]=k[m];g+=h}return new Float32Array(a)}function ca(d){d+=0===d?1:0;--d;d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;return(d|d>>>16)+1}function Z(d){return!(d&
d-1)&&!!d}function V(d){var c=(65535<d?1:0)<<4;d>>>=c;var a=(255<d?1:0)<<3;d>>>=a;c|=a;a=(15<d?1:0)<<2;d>>>=a;c|=a;a=(3<d?1:0)<<1;return c|a|d>>>a>>1}function sa(d,c,a){var b=d.length;if(!(c>=b||0===a)){a=c+a>b?b-c:a;for(b-=a;c<b;++c)d[c]=d[c+a];d.length=b}}function pa(d){return 0===d?0:0>d?-1:1}function va(){return++Fb}function Ga(d,c,a){void 0===a&&(a=3);if(!gf[c]){var b=Error().stack;"undefined"===typeof b?console.warn("PixiJS Deprecation Warning: ",c+"\nDeprecated since v"+d):(b=b.split("\n").splice(a).join("\n"),
console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",c+"\nDeprecated since v"+d),console.warn(b),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",c+"\nDeprecated since v"+d),console.warn(b)));gf[c]=!0}}function Qa(){for(var d in Ra)Ra[d].destroy();for(d in Va)Va[d].destroy()}function fa(){for(var d in Ra)delete Ra[d];for(d in Va)delete Va[d]}function qa(d){var c=
d.width,a=d.height;d=d.getContext("2d");var b=d.getImageData(0,0,c,a).data,e=b.length,f=null,g=null,h=null,k=null,l=null,m;for(m=0;m<e;m+=4)if(0!==b[m+3]){var n=m/4%c;var p=~~(m/4/c);null===f&&(f=p);null===g?g=n:n<g&&(g=n);null===h?h=n+1:h<n&&(h=n+1);null===k?k=p:k<p&&(k=p)}null!==f&&(c=h-g,a=k-f+1,l=d.getImageData(g,f,c,a));return{height:a,width:c,data:l}}function Sb(d){if(d=hf.exec(d))return{mediaType:d[1]?d[1].toLowerCase():void 0,subType:d[2]?d[2].toLowerCase():void 0,charset:d[3]?d[3].toLowerCase():
void 0,encoding:d[4]?d[4].toLowerCase():void 0,data:d[5]}}function Eb(d,c){void 0===c&&(c=self.location);if(0===d.indexOf("data:"))return"";c=c||self.location;Fc||(Fc=document.createElement("a"));Fc.href=d;d=Tb.parse(Fc.href);var a=!d.port&&""===c.port||d.port===c.port;return d.hostname===c.hostname&&a&&d.protocol===c.protocol?"":"anonymous"}function kc(d,c){return(d=na.RETINA_PREFIX.exec(d))?parseFloat(d[1]):void 0!==c?c:1}function pd(d,c){function a(){this.constructor=d}qd(d,c);d.prototype=null===
c?Object.create(c):(a.prototype=c.prototype,new a)}function Th(d,c){return d.zIndex===c.zIndex?d._lastSortedIndex-c._lastSortedIndex:d.zIndex-c.zIndex}function Uh(d,c){function a(){this.constructor=d}rd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Gc(d,c){if(!d)return null;var a="";if("string"===typeof d){var b=/\.(\w{3,4})(?:$|\?|#)/i.exec(d);b&&(a=b[1].toLowerCase())}for(b=lc.length-1;0<=b;--b){var e=lc[b];if(e.test&&e.test(d,a))return new e(d,c)}throw Error("Unrecognized source type to auto-detect Resource");
}function ua(d,c){function a(){this.constructor=d}sd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Hc(d){d.destroy=function(){};d.on=function(){};d.once=function(){};d.emit=function(){}}function jf(d){if(4===d.BYTES_PER_ELEMENT)return d instanceof Float32Array?"Float32Array":d instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===d.BYTES_PER_ELEMENT){if(d instanceof Uint16Array)return"Uint16Array"}else if(1===d.BYTES_PER_ELEMENT&&d instanceof Uint8Array)return"Uint8Array";
return null}function kf(d,c,a){c=d.createShader(c);d.shaderSource(c,a);d.compileShader(c);return c}function lf(d,c,a,b){var e=kf(d,d.VERTEX_SHADER,c),f=kf(d,d.FRAGMENT_SHADER,a),g=d.createProgram();d.attachShader(g,e);d.attachShader(g,f);if(b)for(var h in b)d.bindAttribLocation(g,b[h],h);d.linkProgram(g);d.getProgramParameter(g,d.LINK_STATUS)||(d.getShaderParameter(e,d.COMPILE_STATUS)||(console.warn(c),console.error(d.getShaderInfoLog(e))),d.getShaderParameter(f,d.COMPILE_STATUS)||(console.warn(a),
console.error(d.getShaderInfoLog(f))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",d.getProgramParameter(g,d.VALIDATE_STATUS)),console.error("gl.getError()",d.getError()),""!==d.getProgramInfoLog(g)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",d.getProgramInfoLog(g)),d.deleteProgram(g),g=null);d.deleteShader(e);d.deleteShader(f);return g}function td(d){d=Array(d);for(var c=0;c<d.length;c++)d[c]=!1;return d}function mf(d,c){switch(d){case "float":return 0;
case "vec2":return new Float32Array(2*c);case "vec3":return new Float32Array(3*c);case "vec4":return new Float32Array(4*c);case "int":case "uint":case "sampler2D":case "sampler2DArray":return 0;case "ivec2":return new Int32Array(2*c);case "ivec3":return new Int32Array(3*c);case "ivec4":return new Int32Array(4*c);case "uvec2":return new Uint32Array(2*c);case "uvec3":return new Uint32Array(3*c);case "uvec4":return new Uint32Array(4*c);case "bool":return!1;case "bvec2":return td(2*c);case "bvec3":return td(3*
c);case "bvec4":return td(4*c);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function nf(){if(mc===of||mc&&mc.isContextLost()){var d=document.createElement("canvas"),c=void 0;na.PREFER_ENV>=eb.WEBGL2&&(c=d.getContext("webgl2",{}));c||((c=d.getContext("webgl",{})||d.getContext("experimental-webgl",{}))?c.getExtension("WEBGL_draw_buffers"):c=null);mc=c}return mc}
function pf(d,c,a){if("precision"!==d.substring(0,9)){var b=c;c===Za.HIGH&&a!==Za.HIGH&&(b=Za.MEDIUM);return"precision "+b+" float;\n"+d}return a!==Za.HIGH&&"precision highp"===d.substring(0,15)?d.replace("precision highp","precision mediump"):d}function qf(d,c){if(!Ic){var a=Object.keys(rf);Ic={};for(var b=0;b<a.length;++b){var e=a[b];Ic[d[e]]=rf[e]}}return Ic[c]}function sf(d,c){if(0===d)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var a=c.createShader(c.FRAGMENT_SHADER);;){for(var b=
Vh,e=b.replace,f="",g=0;g<d;++g)0<g&&(f+="\nelse "),g<d-1&&(f+="if(test == "+g+".0){}");b=e.call(b,/%forloop%/gi,f);c.shaderSource(a,b);c.compileShader(a);if(c.getShaderParameter(a,c.COMPILE_STATUS))break;else d=d/2|0}return d}function tf(d){return lb.create(d)}function Gb(){}function uf(d,c,a,b){var e=0,f=d.length;(function k(h){h||e===f?a&&a(h):b?setTimeout(function(){c(d[e++],k)},1):c(d[e++],k)})()}function Wh(d){return function(){if(null===d)throw Error("Callback was already called.");var c=d;
d=null;c.apply(this,arguments)}}function Xh(d,c){function a(g,h,k){if(null!=k&&"function"!==typeof k)throw Error("task callback must be a function");f.started=!0;null==g&&f.idle()?setTimeout(function(){return f.drain()},1):(g={data:g,callback:"function"===typeof k?k:Gb},h?f._tasks.unshift(g):f._tasks.push(g),setTimeout(function(){return f.process()},1))}function b(g){return function(){--e;g.callback.apply(g,arguments);null!=arguments[0]&&f.error(arguments[0],g.data);e<=f.concurrency-f.buffer&&f.unsaturated();
f.idle()&&f.drain();f.process()}}if(null==c)c=1;else if(0===c)throw Error("Concurrency must not be zero");var e=0,f={_tasks:[],concurrency:c,saturated:Gb,unsaturated:Gb,buffer:c/4,empty:Gb,drain:Gb,error:Gb,started:!1,paused:!1,push:function(g,h){a(g,!1,h)},kill:function(){e=0;f.drain=Gb;f.started=!1;f._tasks=[]},unshift:function(g,h){a(g,!0,h)},process:function(){for(;!f.paused&&e<f.concurrency&&f._tasks.length;){var g=f._tasks.shift();0===f._tasks.length&&f.empty();e+=1;e===f.concurrency&&f.saturated();
d(g.data,Wh(b(g)))}},length:function(){return f._tasks.length},running:function(){return e},idle:function(){return 0===f._tasks.length+e},pause:function(){!0!==f.paused&&(f.paused=!0)},resume:function(){if(!1!==f.paused){f.paused=!1;for(var g=1;g<=f.concurrency;g++)f.process()}}};return f}function vf(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}function wf(d,c,a){c&&vf(d.prototype,c);a&&vf(d,
a);return d}function Yh(){}function xf(d,c,a){c&&0===c.indexOf(".")&&(c=c.substring(1));c&&(d[c]=a)}function ud(d){return d.toString().replace("object ","")}function Zh(d){for(var c="",a=0;a<d.length;){for(var b=[0,0,0],e=[0,0,0,0],f=0;f<b.length;++f)b[f]=a<d.length?d.charCodeAt(a++)&255:0;e[0]=b[0]>>2;e[1]=(b[0]&3)<<4|b[1]>>4;e[2]=(b[1]&15)<<2|b[2]>>6;e[3]=b[2]&63;switch(a-(d.length-1)){case 2:e[3]=64;e[2]=64;break;case 1:e[3]=64}for(b=0;b<e.length;++b)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e[b])}return c}
function $h(d,c){function a(){this.constructor=d}vd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function yf(d,c){function a(){this.constructor=d}wd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function ai(d,c,a,b){return new (a||(a=Promise))(function(e,f){function g(l){try{k(b.next(l))}catch(m){f(m)}}function h(l){try{k(b["throw"](l))}catch(m){f(m)}}function k(l){l.done?e(l.value):(new a(function(m){m(l.value)})).then(g,h)}k((b=b.apply(d,
c||[])).next())})}function bi(d,c){function a(l){return function(m){return b([l,m])}}function b(l){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(h=l[0]&2?g["return"]:l[0]?g["throw"]||((h=g["return"])&&h.call(g),0):g.next)&&!(h=h.call(g,l[1])).done)return h;if(g=0,h)l=[l[0]&2,h.value];switch(l[0]){case 0:case 1:h=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++;g=l[1];l=[0];continue;case 7:l=e.ops.pop();e.trys.pop();continue;default:if(!(h=
e.trys,h=0<h.length&&h[h.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!h||l[1]>h[0]&&l[1]<h[3]))e.label=l[1];else if(6===l[0]&&e.label<h[1])e.label=h[1],h=l;else if(h&&e.label<h[2])e.label=h[2],e.ops.push(l);else{h[2]&&e.ops.pop();e.trys.pop();continue}}l=c.call(d,e)}catch(m){l=[6,m],g=0}finally{f=h=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,g,h,k;return k={next:a(0),"throw":a(1),
"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function ci(d){return function(c){return c.test(d)}}function xd(d,c,a){return a={path:c,exports:{},require:function(b,e){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},d(a,a.exports),a.exports}function $a(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function Jc(d,c,a){if(d&&
fb.isObject(d)&&d instanceof $a)return d;var b=new $a;b.parse(d,c,a);return b}function zf(d,c,a){var b={textures:{},texture:null};if(!c)return b;c.map(function(e){return new ra(new za(e,Object.assign({mipmap:wb.OFF,alphaMode:gb.NO_PREMULTIPLIED_ALPHA},a)))}).forEach(function(e,f){var g=e.baseTexture,h=d+"-"+(f+1);za.addToCache(g,h);ra.addToCache(e,h);0===f&&(za.addToCache(g,d),ra.addToCache(e,d),b.texture=e);b.textures[h]=e});return b}function Af(d,c){function a(){this.constructor=d}yd(d,c);d.prototype=
null===c?Object.create(c):(a.prototype=c.prototype,new a)}function zd(d,c){function a(){this.constructor=d}Ad(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Kc(d,c,a,b,e,f,g){void 0===g&&(g=[]);for(var h,k,l,m,n=0,p;20>=n;++n)p=n/20,h=d+(a-d)*p,k=c+(b-c)*p,l=a+(e-a)*p,m=b+(f-b)*p,h+=(l-h)*p,k+=(m-k)*p,g.push(h,k);return g}function Bf(d,c,a,b,e,f,g,h){if(g){g=b;var k=-a}else g=-b,k=a;var l=d+a*f+g;f=c+b*f+k;h.push(d-a*e+g,c-b*e+k);h.push(l,f);return 2}function Ub(d,
c,a,b,e,f,g,h){var k=a-d,l=b-c,m=Math.atan2(k,l),n=Math.atan2(e-d,f-c);h&&m<n?m+=2*Math.PI:!h&&m>n&&(n+=2*Math.PI);n-=m;k=Math.sqrt(k*k+l*l);l=(15*Math.abs(n)*Math.sqrt(k)/Math.PI>>0)+1;n/=l;m+=n;if(h){g.push(d,c);g.push(a,b);a=1;for(b=m;a<l;a++,b+=n)g.push(d,c),g.push(d+Math.sin(b)*k,c+Math.cos(b)*k);g.push(d,c);g.push(e,f)}else{g.push(a,b);g.push(d,c);a=1;for(b=m;a<l;a++,b+=n)g.push(d+Math.sin(b)*k,c+Math.cos(b)*k),g.push(d,c);g.push(e,f);g.push(d,c)}return 2*l}function Bd(d,c){if(d.lineStyle.native){var a=
d.shape,b=d.points||a.points;d=a.type!==Ha.POLY||a.closeStroke;if(0!==b.length){a=c.points;var e=c.indices,f=b.length/2,g=a.length/2,h=g;a.push(b[0],b[1]);for(c=1;c<f;c++)a.push(b[2*c],b[2*c+1]),e.push(h,h+1),h++;d&&e.push(h,g)}}else if(a=d.shape,b=d.points||a.points.slice(),g=c.closePointEps,0!==b.length){d=d.lineStyle;e=new Ia(b[0],b[1]);f=new Ia(b[b.length-2],b[b.length-1]);a=a.type!==Ha.POLY||a.closeStroke;g=Math.abs(e.x-f.x)<g&&Math.abs(e.y-f.y)<g;a&&(b=b.slice(),g&&(b.pop(),b.pop(),f.set(b[b.length-
2],b[b.length-1])),g=.5*(e.x+f.x),e=.5*(f.y+e.y),b.unshift(g,e),b.push(g,e));e=c.points;var k=b.length/2;f=b.length;g=e.length/2;var l=d.width/2,m=l*l,n=d.miterLimit*d.miterLimit,p=b[0],v=b[1];h=b[2];var E=b[3],J=-(v-E),T=p-h,ka=Math.sqrt(J*J+T*T);J=J/ka*l;T=T/ka*l;h=d.alignment;var aa=2*(1-h),ja=2*h;a||(d.cap===mb.ROUND?f+=Ub(p-J*(aa-ja)*.5,v-T*(aa-ja)*.5,p-J*aa,v-T*aa,p+J*ja,v+T*ja,e,!0)+2:d.cap===mb.SQUARE&&(f+=Bf(p,v,J,T,aa,ja,!0,e)));e.push(p-J*aa,v-T*aa);e.push(p+J*ja,v+T*ja);for(var oa=1;oa<
k-1;++oa){p=b[2*(oa-1)];v=b[2*(oa-1)+1];h=b[2*oa];E=b[2*oa+1];var O=b[2*(oa+1)];var ha=b[2*(oa+1)+1];J=-(v-E);T=p-h;ka=Math.sqrt(J*J+T*T);J/=ka;T/=ka;J*=l;T*=l;var Q=-(E-ha);var da=h-O;ka=Math.sqrt(Q*Q+da*da);Q/=ka;da/=ka;Q*=l;da*=l;ka=h-p;var Ba=v-E,Ja=h-O,Ea=ha-E,wa=Ba*Ja-Ea*ka,Ma=0>wa;if(.1>Math.abs(wa))e.push(h-J*aa,E-T*aa),e.push(h+J*ja,E+T*ja);else{v=(-J+p)*(-T+E)-(-J+h)*(-T+v);O=(-Q+O)*(-da+E)-(-Q+h)*(-da+ha);p=(ka*O-Ja*v)/wa;wa=(Ea*v-Ba*O)/wa;v=(p-h)*(p-h)+(wa-E)*(wa-E);O=h+(p-h)*aa;ha=E+
(wa-E)*aa;p=h-(p-h)*ja;wa=E-(wa-E)*ja;var ya=Ma?aa:ja;v<=Math.min(ka*ka+Ba*Ba,Ja*Ja+Ea*Ea)+ya*ya*m?d.join===nb.BEVEL||v/m>n?(Ma?(e.push(O,ha),e.push(h+J*ja,E+T*ja),e.push(O,ha),e.push(h+Q*ja,E+da*ja)):(e.push(h-J*aa,E-T*aa),e.push(p,wa),e.push(h-Q*aa,E-da*aa),e.push(p,wa)),f+=2):d.join===nb.ROUND?Ma?(e.push(O,ha),e.push(h+J*ja,E+T*ja),f+=Ub(h,E,h+J*ja,E+T*ja,h+Q*ja,E+da*ja,e,!0)+4,e.push(O,ha),e.push(h+Q*ja,E+da*ja)):(e.push(h-J*aa,E-T*aa),e.push(p,wa),f+=Ub(h,E,h-J*aa,E-T*aa,h-Q*aa,E-da*aa,e,!1)+
4,e.push(h-Q*aa,E-da*aa),e.push(p,wa)):(e.push(O,ha),e.push(p,wa)):(e.push(h-J*aa,E-T*aa),e.push(h+J*ja,E+T*ja),d.join===nb.BEVEL||v/m>n||(d.join===nb.ROUND?f=Ma?f+(Ub(h,E,h+J*ja,E+T*ja,h+Q*ja,E+da*ja,e,!0)+2):f+(Ub(h,E,h-J*aa,E-T*aa,h-Q*aa,E-da*aa,e,!1)+2):(Ma?(e.push(p,wa),e.push(p,wa)):(e.push(O,ha),e.push(O,ha)),f+=2)),e.push(h-Q*aa,E-da*aa),e.push(h+Q*ja,E+da*ja),f+=2)}}p=b[2*(k-2)];v=b[2*(k-2)+1];h=b[2*(k-1)];E=b[2*(k-1)+1];J=-(v-E);T=p-h;ka=Math.sqrt(J*J+T*T);J=J/ka*l;T=T/ka*l;e.push(h-J*aa,
E-T*aa);e.push(h+J*ja,E+T*ja);a||(d.cap===mb.ROUND?f+=Ub(h-J*(aa-ja)*.5,E-T*(aa-ja)*.5,h-J*aa,E-T*aa,h+J*ja,E+T*ja,e,!1)+2:d.cap===mb.SQUARE&&(f+=Bf(h,E,J,T,aa,ja,!1,e)));c=c.indices;b=Vb.epsilon*Vb.epsilon;for(oa=g;oa<f+g-2;++oa)p=e[2*oa],v=e[2*oa+1],h=e[2*(oa+1)],E=e[2*(oa+1)+1],O=e[2*(oa+2)],ha=e[2*(oa+2)+1],Math.abs(p*(E-ha)+h*(ha-v)+O*(v-E))<b||c.push(oa,oa+1,oa+2)}}function di(d,c){function a(){this.constructor=d}Cd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}
function ei(d,c){function a(){this.constructor=d}Dd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Cf(d){if("number"===typeof d)return Y(d);"string"===typeof d&&0===d.indexOf("0x")&&(d=d.replace("0x","#"));return d}function Ed(d){if(Array.isArray(d)){for(var c=0;c<d.length;++c)d[c]=Cf(d[c]);return d}return Cf(d)}function Fd(d,c,a){for(var b in a)Array.isArray(c[b])?d[b]=c[b].slice():d[b]=c[b]}function fi(d,c){function a(){this.constructor=d}Gd(d,c);d.prototype=
null===c?Object.create(c):(a.prototype=c.prototype,new a)}function gi(d,c){var a=!1;if(d&&d._textures&&d._textures.length)for(var b=0;b<d._textures.length;b++)if(d._textures[b]instanceof ra){var e=d._textures[b].baseTexture;-1===c.indexOf(e)&&(c.push(e),a=!0)}return a}function hi(d,c){return d.baseTexture instanceof za?(d=d.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function ii(d,c){return d._texture&&d._texture instanceof ra?(d=d._texture.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function ji(d,
c){return c instanceof Hd?(c.updateText(!0),!0):!1}function ki(d,c){return c instanceof Hb?(d=c.toFontString(),Ua.measureFont(d),!0):!1}function li(d,c){return d instanceof Hd?(-1===c.indexOf(d.style)&&c.push(d.style),-1===c.indexOf(d)&&c.push(d),d=d._texture.baseTexture,-1===c.indexOf(d)&&c.push(d),!0):!1}function mi(d,c){return d instanceof Hb?(-1===c.indexOf(d)&&c.push(d),!0):!1}function Df(d,c){return c instanceof za?(c._glTextures[d.CONTEXT_UID]||d.texture.bind(c),!0):!1}function ni(d,c){if(!(c instanceof
Id))return!1;var a=c.geometry;c.finishPoly();a.updateBatches();for(var b=a.batches,e=0;e<b.length;e++){var f=b[e].style.texture;f&&Df(d,f.baseTexture)}a.batchable||d.geometry.bind(a,c._resolveDirectShader(d));return!0}function oi(d,c){return d instanceof Id?(c.push(d),!0):!1}function Ef(d,c){function a(){this.constructor=d}Jd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Kd(d,c){function a(){this.constructor=d}Ld(d,c);d.prototype=null===c?Object.create(c):(a.prototype=
c.prototype,new a)}function pi(d,c){function a(){this.constructor=d}Md(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Ff(d){for(var c=0;c<Nd.length;c++)if(Nd[c].test(d))return Nd[c];return null}function Gf(d,c,a,b,e,f){var g=a.fill;if(!Array.isArray(g))return g;if(1===g.length)return g[0];var h=a.dropShadow?a.dropShadowDistance:0,k=a.padding||0,l=Math.ceil(d.width/b)-h-2*k,m=Math.ceil(d.height/b)-h-2*k;d=g.slice();b=a.fillGradientStops.slice();if(!b.length){var n=
d.length+1;for(h=1;h<n;++h)b.push(h/n)}d.unshift(g[0]);b.unshift(0);d.push(g[g.length-1]);b.push(1);if(a.fillGradientType===Wb.LINEAR_VERTICAL)for(c=c.createLinearGradient(l/2,k,l/2,m+k),g=0,a=(f.fontProperties.fontSize+a.strokeThickness)/m,h=0;h<e.length;h++)for(k=f.lineHeight*h,l=0;l<d.length;l++)g=Math.max(g,k/m+("number"===typeof b[l]?b[l]:l/d.length)*a),g=Math.min(g,1),c.addColorStop(g,d[l]);else for(c=c.createLinearGradient(k,m/2,l+k,m/2),e=d.length+1,f=1,h=0;h<d.length;h++)c.addColorStop("number"===
typeof b[h]?b[h]:f/e,d[h]),f++;return c}function qi(d,c){function a(){this.constructor=d}Od(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Hf(d,c){function a(){this.constructor=d}Pd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function ri(d,c){function a(){this.constructor=d}Qd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function si(d,c){function a(){this.constructor=d}Rd(d,c);d.prototype=null===c?Object.create(c):
(a.prototype=c.prototype,new a)}function ti(d,c){function a(){this.constructor=d}Sd(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function ui(d,c){function a(){this.constructor=d}Td(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function Xb(d,c){function a(){this.constructor=d}Ud(d,c);d.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}function vi(d,c){function a(){this.constructor=d}Vd(d,c);d.prototype=null===c?Object.create(c):
(a.prototype=c.prototype,new a)}A.r(u);A.d(u,{ALPHA_MODES:function(){return gb},AbstractBatchRenderer:function(){return If},AbstractMultiResource:function(){return Lc},AbstractRenderer:function(){return Jf},AccessibilityManager:function(){return Kf},AnimatedSprite:function(){return wi},AppLoaderPlugin:function(){return Lf},Application:function(){return Mc},ArrayResource:function(){return Wd},Attribute:function(){return Xd},BLEND_MODES:function(){return la},BUFFER_BITS:function(){return nc},BaseImageResource:function(){return hb},
BasePrepare:function(){return Mf},BaseRenderTexture:function(){return Yd},BaseTexture:function(){return za},BatchDrawCall:function(){return Nc},BatchGeometry:function(){return Zd},BatchPluginFactory:function(){return Nf},BatchRenderer:function(){return Of},BatchShaderGenerator:function(){return Pf},BatchSystem:function(){return $d},BatchTextureArray:function(){return Oc},BitmapFont:function(){return Yb},BitmapFontData:function(){return oc},BitmapFontLoader:function(){return Qf},BitmapText:function(){return xi},
BlobResource:function(){return Rf},Bounds:function(){return pc},Buffer:function(){return Na},BufferResource:function(){return Zb},CLEAR_MODES:function(){return ob},CanvasResource:function(){return Pc},Circle:function(){return Sf},CompressedTextureLoader:function(){return Tf},CompressedTextureResource:function(){return Qc},Container:function(){return ab},ContextSystem:function(){return ae},CountLimiter:function(){return Uf},CubeResource:function(){return be},DDSLoader:function(){return Vf},DEG_TO_RAD:function(){return Wf},
DRAW_MODES:function(){return Wa},DisplayObject:function(){return Ka},ENV:function(){return eb},Ellipse:function(){return Xf},Extract:function(){return Yf},FORMATS:function(){return bb},FORMATS_TO_COMPONENTS:function(){return Zf},FillStyle:function(){return ce},Filter:function(){return pb},FilterState:function(){return $f},FilterSystem:function(){return de},Framebuffer:function(){return Rc},FramebufferSystem:function(){return ee},GC_MODES:function(){return Sc},GLFramebuffer:function(){return ag},GLProgram:function(){return bg},
GLTexture:function(){return Tc},GRAPHICS_CURVES:function(){return Vb},Geometry:function(){return $b},GeometrySystem:function(){return fe},Graphics:function(){return Id},GraphicsData:function(){return ge},GraphicsGeometry:function(){return cg},IGLUniformData:function(){return yi},INSTALLED:function(){return lc},INTERNAL_FORMATS:function(){return ta},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:function(){return qc},ImageBitmapResource:function(){return he},ImageResource:function(){return Uc},InteractionData:function(){return ie},
InteractionEvent:function(){return dg},InteractionManager:function(){return eg},InteractionTrackingData:function(){return Vc},KTXLoader:function(){return fg},LINE_CAP:function(){return mb},LINE_JOIN:function(){return nb},LineStyle:function(){return gg},Loader:function(){return ib},LoaderResource:function(){return Xa},MASK_TYPES:function(){return Sa},MIPMAP_MODES:function(){return wb},MSAA_QUALITY:function(){return Ib},MaskData:function(){return hg},MaskSystem:function(){return je},Matrix:function(){return La},
Mesh:function(){return ac},MeshBatchUvs:function(){return ig},MeshGeometry:function(){return rc},MeshMaterial:function(){return sc},NineSlicePlane:function(){return zi},ObjectRenderer:function(){return tc},ObservablePoint:function(){return Jb},PI_2:function(){return uc},PRECISION:function(){return Za},ParticleContainer:function(){return Ai},ParticleRenderer:function(){return jg},PlaneGeometry:function(){return kg},Point:function(){return Ia},Polygon:function(){return vc},Prepare:function(){return lg},
Program:function(){return wc},ProjectionSystem:function(){return ke},Quad:function(){return mg},QuadUv:function(){return le},RAD_TO_DEG:function(){return ng},RENDERER_TYPE:function(){return bc},Rectangle:function(){return xa},RenderTexture:function(){return xb},RenderTexturePool:function(){return og},RenderTextureSystem:function(){return me},Renderer:function(){return lb},Resource:function(){return Kb},RopeGeometry:function(){return pg},RoundedRectangle:function(){return qg},Runner:function(){return Pa},
SCALE_MODES:function(){return jb},SHAPES:function(){return Ha},SVGResource:function(){return ne},ScissorSystem:function(){return oe},Shader:function(){return yb},ShaderSystem:function(){return pe},SimpleMesh:function(){return Bi},SimplePlane:function(){return rg},SimpleRope:function(){return Ci},Sprite:function(){return cc},SpriteMaskFilter:function(){return sg},Spritesheet:function(){return tg},SpritesheetLoader:function(){return ug},State:function(){return zb},StateSystem:function(){return qe},
StencilSystem:function(){return re},System:function(){return Ta},TARGETS:function(){return Ab},TEXT_GRADIENT:function(){return Wb},TYPES:function(){return Ca},TYPES_TO_BYTES_PER_COMPONENT:function(){return se},TYPES_TO_BYTES_PER_PIXEL:function(){return vg},TemporaryDisplayObject:function(){return te},Text:function(){return Hd},TextMetrics:function(){return Ua},TextStyle:function(){return Hb},Texture:function(){return ra},TextureGCSystem:function(){return ue},TextureLoader:function(){return wg},TextureMatrix:function(){return Wc},
TextureSystem:function(){return ve},TextureUvs:function(){return we},Ticker:function(){return Oa},TickerPlugin:function(){return xg},TilingSprite:function(){return Di},TilingSpriteRenderer:function(){return yg},TimeLimiter:function(){return Ei},Transform:function(){return xe},UPDATE_PRIORITY:function(){return kb},UniformGroup:function(){return Bb},VERSION:function(){return"6.0.2"},VideoResource:function(){return ye},ViewableBuffer:function(){return Xc},WRAP_MODES:function(){return qb},accessibleTarget:function(){return zg},
autoDetectRenderer:function(){return tf},autoDetectResource:function(){return Gc},checkMaxIfStatementsInShader:function(){return sf},defaultFilterVertex:function(){return ze},defaultVertex:function(){return Ag},filters:function(){return Fi},graphicsUtils:function(){return Gi},groupD8:function(){return Fa},interactiveTarget:function(){return Bg},isMobile:function(){return Ya},resources:function(){return Cg},settings:function(){return na},systems:function(){return Dg},uniformParsers:function(){return Yc},
utils:function(){return Ae}});var Ae={};A.r(Ae);A.d(Ae,{BaseTextureCache:function(){return Va},CanvasRenderTarget:function(){return Be},DATA_URI:function(){return hf},EventEmitter:function(){return dc()},ProgramCache:function(){return Ce},TextureCache:function(){return Ra},clearTextureCache:function(){return fa},correctBlendMode:function(){return D},createIndicesForQuads:function(){return M},decomposeDataUri:function(){return Sb},deprecation:function(){return Ga},destroyTextureCache:function(){return Qa},
determineCrossOrigin:function(){return Eb},earcut:function(){return De()},getBufferType:function(){return S},getResolutionOfUrl:function(){return kc},hex2rgb:function(){return ea},hex2string:function(){return Y},interleaveTypedArrays:function(){return U},isMobile:function(){return Ya},isPow2:function(){return Z},isWebGLSupported:function(){return W},log2:function(){return V},nextPow2:function(){return ca},premultiplyBlendMode:function(){return od},premultiplyRgba:function(){return q},premultiplyTint:function(){return r},
premultiplyTintToRgba:function(){return F},removeItems:function(){return sa},rgb2hex:function(){return z},sayHello:function(){return X},sign:function(){return pa},skipHello:function(){return ba},string2hex:function(){return ia},trimCanvas:function(){return qa},uid:function(){return va},url:function(){return Tb}});var Hi=setTimeout;B.prototype["catch"]=function(d){return this.then(null,d)};B.prototype.then=function(d,c){var a=new this.constructor(w);G(this,new C(d,c,a));return a};B.prototype["finally"]=
function(d){var c=this.constructor;return this.then(function(a){return c.resolve(d()).then(function(){return a})},function(a){return c.resolve(d()).then(function(){return c.reject(a)})})};B.all=function(d){return new B(function(c,a){function b(h,k){try{if(k&&("object"===typeof k||"function"===typeof k)){var l=k.then;if("function"===typeof l){l.call(k,function(m){b(h,m)},a);return}}e[h]=k;0===--f&&c(e)}catch(m){a(m)}}if(!d||"undefined"===typeof d.length)return a(new TypeError("Promise.all accepts an array"));
var e=Array.prototype.slice.call(d);if(0===e.length)return c([]);for(var f=e.length,g=0;g<e.length;g++)b(g,e[g])})};B.allSettled=function(d){return new this(function(c,a){function b(g,h){if(h&&("object"===typeof h||"function"===typeof h)){var k=h.then;if("function"===typeof k){k.call(h,function(l){b(g,l)},function(l){e[g]={status:"rejected",reason:l};0===--f&&c(e)});return}}e[g]={status:"fulfilled",value:h};0===--f&&c(e)}if(!d||"undefined"===typeof d.length)return a(new TypeError(typeof d+" "+d+" is not iterable(cannot read property Symbol(Symbol.iterator))"));
var e=Array.prototype.slice.call(d);if(0===e.length)return c([]);var f=e.length;for(a=0;a<e.length;a++)b(a,e[a])})};B.resolve=function(d){return d&&"object"===typeof d&&d.constructor===B?d:new B(function(c){c(d)})};B.reject=function(d){return new B(function(c,a){a(d)})};B.race=function(d){return new B(function(c,a){if(!d||"undefined"===typeof d.length)return a(new TypeError("Promise.race accepts an array"));for(var b=0,e=d.length;b<e;b++)B.resolve(d[b]).then(c,a)})};B._immediateFn="function"===typeof setImmediate&&
function(d){setImmediate(d)}||function(d){Hi(d,0)};B._unhandledRejectionFn=function(d){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",d)};var Ii=A(525),Ji=A.n(Ii);self.Promise||(self.Promise=B);Object.assign||(Object.assign=Ji());Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});if(!self.performance||!self.performance.now){var Ki=Date.now();self.performance||(self.performance={});self.performance.now=function(){return Date.now()-
Ki}}for(var Ee=Date.now(),Eg=["ms","moz","webkit","o"],Fe=0;Fe<Eg.length&&!self.requestAnimationFrame;++Fe){var Ge=Eg[Fe];self.requestAnimationFrame=self[Ge+"RequestAnimationFrame"];self.cancelAnimationFrame=self[Ge+"CancelAnimationFrame"]||self[Ge+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(d){if("function"!==typeof d)throw new TypeError(d+"is not a function");var c=Date.now(),a=16+Ee-c;0>a&&(a=0);Ee=c;return self.setTimeout(function(){Ee=Date.now();
d(performance.now())},a)});self.cancelAnimationFrame||(self.cancelAnimationFrame=function(d){return clearTimeout(d)});Math.sign||(Math.sign=function(d){d=Number(d);return 0===d||isNaN(d)?d:0<d?1:-1});Number.isInteger||(Number.isInteger=function(d){return"number"===typeof d&&isFinite(d)&&Math.floor(d)===d});self.ArrayBuffer||(self.ArrayBuffer=Array);self.Float32Array||(self.Float32Array=Array);self.Uint32Array||(self.Uint32Array=Array);self.Uint16Array||(self.Uint16Array=Array);self.Uint8Array||(self.Uint8Array=
Array);self.Int32Array||(self.Int32Array=Array);var He=/iPhone/i,Fg=/iPod/i,Gg=/iPad/i,Hg=/\biOS-universal(?:.+)Mac\b/i,Ie=/\bAndroid(?:.+)Mobile\b/i,Ig=/Android/i,ec=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Zc=/Silk/i,rb=/Windows Phone/i,Jg=/\bWindows(?:.+)ARM\b/i,Kg=/BlackBerry/i,Lg=/BB10/i,Mg=/Opera Mini/i,Ng=/\b(CriOS|Chrome)(?:.+)Mobile/i,Og=/Mobile(?:.+)Firefox\b/i,Pg=function(d){return"undefined"!==typeof d&&"MacIntel"===d.platform&&"number"===typeof d.maxTouchPoints&&1<d.maxTouchPoints&&"undefined"===
typeof MSStream},Ya=function(d){var c={userAgent:"",platform:"",maxTouchPoints:0};d||"undefined"===typeof navigator?"string"===typeof d?c.userAgent=d:d&&d.userAgent&&(c={userAgent:d.userAgent,platform:d.platform,maxTouchPoints:d.maxTouchPoints||0}):c={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};d=c.userAgent;var a=d.split("[FBAN");"undefined"!==typeof a[1]&&(d=a[0]);a=d.split("Twitter");"undefined"!==typeof a[1]&&(d=a[0]);d=N(d);c={apple:{phone:d(He)&&
!d(rb),ipod:d(Fg),tablet:!d(He)&&(d(Gg)||Pg(c))&&!d(rb),universal:d(Hg),device:(d(He)||d(Fg)||d(Gg)||d(Hg)||Pg(c))&&!d(rb)},amazon:{phone:d(ec),tablet:!d(ec)&&d(Zc),device:d(ec)||d(Zc)},android:{phone:!d(rb)&&d(ec)||!d(rb)&&d(Ie),tablet:!d(rb)&&!d(ec)&&!d(Ie)&&(d(Zc)||d(Ig)),device:!d(rb)&&(d(ec)||d(Zc)||d(Ie)||d(Ig))||d(/\bokhttp\b/i)},windows:{phone:d(rb),tablet:d(Jg),device:d(rb)||d(Jg)},other:{blackberry:d(Kg),blackberry10:d(Lg),opera:d(Mg),firefox:d(Og),chrome:d(Ng),device:d(Kg)||d(Lg)||d(Mg)||
d(Og)||d(Ng)},any:!1,phone:!1,tablet:!1};c.any=c.apple.device||c.android.device||c.windows.device||c.other.device;c.phone=c.apple.phone||c.android.phone||c.windows.phone;c.tablet=c.apple.tablet||c.android.tablet||c.windows.tablet;return c}(self.navigator),na={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(d){var c=!0;if(Ya.tablet||Ya.phone){if(Ya.apple.device){var a=navigator.userAgent.match(/OS (\d+)_(\d+)?/);a&&(a=parseInt(a[1],10),11>a&&(c=!1))}Ya.android.device&&
(a=navigator.userAgent.match(/Android\s([0-9.]*)/))&&(a=parseInt(a[1],10),7>a&&(c=!1))}return c?d:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Ya.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Ya.apple.device,
CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Li=A(520),dc=A.n(Li),Mi=A(106),De=A.n(Mi),Je=A(760),eb;(function(d){d[d.WEBGL_LEGACY=0]="WEBGL_LEGACY";d[d.WEBGL=1]="WEBGL";d[d.WEBGL2=2]="WEBGL2"})(eb||(eb={}));var bc;(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.WEBGL=1]="WEBGL";d[d.CANVAS=2]="CANVAS"})(bc||(bc={}));var nc;(function(d){d[d.COLOR=16384]="COLOR";d[d.DEPTH=256]="DEPTH";d[d.STENCIL=1024]="STENCIL"})(nc||(nc={}));var la;(function(d){d[d.NORMAL=0]="NORMAL";d[d.ADD=1]="ADD";d[d.MULTIPLY=2]="MULTIPLY";
d[d.SCREEN=3]="SCREEN";d[d.OVERLAY=4]="OVERLAY";d[d.DARKEN=5]="DARKEN";d[d.LIGHTEN=6]="LIGHTEN";d[d.COLOR_DODGE=7]="COLOR_DODGE";d[d.COLOR_BURN=8]="COLOR_BURN";d[d.HARD_LIGHT=9]="HARD_LIGHT";d[d.SOFT_LIGHT=10]="SOFT_LIGHT";d[d.DIFFERENCE=11]="DIFFERENCE";d[d.EXCLUSION=12]="EXCLUSION";d[d.HUE=13]="HUE";d[d.SATURATION=14]="SATURATION";d[d.COLOR=15]="COLOR";d[d.LUMINOSITY=16]="LUMINOSITY";d[d.NORMAL_NPM=17]="NORMAL_NPM";d[d.ADD_NPM=18]="ADD_NPM";d[d.SCREEN_NPM=19]="SCREEN_NPM";d[d.NONE=20]="NONE";d[d.SRC_OVER=
0]="SRC_OVER";d[d.SRC_IN=21]="SRC_IN";d[d.SRC_OUT=22]="SRC_OUT";d[d.SRC_ATOP=23]="SRC_ATOP";d[d.DST_OVER=24]="DST_OVER";d[d.DST_IN=25]="DST_IN";d[d.DST_OUT=26]="DST_OUT";d[d.DST_ATOP=27]="DST_ATOP";d[d.ERASE=26]="ERASE";d[d.SUBTRACT=28]="SUBTRACT";d[d.XOR=29]="XOR"})(la||(la={}));var Wa;(function(d){d[d.POINTS=0]="POINTS";d[d.LINES=1]="LINES";d[d.LINE_LOOP=2]="LINE_LOOP";d[d.LINE_STRIP=3]="LINE_STRIP";d[d.TRIANGLES=4]="TRIANGLES";d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Wa||
(Wa={}));var bb;(function(d){d[d.RGBA=6408]="RGBA";d[d.RGB=6407]="RGB";d[d.ALPHA=6406]="ALPHA";d[d.LUMINANCE=6409]="LUMINANCE";d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";d[d.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(bb||(bb={}));var Ab;(function(d){d[d.TEXTURE_2D=3553]="TEXTURE_2D";d[d.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";d[d.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY";d[d.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";d[d.TEXTURE_CUBE_MAP_NEGATIVE_X=
34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";d[d.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";d[d.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ab||(Ab={}));var Ca;(function(d){d[d.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";d[d.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";d[d.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";d[d.UNSIGNED_SHORT_4_4_4_4=
32819]="UNSIGNED_SHORT_4_4_4_4";d[d.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";d[d.FLOAT=5126]="FLOAT";d[d.HALF_FLOAT=36193]="HALF_FLOAT"})(Ca||(Ca={}));var jb;(function(d){d[d.NEAREST=0]="NEAREST";d[d.LINEAR=1]="LINEAR"})(jb||(jb={}));var qb;(function(d){d[d.CLAMP=33071]="CLAMP";d[d.REPEAT=10497]="REPEAT";d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(qb||(qb={}));var wb;(function(d){d[d.OFF=0]="OFF";d[d.POW2=1]="POW2";d[d.ON=2]="ON";d[d.ON_MANUAL=3]="ON_MANUAL"})(wb||(wb={}));var gb;
(function(d){d[d.NPM=0]="NPM";d[d.UNPACK=1]="UNPACK";d[d.PMA=2]="PMA";d[d.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";d[d.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";d[d.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(gb||(gb={}));var ob;(function(d){d[d.NO=0]="NO";d[d.YES=1]="YES";d[d.AUTO=2]="AUTO";d[d.BLEND=0]="BLEND";d[d.CLEAR=1]="CLEAR";d[d.BLIT=2]="BLIT"})(ob||(ob={}));var Sc;(function(d){d[d.AUTO=0]="AUTO";d[d.MANUAL=1]="MANUAL"})(Sc||(Sc={}));var Za;(function(d){d.LOW="lowp";d.MEDIUM=
"mediump";d.HIGH="highp"})(Za||(Za={}));var Sa;(function(d){d[d.NONE=0]="NONE";d[d.SCISSOR=1]="SCISSOR";d[d.STENCIL=2]="STENCIL";d[d.SPRITE=3]="SPRITE"})(Sa||(Sa={}));var Ib;(function(d){d[d.NONE=0]="NONE";d[d.LOW=2]="LOW";d[d.MEDIUM=4]="MEDIUM";d[d.HIGH=8]="HIGH"})(Ib||(Ib={}));var Tb={parse:Je.Qc,format:Je.WU,resolve:Je.DB};na.RETINA_PREFIX=/@([0-9\.]+)x/;var md=na.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,ff="6.0.2",nd,Rh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",
azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",
darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",
greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",
lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",
olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",
slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},od=function(){for(var d=[],c=[],a=0;32>a;a++)d[a]=a,c[a]=a;d[la.NORMAL_NPM]=la.NORMAL;d[la.ADD_NPM]=la.ADD;d[la.SCREEN_NPM]=la.SCREEN;c[la.NORMAL]=la.NORMAL_NPM;c[la.ADD]=la.ADD_NPM;c[la.SCREEN]=
la.SCREEN_NPM;a=[];a.push(c);a.push(d);return a}(),Sh={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Fb=0,gf={},Ce={},Ra=Object.create(null),Va=Object.create(null),Be=function(){function d(c,a,b){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=b||na.RESOLUTION;this.resize(c,a)}d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};
d.prototype.resize=function(c,a){this.canvas.width=c*this.resolution;this.canvas.height=a*this.resolution};d.prototype.destroy=function(){this.canvas=this.context=null};Object.defineProperty(d.prototype,"width",{get:function(){return this.canvas.width},set:function(c){this.canvas.width=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return this.canvas.height},set:function(c){this.canvas.height=c},enumerable:!1,configurable:!0});return d}(),hf=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,
Fc,uc=2*Math.PI,ng=180/Math.PI,Wf=Math.PI/180,Ha;(function(d){d[d.POLY=0]="POLY";d[d.RECT=1]="RECT";d[d.CIRC=2]="CIRC";d[d.ELIP=3]="ELIP";d[d.RREC=4]="RREC"})(Ha||(Ha={}));var xa=function(){function d(c,a,b,e){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=0);this.x=Number(c);this.y=Number(a);this.width=Number(b);this.height=Number(e);this.type=Ha.RECT}Object.defineProperty(d.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0});Object.defineProperty(d,"EMPTY",{get:function(){return new d(0,0,0,0)},enumerable:!1,configurable:!0});d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copyFrom=
function(c){this.x=c.x;this.y=c.y;this.width=c.width;this.height=c.height;return this};d.prototype.copyTo=function(c){c.x=this.x;c.y=this.y;c.width=this.width;c.height=this.height;return c};d.prototype.contains=function(c,a){return 0>=this.width||0>=this.height?!1:c>=this.x&&c<this.x+this.width&&a>=this.y&&a<this.y+this.height?!0:!1};d.prototype.pad=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.x-=c;this.y-=a;this.width+=2*c;this.height+=2*a;return this};d.prototype.fit=function(c){var a=
Math.max(this.x,c.x),b=Math.min(this.x+this.width,c.x+c.width),e=Math.max(this.y,c.y);c=Math.min(this.y+this.height,c.y+c.height);this.x=a;this.width=Math.max(b-a,0);this.y=e;this.height=Math.max(c-e,0);return this};d.prototype.ceil=function(c,a){void 0===c&&(c=1);void 0===a&&(a=.001);var b=Math.ceil((this.x+this.width-a)*c)/c,e=Math.ceil((this.y+this.height-a)*c)/c;this.x=Math.floor((this.x+a)*c)/c;this.y=Math.floor((this.y+a)*c)/c;this.width=b-this.x;this.height=e-this.y;return this};d.prototype.enlarge=
function(c){var a=Math.min(this.x,c.x),b=Math.max(this.x+this.width,c.x+c.width),e=Math.min(this.y,c.y);c=Math.max(this.y+this.height,c.y+c.height);this.x=a;this.width=b-a;this.y=e;this.height=c-e;return this};d.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"};return d}(),Sf=function(){function d(c,a,b){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);this.x=c;this.y=a;this.radius=b;this.type=Ha.CIRC}d.prototype.clone=
function(){return new d(this.x,this.y,this.radius)};d.prototype.contains=function(c,a){if(0>=this.radius)return!1;c=this.x-c;a=this.y-a;return c*c+a*a<=this.radius*this.radius};d.prototype.getBounds=function(){return new xa(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};d.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"};return d}(),Xf=function(){function d(c,a,b,e){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);
void 0===e&&(e=0);this.x=c;this.y=a;this.width=b;this.height=e;this.type=Ha.ELIP}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.contains=function(c,a){if(0>=this.width||0>=this.height)return!1;c=(c-this.x)/this.width;a=(a-this.y)/this.height;return 1>=c*c+a*a};d.prototype.getBounds=function(){return new xa(this.x-this.width,this.y-this.height,this.width,this.height)};d.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+
this.width+" height="+this.height+"]"};return d}(),vc=function(){function d(){for(var c=arguments,a=[],b=0;b<arguments.length;b++)a[b]=c[b];c=Array.isArray(a[0])?a[0]:a;if("number"!==typeof c[0]){a=[];b=0;for(var e=c.length;b<e;b++)a.push(c[b].x,c[b].y);c=a}this.points=c;this.type=Ha.POLY;this.closeStroke=!0}d.prototype.clone=function(){var c=this.points.slice();c=new d(c);c.closeStroke=this.closeStroke;return c};d.prototype.contains=function(c,a){for(var b=!1,e=this.points.length/2,f=0,g=e-1;f<e;g=
f++){var h=this.points[2*f],k=this.points[2*f+1],l=this.points[2*g];g=this.points[2*g+1];k>a!==g>a&&c<(a-k)/(g-k)*(l-h)+h&&(b=!b)}return b};d.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+("points="+this.points.reduce(function(c,a){return c+", "+a},"")+"]")};return d}(),qg=function(){function d(c,a,b,e,f){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=0);void 0===f&&(f=20);this.x=c;this.y=a;this.width=b;this.height=e;this.radius=f;this.type=
Ha.RREC}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height,this.radius)};d.prototype.contains=function(c,a){if(0>=this.width||0>=this.height)return!1;if(c>=this.x&&c<=this.x+this.width&&a>=this.y&&a<=this.y+this.height){if(a>=this.y+this.radius&&a<=this.y+this.height-this.radius||c>=this.x+this.radius&&c<=this.x+this.width-this.radius)return!0;var b=c-(this.x+this.radius),e=a-(this.y+this.radius),f=this.radius*this.radius;if(b*b+e*e<=f)return!0;b=c-(this.x+this.width-this.radius);
if(b*b+e*e<=f)return!0;e=a-(this.y+this.height-this.radius);if(b*b+e*e<=f)return!0;b=c-(this.x+this.radius);if(b*b+e*e<=f)return!0}return!1};d.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")};return d}(),Ia=function(){function d(c,a){void 0===c&&(c=0);void 0===a&&(a=0);this.x=c;this.y=a}d.prototype.clone=function(){return new d(this.x,this.y)};d.prototype.copyFrom=function(c){this.set(c.x,
c.y);return this};d.prototype.copyTo=function(c){c.set(this.x,this.y);return c};d.prototype.equals=function(c){return c.x===this.x&&c.y===this.y};d.prototype.set=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.x=c;this.y=a;return this};d.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"};return d}(),Jb=function(){function d(c,a,b,e){void 0===b&&(b=0);void 0===e&&(e=0);this._x=b;this._y=e;this.cb=c;this.scope=a}d.prototype.clone=function(c,a){void 0===c&&(c=
this.cb);void 0===a&&(a=this.scope);return new d(c,a,this._x,this._y)};d.prototype.set=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);if(this._x!==c||this._y!==a)this._x=c,this._y=a,this.cb.call(this.scope);return this};d.prototype.copyFrom=function(c){if(this._x!==c.x||this._y!==c.y)this._x=c.x,this._y=c.y,this.cb.call(this.scope);return this};d.prototype.copyTo=function(c){c.set(this._x,this._y);return c};d.prototype.equals=function(c){return c.x===this._x&&c.y===this._y};d.prototype.toString=
function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"};Object.defineProperty(d.prototype,"x",{get:function(){return this._x},set:function(c){this._x!==c&&(this._x=c,this.cb.call(this.scope))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this._y},set:function(c){this._y!==c&&(this._y=c,this.cb.call(this.scope))},enumerable:!1,configurable:!0});return d}(),La=function(){function d(c,a,b,e,f,g){void 0===c&&(c=1);void 0===a&&(a=0);
void 0===b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=0);void 0===g&&(g=0);this.array=null;this.a=c;this.b=a;this.c=b;this.d=e;this.tx=f;this.ty=g}d.prototype.fromArray=function(c){this.a=c[0];this.b=c[1];this.c=c[3];this.d=c[4];this.tx=c[2];this.ty=c[5]};d.prototype.set=function(c,a,b,e,f,g){this.a=c;this.b=a;this.c=b;this.d=e;this.tx=f;this.ty=g;return this};d.prototype.toArray=function(c,a){this.array||(this.array=new Float32Array(9));a=a||this.array;c?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,
a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a};d.prototype.apply=function(c,a){a=a||new Ia;var b=c.x;c=c.y;a.x=this.a*b+this.c*c+this.tx;a.y=this.b*b+this.d*c+this.ty;return a};d.prototype.applyInverse=function(c,a){a=a||new Ia;var b=1/(this.a*this.d+this.c*-this.b),e=c.x;c=c.y;a.x=this.d*b*e+-this.c*b*c+(this.ty*this.c-this.tx*this.d)*b;a.y=this.a*b*c+-this.b*b*e+(-this.ty*this.a+this.tx*this.b)*
b;return a};d.prototype.translate=function(c,a){this.tx+=c;this.ty+=a;return this};d.prototype.scale=function(c,a){this.a*=c;this.d*=a;this.c*=c;this.b*=a;this.tx*=c;this.ty*=a;return this};d.prototype.rotate=function(c){var a=Math.cos(c);c=Math.sin(c);var b=this.a,e=this.c,f=this.tx;this.a=b*a-this.b*c;this.b=b*c+this.b*a;this.c=e*a-this.d*c;this.d=e*c+this.d*a;this.tx=f*a-this.ty*c;this.ty=f*c+this.ty*a;return this};d.prototype.append=function(c){var a=this.a,b=this.b,e=this.c,f=this.d;this.a=c.a*
a+c.b*e;this.b=c.a*b+c.b*f;this.c=c.c*a+c.d*e;this.d=c.c*b+c.d*f;this.tx=c.tx*a+c.ty*e+this.tx;this.ty=c.tx*b+c.ty*f+this.ty;return this};d.prototype.setTransform=function(c,a,b,e,f,g,h,k,l){this.a=Math.cos(h+l)*f;this.b=Math.sin(h+l)*f;this.c=-Math.sin(h-k)*g;this.d=Math.cos(h-k)*g;this.tx=c-(b*this.a+e*this.c);this.ty=a-(b*this.b+e*this.d);return this};d.prototype.prepend=function(c){var a=this.tx;if(1!==c.a||0!==c.b||0!==c.c||1!==c.d){var b=this.a,e=this.c;this.a=b*c.a+this.b*c.c;this.b=b*c.b+
this.b*c.d;this.c=e*c.a+this.d*c.c;this.d=e*c.b+this.d*c.d}this.tx=a*c.a+this.ty*c.c+c.tx;this.ty=a*c.b+this.ty*c.d+c.ty;return this};d.prototype.decompose=function(c){var a=this.a,b=this.b,e=this.c,f=this.d,g=c.pivot,h=-Math.atan2(-e,f),k=Math.atan2(b,a),l=Math.abs(h+k);1E-5>l||1E-5>Math.abs(uc-l)?(c.rotation=k,c.skew.x=c.skew.y=0):(c.rotation=0,c.skew.x=h,c.skew.y=k);c.scale.x=Math.sqrt(a*a+b*b);c.scale.y=Math.sqrt(e*e+f*f);c.position.x=this.tx+(g.x*a+g.y*e);c.position.y=this.ty+(g.x*b+g.y*f);return c};
d.prototype.invert=function(){var c=this.a,a=this.b,b=this.c,e=this.d,f=this.tx,g=c*e-a*b;this.a=e/g;this.b=-a/g;this.c=-b/g;this.d=c/g;this.tx=(b*this.ty-e*f)/g;this.ty=-(c*this.ty-a*f)/g;return this};d.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};d.prototype.clone=function(){var c=new d;c.a=this.a;c.b=this.b;c.c=this.c;c.d=this.d;c.tx=this.tx;c.ty=this.ty;return c};d.prototype.copyTo=function(c){c.a=this.a;c.b=this.b;c.c=this.c;c.d=this.d;c.tx=this.tx;
c.ty=this.ty;return c};d.prototype.copyFrom=function(c){this.a=c.a;this.b=c.b;this.c=c.c;this.d=c.d;this.tx=c.tx;this.ty=c.ty;return this};d.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"};Object.defineProperty(d,"IDENTITY",{get:function(){return new d},enumerable:!1,configurable:!0});Object.defineProperty(d,"TEMP_MATRIX",{get:function(){return new d},enumerable:!1,configurable:!0});return d}(),Lb=[1,1,0,
-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Mb=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Nb=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ob=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ke=[],Qg=[],$c=Math.sign;(function(){for(var d=0;16>d;d++){var c=[];Ke.push(c);for(var a=0;16>a;a++)for(var b=$c(Lb[d]*Lb[a]+Nb[d]*Mb[a]),e=$c(Mb[d]*Lb[a]+Ob[d]*Mb[a]),f=$c(Lb[d]*Nb[a]+Nb[d]*Ob[a]),g=$c(Mb[d]*Nb[a]+Ob[d]*Ob[a]),h=0;16>h;h++)if(Lb[h]===b&&Mb[h]===e&&Nb[h]===f&&Ob[h]===g){c.push(h);break}}for(d=0;16>d;d++)c=new La,c.set(Lb[d],
Mb[d],Nb[d],Ob[d],0,0),Qg.push(c)})();var Fa={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(d){return Lb[d]},uY:function(d){return Mb[d]},vX:function(d){return Nb[d]},vY:function(d){return Ob[d]},inv:function(d){return d&8?d&15:-d&7},add:function(d,c){return Ke[d][c]},sub:function(d,c){return Ke[d][Fa.inv(c)]},rotate180:function(d){return d^4},isVertical:function(d){return 2===(d&3)},byDirection:function(d,c){return 2*Math.abs(d)<=
Math.abs(c)?0<=c?Fa.S:Fa.N:2*Math.abs(c)<=Math.abs(d)?0<d?Fa.E:Fa.W:0<c?0<d?Fa.SE:Fa.SW:0<d?Fa.NE:Fa.NW},matrixAppendRotationInv:function(d,c,a,b){void 0===a&&(a=0);void 0===b&&(b=0);c=Qg[Fa.inv(c)];c.tx=a;c.ty=b;d.append(c)}},xe=function(){function d(){this.worldTransform=new La;this.localTransform=new La;this.position=new Jb(this.onChange,this,0,0);this.scale=new Jb(this.onChange,this,1,1);this.pivot=new Jb(this.onChange,this,0,0);this.skew=new Jb(this.updateSkew,this,0,0);this._rotation=0;this._cx=
1;this._cy=this._sx=0;this._sy=1;this._parentID=this._worldID=this._currentLocalID=this._localID=0}d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++};d.prototype.toString=function(){return"[@pixi/math:Transform position=("+(this.position.x+", "+this.position.y+") rotation=")+
(this.rotation+" scale=(")+(this.scale.x+", "+this.scale.y+") skew=(")+(this.skew.x+", "+this.skew.y+") ]")};d.prototype.updateLocalTransform=function(){var c=this.localTransform;this._localID!==this._currentLocalID&&(c.a=this._cx*this.scale.x,c.b=this._sx*this.scale.x,c.c=this._cy*this.scale.y,c.d=this._sy*this.scale.y,c.tx=this.position.x-(this.pivot.x*c.a+this.pivot.y*c.c),c.ty=this.position.y-(this.pivot.x*c.b+this.pivot.y*c.d),this._currentLocalID=this._localID,this._parentID=-1)};d.prototype.updateTransform=
function(c){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale.x,a.b=this._sx*this.scale.x,a.c=this._cy*this.scale.y,a.d=this._sy*this.scale.y,a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c),a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==c._worldID){var b=c.worldTransform,e=this.worldTransform;e.a=a.a*b.a+a.b*b.c;e.b=a.a*b.b+a.b*b.d;e.c=a.c*b.a+a.d*b.c;e.d=a.c*b.b+a.d*
b.d;e.tx=a.tx*b.a+a.ty*b.c+b.tx;e.ty=a.tx*b.b+a.ty*b.d+b.ty;this._parentID=c._worldID;this._worldID++}};d.prototype.setFromMatrix=function(c){c.decompose(this);this._localID++};Object.defineProperty(d.prototype,"rotation",{get:function(){return this._rotation},set:function(c){this._rotation!==c&&(this._rotation=c,this.updateSkew())},enumerable:!1,configurable:!0});d.IDENTITY=new d;return d}();na.SORTABLE_CHILDREN=!1;var pc=function(){function d(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;
this.rect=null;this.updateID=-1}d.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};d.prototype.clear=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};d.prototype.getRectangle=function(c){if(this.minX>this.maxX||this.minY>this.maxY)return xa.EMPTY;c=c||new xa(0,0,1,1);c.x=this.minX;c.y=this.minY;c.width=this.maxX-this.minX;c.height=this.maxY-this.minY;return c};d.prototype.addPoint=function(c){this.minX=Math.min(this.minX,c.x);this.maxX=Math.max(this.maxX,
c.x);this.minY=Math.min(this.minY,c.y);this.maxY=Math.max(this.maxY,c.y)};d.prototype.addPointMatrix=function(c,a){var b=c.a*a.x+c.c*a.y+c.tx;c=c.b*a.x+c.d*a.y+c.ty;this.minX=Math.min(this.minX,b);this.maxX=Math.max(this.maxX,b);this.minY=Math.min(this.minY,c);this.maxY=Math.max(this.maxY,c)};d.prototype.addQuad=function(c){var a=this.minX,b=this.minY,e=this.maxX,f=this.maxY,g=c[0],h=c[1];a=g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[2];h=c[3];a=g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[4];h=c[5];a=
g<a?g:a;b=h<b?h:b;e=g>e?g:e;f=h>f?h:f;g=c[6];h=c[7];this.minX=g<a?g:a;this.minY=h<b?h:b;this.maxX=g>e?g:e;this.maxY=h>f?h:f};d.prototype.addFrame=function(c,a,b,e,f){this.addFrameMatrix(c.worldTransform,a,b,e,f)};d.prototype.addFrameMatrix=function(c,a,b,e,f){var g=c.a,h=c.b,k=c.c,l=c.d,m=c.tx;c=c.ty;var n=this.minX,p=this.minY,v=this.maxX,E=this.maxY,J=g*a+k*b+m,T=h*a+l*b+c;n=J<n?J:n;p=T<p?T:p;v=J>v?J:v;E=T>E?T:E;J=g*e+k*b+m;T=h*e+l*b+c;n=J<n?J:n;p=T<p?T:p;v=J>v?J:v;E=T>E?T:E;J=g*a+k*f+m;T=h*a+l*
f+c;n=J<n?J:n;p=T<p?T:p;v=J>v?J:v;E=T>E?T:E;J=g*e+k*f+m;T=h*e+l*f+c;this.minX=J<n?J:n;this.minY=T<p?T:p;this.maxX=J>v?J:v;this.maxY=T>E?T:E};d.prototype.addVertexData=function(c,a,b){for(var e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;a<b;a+=2){var k=c[a],l=c[a+1];e=k<e?k:e;f=l<f?l:f;g=k>g?k:g;h=l>h?l:h}this.minX=e;this.minY=f;this.maxX=g;this.maxY=h};d.prototype.addVertices=function(c,a,b,e){this.addVerticesMatrix(c.worldTransform,a,b,e)};d.prototype.addVerticesMatrix=function(c,a,b,e,f,g){void 0===
f&&(f=0);void 0===g&&(g=f);var h=c.a,k=c.b,l=c.c,m=c.d,n=c.tx;c=c.ty;for(var p=this.minX,v=this.minY,E=this.maxX,J=this.maxY;b<e;b+=2){var T=a[b],ka=a[b+1],aa=h*T+l*ka+n;T=m*ka+k*T+c;p=Math.min(p,aa-f);E=Math.max(E,aa+f);v=Math.min(v,T-g);J=Math.max(J,T+g)}this.minX=p;this.minY=v;this.maxX=E;this.maxY=J};d.prototype.addBounds=function(c){var a=this.minX,b=this.minY,e=this.maxX,f=this.maxY;this.minX=c.minX<a?c.minX:a;this.minY=c.minY<b?c.minY:b;this.maxX=c.maxX>e?c.maxX:e;this.maxY=c.maxY>f?c.maxY:
f};d.prototype.addBoundsMask=function(c,a){var b=c.minX>a.minX?c.minX:a.minX,e=c.minY>a.minY?c.minY:a.minY,f=c.maxX<a.maxX?c.maxX:a.maxX;c=c.maxY<a.maxY?c.maxY:a.maxY;if(b<=f&&e<=c){a=this.minX;var g=this.minY,h=this.maxX,k=this.maxY;this.minX=b<a?b:a;this.minY=e<g?e:g;this.maxX=f>h?f:h;this.maxY=c>k?c:k}};d.prototype.addBoundsMatrix=function(c,a){this.addFrameMatrix(a,c.minX,c.minY,c.maxX,c.maxY)};d.prototype.addBoundsArea=function(c,a){var b=c.minX>a.x?c.minX:a.x,e=c.minY>a.y?c.minY:a.y,f=c.maxX<
a.x+a.width?c.maxX:a.x+a.width;c=c.maxY<a.y+a.height?c.maxY:a.y+a.height;if(b<=f&&e<=c){a=this.minX;var g=this.minY,h=this.maxX,k=this.maxY;this.minX=b<a?b:a;this.minY=e<g?e:g;this.maxX=f>h?f:h;this.maxY=c>k?c:k}};d.prototype.pad=function(c,a){void 0===c&&(c=0);void 0===a&&(a=c);this.isEmpty()||(this.minX-=c,this.maxX+=c,this.minY-=a,this.maxY+=a)};d.prototype.addFramePad=function(c,a,b,e,f,g){c-=f;a-=g;b+=f;e+=g;this.minX=this.minX<c?this.minX:c;this.maxX=this.maxX>b?this.maxX:b;this.minY=this.minY<
a?this.minY:a;this.maxY=this.maxY>e?this.maxY:e};return d}(),qd=function(d,c){qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return qd(d,c)},Ka=function(d){function c(){var a=d.call(this)||this;a.tempDisplayObjectParent=null;a.transform=new xe;a.alpha=1;a.visible=!0;a.renderable=!0;a.parent=null;a.worldAlpha=1;a._lastSortedIndex=0;a._zIndex=0;a.filterArea=null;a.filters=null;a._enabledFilters=null;
a._bounds=new pc;a._localBounds=null;a._boundsID=0;a._boundsRect=null;a._localBoundsRect=null;a._mask=null;a._destroyed=!1;a.isSprite=!1;a.isMask=!1;return a}pd(c,d);c.mixin=function(a){for(var b=Object.keys(a),e=0;e<b.length;++e){var f=b[e];Object.defineProperty(c.prototype,f,Object.getOwnPropertyDescriptor(a,f))}};c.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};
c.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha};c.prototype.getBounds=function(a,b){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID);b||(this._boundsRect||(this._boundsRect=
new xa),b=this._boundsRect);return this._bounds.getRectangle(b)};c.prototype.getLocalBounds=function(a){a||(this._localBoundsRect||(this._localBoundsRect=new xa),a=this._localBoundsRect);this._localBounds||(this._localBounds=new pc);var b=this.transform,e=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;var f=this._bounds,g=this._boundsID;this._bounds=this._localBounds;a=this.getBounds(!1,a);this.parent=e;this.transform=b;this._bounds=f;this._bounds.updateID+=this._boundsID-
g;return a};c.prototype.toGlobal=function(a,b,e){void 0===e&&(e=!1);e||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,b)};c.prototype.toLocal=function(a,b,e,f){b&&(a=b.toGlobal(a,e,f));f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,e)};c.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};c.prototype.setTransform=function(a,b,e,f,g,h,k,l,m){void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=1);void 0===g&&(g=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);this.position.x=a;this.position.y=b;this.scale.x=e?e:1;this.scale.y=f?f:1;this.rotation=
g;this.skew.x=h;this.skew.y=k;this.pivot.x=l;this.pivot.y=m;return this};c.prototype.destroy=function(a){this.parent&&this.parent.removeChild(this);this.removeAllListeners();this.hitArea=this.filterArea=this.filters=this._mask=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1;this._destroyed=!0};Object.defineProperty(c.prototype,"_tempDisplayObjectParent",{get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new te);return this.tempDisplayObjectParent},
enumerable:!1,configurable:!0});c.prototype.enableTempParent=function(){var a=this.parent;this.parent=this._tempDisplayObjectParent;return a};c.prototype.disableTempParent=function(a){this.parent=a};Object.defineProperty(c.prototype,"x",{get:function(){return this.position.x},set:function(a){this.transform.position.x=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"y",{get:function(){return this.position.y},set:function(a){this.transform.position.y=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this.transform.position},set:function(a){this.transform.position.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"scale",{get:function(){return this.transform.scale},
set:function(a){this.transform.scale.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"skew",{get:function(){return this.transform.skew},set:function(a){this.transform.skew.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rotation",{get:function(){return this.transform.rotation},
set:function(a){this.transform.rotation=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"angle",{get:function(){return this.transform.rotation*ng},set:function(a){this.transform.rotation=a*Wf},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"zIndex",{get:function(){return this._zIndex},set:function(a){this._zIndex=a;this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"worldVisible",{get:function(){var a=
this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"mask",{get:function(){return this._mask},set:function(a){if(this._mask){var b=this._mask.maskObject||this._mask;b.renderable=!0;b.isMask=!1}if(this._mask=a)b=this._mask.maskObject||this._mask,b.renderable=!1,b.isMask=!0},enumerable:!1,configurable:!0});return c}(dc()),te=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.sortDirty=null;return a}pd(c,
d);return c}(Ka);Ka.prototype.displayObjectUpdateTransform=Ka.prototype.updateTransform;var ab=function(d){function c(){var a=d.call(this)||this;a.children=[];a.sortableChildren=na.SORTABLE_CHILDREN;a.sortDirty=!1;return a}pd(c,d);c.prototype.onChildrenChange=function(a){};c.prototype.addChild=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];if(1<b.length)for(a=0;a<b.length;a++)this.addChild(b[a]);else a=b[0],a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,
a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this);return b[0]};c.prototype.addChildAt=function(a,b){if(0>b||b>this.children.length)throw Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;this.sortDirty=!0;a.transform._parentID=-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);
a.emit("added",this);this.emit("childAdded",a,this,b);return a};c.prototype.swapChildren=function(a,b){if(a!==b){var e=this.getChildIndex(a),f=this.getChildIndex(b);this.children[e]=b;this.children[f]=a;this.onChildrenChange(e<f?e:f)}};c.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");return a};c.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw Error("The index "+b+" supplied is out of bounds "+
this.children.length);var e=this.getChildIndex(a);sa(this.children,e,1);this.children.splice(b,0,a);this.onChildrenChange(b)};c.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};c.prototype.removeChild=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];if(1<b.length)for(a=0;a<b.length;a++)this.removeChild(b[a]);else{a=b[0];e=this.children.indexOf(a);if(-1===e)return null;a.parent=
null;a.transform._parentID=-1;sa(this.children,e,1);this._boundsID++;this.onChildrenChange(e);a.emit("removed",this);this.emit("childRemoved",a,this,e)}return b[0]};c.prototype.removeChildAt=function(a){var b=this.getChildAt(a);b.parent=null;b.transform._parentID=-1;sa(this.children,a,1);this._boundsID++;this.onChildrenChange(a);b.emit("removed",this);this.emit("childRemoved",b,this,a);return b};c.prototype.removeChildren=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.children.length);var e=
a,f=b-e;if(0<f&&f<=b){e=this.children.splice(e,f);for(b=0;b<e.length;++b)e[b].parent=null,e[b].transform&&(e[b].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(b=0;b<e.length;++b)e[b].emit("removed",this),this.emit("childRemoved",e[b],this,b);return e}if(0===f&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};c.prototype.sortChildren=function(){for(var a=!1,b=0,e=this.children.length;b<e;++b){var f=this.children[b];
f._lastSortedIndex=b;a||0===f.zIndex||(a=!0)}a&&1<this.children.length&&this.children.sort(Th);this.sortDirty=!1};c.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren();this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var e=this.children[a];e.visible&&e.updateTransform()}};c.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();
for(var a=0;a<this.children.length;a++){var b=this.children[a];if(b.visible&&b.renderable)if(b.calculateBounds(),b._mask){var e=b._mask.maskObject||b._mask;e.calculateBounds();this._bounds.addBoundsMask(b._bounds,e._bounds)}else b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds)}this._bounds.updateID=this._boundsID};c.prototype.getLocalBounds=function(a,b){void 0===b&&(b=!1);a=d.prototype.getLocalBounds.call(this,a);if(!b){b=0;for(var e=this.children.length;b<
e;++b){var f=this.children[b];f.visible&&f.updateTransform()}}return a};c.prototype._calculateBounds=function(){};c.prototype.render=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(a);else{this._render(a);for(var b=0,e=this.children.length;b<e;++b)this.children[b].render(a)}};c.prototype.renderAdvanced=function(a){a.batch.flush();var b=this.filters,e=this._mask;if(b){this._enabledFilters||(this._enabledFilters=
[]);for(var f=this._enabledFilters.length=0;f<b.length;f++)b[f].enabled&&this._enabledFilters.push(b[f]);this._enabledFilters.length&&a.filter.push(this,this._enabledFilters)}e&&a.mask.push(this,this._mask);this._render(a);f=0;for(var g=this.children.length;f<g;f++)this.children[f].render(a);a.batch.flush();e&&a.mask.pop(this);b&&this._enabledFilters&&this._enabledFilters.length&&a.filter.pop()};c.prototype._render=function(a){};c.prototype.destroy=function(a){d.prototype.destroy.call(this);this.sortDirty=
!1;var b="boolean"===typeof a?a:a&&a.children,e=this.removeChildren(0,this.children.length);if(b)for(b=0;b<e.length;++b)e[b].destroy(a)};Object.defineProperty(c.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;
this.scale.y=0!==b?a/b:1;this._height=a},enumerable:!1,configurable:!0});return c}(Ka);ab.prototype.containerUpdateTransform=ab.prototype.updateTransform;var zg={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ka.mixin(zg);var Kf=function(){function d(c){this._isMobileAccessibility=this._isActive=this.debug=!1;this.pool=[];this.renderId=0;this.children=
[];this.androidUpdateCount=0;this.androidUpdateFrequency=500;this._hookDiv=null;(Ya.tablet||Ya.phone)&&this.createTouchHook();var a=document.createElement("div");a.style.width="100px";a.style.height="100px";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.zIndex=(2).toString();this.div=a;this.renderer=c;this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);self.addEventListener("keydown",this._onKeyDown,!1)}Object.defineProperty(d.prototype,
"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0});d.prototype.createTouchHook=function(){var c=this,a=document.createElement("button");a.style.width="1px";a.style.height="1px";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";a.style.zIndex=(2).toString();a.style.backgroundColor="#FF0000";a.title="select to enable accessibility for this content";
a.addEventListener("focus",function(){c._isMobileAccessibility=!0;c.activate();c.destroyTouchHook()});document.body.appendChild(a);this._hookDiv=a};d.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)};d.prototype.activate=function(){var c;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,
this),null===(c=this.renderer.view.parentNode)||void 0===c?void 0:c.appendChild(this.div))};d.prototype.deactivate=function(){var c;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(c=this.div.parentNode)||void 0===c?void 0:c.removeChild(this.div))};d.prototype.updateAccessibleObjects=function(c){if(c.visible&&c.accessibleChildren){c.accessible&&
c.interactive&&(c._accessibleActive||this.addChild(c),c.renderId=this.renderId);c=c.children;for(var a=0;a<c.length;a++)this.updateAccessibleObjects(c[a])}};d.prototype.update=function(){var c=performance.now();if(!(Ya.android.device&&c<this.androidUpdateCount)&&(this.androidUpdateCount=c+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),b=
a.top;c=this.renderer;var e=c.width,f=c.height,g=c.resolution;c=a.width/e*g;g*=a.height/f;var h=this.div;h.style.left=a.left+"px";h.style.top=b+"px";h.style.width=e+"px";h.style.height=f+"px";for(a=0;a<this.children.length;a++)if(b=this.children[a],b.renderId!==this.renderId)b._accessibleActive=!1,sa(this.children,a,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,a--;else if(h=b._accessibleDiv,e=b.hitArea,f=b.worldTransform,b.hitArea?(h.style.left=
(f.tx+e.x*f.a)*c+"px",h.style.top=(f.ty+e.y*f.d)*g+"px",h.style.width=e.width*f.a*c+"px",h.style.height=e.height*f.d*g+"px"):(e=b.getBounds(),this.capHitArea(e),h.style.left=e.x*c+"px",h.style.top=e.y*g+"px",h.style.width=e.width*c+"px",h.style.height=e.height*g+"px",h.title!==b.accessibleTitle&&null!==b.accessibleTitle&&(h.title=b.accessibleTitle),h.getAttribute("aria-label")!==b.accessibleHint&&null!==b.accessibleHint&&h.setAttribute("aria-label",b.accessibleHint)),b.accessibleTitle!==h.title||
b.tabIndex!==h.tabIndex)h.title=b.accessibleTitle,h.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(h);this.renderId++}};d.prototype.updateDebugHTML=function(c){c.innerHTML="type: "+c.type+"</br> title : "+c.title+"</br> tabIndex: "+c.tabIndex};d.prototype.capHitArea=function(c){0>c.x&&(c.width+=c.x,c.x=0);0>c.y&&(c.height+=c.y,c.y=0);var a=this.renderer,b=a.width;a=a.height;c.x+c.width>b&&(c.width=b-c.x);c.y+c.height>a&&(c.height=a-c.y)};d.prototype.addChild=function(c){var a=this.pool.pop();
a||(a=document.createElement("button"),a.style.width="100px",a.style.height="100px",a.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=(2).toString(),a.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?a.setAttribute("aria-live","off"):a.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?a.setAttribute("aria-relevant","additions"):a.setAttribute("aria-relevant","text"),a.addEventListener("click",
this._onClick.bind(this)),a.addEventListener("focus",this._onFocus.bind(this)),a.addEventListener("focusout",this._onFocusOut.bind(this)));a.style.pointerEvents=c.accessiblePointerEvents;a.type=c.accessibleType;c.accessibleTitle&&null!==c.accessibleTitle?a.title=c.accessibleTitle:c.accessibleHint&&null!==c.accessibleHint||(a.title="displayObject "+c.tabIndex);c.accessibleHint&&null!==c.accessibleHint&&a.setAttribute("aria-label",c.accessibleHint);this.debug&&this.updateDebugHTML(a);c._accessibleActive=
!0;c._accessibleDiv=a;a.displayObject=c;this.children.push(c);this.div.appendChild(c._accessibleDiv);c._accessibleDiv.tabIndex=c.tabIndex};d.prototype._onClick=function(c){var a=this.renderer.plugins.interaction;c=c.target.displayObject;var b=a.eventData;a.dispatchEvent(c,"click",b);a.dispatchEvent(c,"pointertap",b);a.dispatchEvent(c,"tap",b)};d.prototype._onFocus=function(c){c.target.getAttribute("aria-live")||c.target.setAttribute("aria-live","assertive");var a=this.renderer.plugins.interaction;
a.dispatchEvent(c.target.displayObject,"mouseover",a.eventData)};d.prototype._onFocusOut=function(c){c.target.getAttribute("aria-live")||c.target.setAttribute("aria-live","polite");var a=this.renderer.plugins.interaction;a.dispatchEvent(c.target.displayObject,"mouseout",a.eventData)};d.prototype._onKeyDown=function(c){9===c.keyCode&&this.activate()};d.prototype._onMouseMove=function(c){0===c.movementX&&0===c.movementY||this.deactivate()};d.prototype.destroy=function(){this.destroyTouchHook();this.div=
null;self.document.removeEventListener("mousemove",this._onMouseMove,!0);self.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return d}();na.TARGET_FPMS=.06;var kb;(function(d){d[d.INTERACTION=50]="INTERACTION";d[d.HIGH=25]="HIGH";d[d.NORMAL=0]="NORMAL";d[d.LOW=-25]="LOW";d[d.UTILITY=-50]="UTILITY"})(kb||(kb={}));var Le=function(){function d(c,a,b,e){void 0===a&&(a=null);void 0===b&&(b=0);void 0===e&&(e=!1);this.previous=this.next=null;this._destroyed=!1;
this.fn=c;this.context=a;this.priority=b;this.once=e}d.prototype.match=function(c,a){void 0===a&&(a=null);return this.fn===c&&this.context===a};d.prototype.emit=function(c){this.fn&&(this.context?this.fn.call(this.context,c):this.fn(c));c=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return c};d.prototype.connect=function(c){this.previous=c;c.next&&(c.next.previous=this);this.next=c.next;c.next=this};d.prototype.destroy=function(c){void 0===c&&(c=!1);this._destroyed=!0;this.context=
this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var a=this.next;this.next=c?null:a;this.previous=null;return a};return d}(),Oa=function(){function d(){var c=this;this.autoStart=!1;this.deltaTime=1;this.lastTime=-1;this.speed=1;this.started=!1;this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this._protected=!1;this._lastFrame=-1;this._head=new Le(null,null,Infinity);this.deltaMS=1/na.TARGET_FPMS;this.elapsedMS=1/na.TARGET_FPMS;
this._tick=function(a){c._requestId=null;c.started&&(c.update(a),c.started&&null===c._requestId&&c._head.next&&(c._requestId=requestAnimationFrame(c._tick)))}}d.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this._lastFrame=this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};d.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};d.prototype._startIfPossible=function(){this.started?
this._requestIfNeeded():this.autoStart&&this.start()};d.prototype.add=function(c,a,b){void 0===b&&(b=kb.NORMAL);return this._addListener(new Le(c,a,b))};d.prototype.addOnce=function(c,a,b){void 0===b&&(b=kb.NORMAL);return this._addListener(new Le(c,a,b,!0))};d.prototype._addListener=function(c){var a=this._head.next,b=this._head;if(a){for(;a;){if(c.priority>a.priority){c.connect(b);break}b=a;a=a.next}c.previous||c.connect(b)}else c.connect(b);this._startIfPossible();return this};d.prototype.remove=
function(c,a){for(var b=this._head.next;b;)b=b.match(c,a)?b.destroy():b.next;this._head.next||this._cancelIfNeeded();return this};Object.defineProperty(d.prototype,"count",{get:function(){if(!this._head)return 0;for(var c=0,a=this._head;a=a.next;)c++;return c},enumerable:!1,configurable:!0});d.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};d.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};d.prototype.destroy=function(){if(!this._protected){this.stop();
for(var c=this._head.next;c;)c=c.destroy(!0);this._head.destroy();this._head=null}};d.prototype.update=function(c){void 0===c&&(c=performance.now());if(c>this.lastTime){var a=this.elapsedMS=c-this.lastTime;a>this._maxElapsedMS&&(a=this._maxElapsedMS);a*=this.speed;if(this._minElapsedMS){var b=c-this._lastFrame|0;if(b<this._minElapsedMS)return;this._lastFrame=c-b%this._minElapsedMS}this.deltaMS=a;this.deltaTime=this.deltaMS*na.TARGET_FPMS;a=this._head;for(b=a.next;b;)b=b.emit(this.deltaTime);a.next||
this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=c};Object.defineProperty(d.prototype,"FPS",{get:function(){return 1E3/this.elapsedMS},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"minFPS",{get:function(){return 1E3/this._maxElapsedMS},set:function(c){this._maxElapsedMS=1/Math.min(Math.max(0,Math.min(this.maxFPS,c))/1E3,na.TARGET_FPMS)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"maxFPS",{get:function(){return this._minElapsedMS?
Math.round(1E3/this._minElapsedMS):0},set:function(c){this._minElapsedMS=0===c?0:1/(Math.max(this.minFPS,c)/1E3)},enumerable:!1,configurable:!0});Object.defineProperty(d,"shared",{get:function(){if(!d._shared){var c=d._shared=new d;c.autoStart=!0;c._protected=!0}return d._shared},enumerable:!1,configurable:!0});Object.defineProperty(d,"system",{get:function(){if(!d._system){var c=d._system=new d;c.autoStart=!0;c._protected=!0}return d._system},enumerable:!1,configurable:!0});return d}(),xg=function(){function d(){}
d.init=function(c){var a=this;c=Object.assign({autoStart:!0,sharedTicker:!1},c);Object.defineProperty(this,"ticker",{set:function(b){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=b)&&b.add(this.render,this,kb.LOW)},get:function(){return this._ticker}});this.stop=function(){a._ticker.stop()};this.start=function(){a._ticker.start()};this._ticker=null;this.ticker=c.sharedTicker?Oa.shared:new Oa;c.autoStart&&this.start()};d.destroy=function(){if(this._ticker){var c=this._ticker;this.ticker=
null;c.destroy()}};return d}(),ie=function(){function d(){this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0;this.global=new Ia;this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}Object.defineProperty(d.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0});d.prototype.getLocalPosition=
function(c,a,b){return c.worldTransform.applyInverse(b||this.global,a)};d.prototype.copyEvent=function(c){"isPrimary"in c&&c.isPrimary&&(this.isPrimary=!0);this.button="button"in c&&c.button;var a="buttons"in c&&c.buttons;this.buttons=Number.isInteger(a)?a:"which"in c&&c.which;this.width="width"in c&&c.width;this.height="height"in c&&c.height;this.tiltX="tiltX"in c&&c.tiltX;this.tiltY="tiltY"in c&&c.tiltY;this.pointerType="pointerType"in c&&c.pointerType;this.pressure="pressure"in c&&c.pressure;this.rotationAngle=
"rotationAngle"in c&&c.rotationAngle;this.twist="twist"in c&&c.twist||0;this.tangentialPressure="tangentialPressure"in c&&c.tangentialPressure||0};d.prototype.reset=function(){this.isPrimary=!1};return d}(),rd=function(d,c){rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return rd(d,c)},dg=function(){function d(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.data=
this.type=this.currentTarget=this.target=null}d.prototype.stopPropagation=function(){this.stopPropagationHint=this.stopped=!0;this.stopsPropagatingAt=this.currentTarget};d.prototype.reset=function(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.target=this.currentTarget=null};return d}(),Vc=function(){function d(c){this._pointerId=c;this._flags=d.FLAGS.NONE}d.prototype._doSet=function(c,a){this._flags=a?this._flags|c:this._flags&~c};Object.defineProperty(d.prototype,
"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"flags",{get:function(){return this._flags},set:function(c){this._flags=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"none",{get:function(){return this._flags===d.FLAGS.NONE},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"over",{get:function(){return 0!==(this._flags&d.FLAGS.OVER)},set:function(c){this._doSet(d.FLAGS.OVER,c)},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"rightDown",{get:function(){return 0!==(this._flags&d.FLAGS.RIGHT_DOWN)},set:function(c){this._doSet(d.FLAGS.RIGHT_DOWN,c)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"leftDown",{get:function(){return 0!==(this._flags&d.FLAGS.LEFT_DOWN)},set:function(c){this._doSet(d.FLAGS.LEFT_DOWN,c)},enumerable:!1,configurable:!0});d.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});return d}(),Ni=function(){function d(){this._tempPoint=
new Ia}d.prototype.recursiveFindHit=function(c,a,b,e,f){if(!a||!a.visible)return!1;var g=c.data.global;f=a.interactive||f;var h=!1,k=f,l=!0;a.hitArea?(e&&(a.worldTransform.applyInverse(g,this._tempPoint),a.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?h=!0:l=e=!1),k=!1):a._mask&&e&&(a._mask.containsPoint&&a._mask.containsPoint(g)||(e=!1));if(l&&a.interactiveChildren&&a.children){l=a.children;for(var m=l.length-1;0<=m;m--){var n=l[m],p=this.recursiveFindHit(c,n,b,e,k);p&&n.parent&&(k=!1,p&&
(c.target&&(e=!1),h=!0))}}f&&(e&&!c.target&&!a.hitArea&&a.containsPoint&&a.containsPoint(g)&&(h=!0),a.interactive&&(h&&!c.target&&(c.target=a),b&&b(c,a,!!h)));return h};d.prototype.findHit=function(c,a,b,e){this.recursiveFindHit(c,a,b,e,!1)};return d}(),Bg={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(d){d?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&
(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0};Ka.mixin(Bg);var ad={target:null,data:{global:null}},eg=function(d){function c(a,b){var e=d.call(this)||this;b=b||{};e.renderer=a;e.autoPreventDefault=void 0!==b.autoPreventDefault?b.autoPreventDefault:!0;e.interactionFrequency=b.interactionFrequency||10;e.mouse=new ie;e.mouse.identifier=1;e.mouse.global.set(-999999);e.activeInteractionData={};e.activeInteractionData[1]=e.mouse;e.interactionDataPool=[];e.eventData=new dg;
e.interactionDOMElement=null;e.moveWhenInside=!1;e.eventsAdded=!1;e.tickerAdded=!1;e.mouseOverRenderer=!("PointerEvent"in self);e.supportsTouchEvents="ontouchstart"in self;e.supportsPointerEvents=!!self.PointerEvent;e.onPointerUp=e.onPointerUp.bind(e);e.processPointerUp=e.processPointerUp.bind(e);e.onPointerCancel=e.onPointerCancel.bind(e);e.processPointerCancel=e.processPointerCancel.bind(e);e.onPointerDown=e.onPointerDown.bind(e);e.processPointerDown=e.processPointerDown.bind(e);e.onPointerMove=
e.onPointerMove.bind(e);e.processPointerMove=e.processPointerMove.bind(e);e.onPointerOut=e.onPointerOut.bind(e);e.processPointerOverOut=e.processPointerOverOut.bind(e);e.onPointerOver=e.onPointerOver.bind(e);e.cursorStyles={default:"inherit",pointer:"pointer"};e.currentCursorMode=null;e.cursor=null;e.resolution=1;e.delayedEvents=[];e.search=new Ni;e._tempDisplayObject=new te;e._useSystemTicker=void 0!==b.useSystemTicker?b.useSystemTicker:!0;e.setTargetElement(e.renderer.view,e.renderer.resolution);
return e}Uh(c,d);Object.defineProperty(c.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(a){(this._useSystemTicker=a)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0});c.prototype.hitTest=function(a,b){ad.target=null;ad.data.global=a;b||(b=this.lastObjectRendered);
this.processInteractive(ad,b,null,!0);return ad.target};c.prototype.setTargetElement=function(a,b){void 0===b&&(b=1);this.removeTickerListener();this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents();this.addTickerListener()};c.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Oa.system.add(this.tickerUpdate,this,kb.INTERACTION),this.tickerAdded=!0)};c.prototype.removeTickerListener=function(){this.tickerAdded&&
(Oa.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)};c.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="none",a.msTouchAction="none"):this.supportsPointerEvents&&(a.touchAction="none");this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",
this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",
this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0}};c.prototype.removeEvents=function(){if(this.eventsAdded&&
this.interactionDOMElement){var a=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(a.msContentZooming="",a.msTouchAction=""):this.supportsPointerEvents&&(a.touchAction="");this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",
this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,
!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0));this.interactionDOMElement=null;this.eventsAdded=!1}};c.prototype.tickerUpdate=function(a){this._deltaTime+=a;this._deltaTime<this.interactionFrequency||
(this._deltaTime=0,this.update())};c.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{this.cursor=null;for(var a in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(a)){var b=this.activeInteractionData[a];b.originalEvent&&"touch"!==b.pointerType&&(b=this.configureInteractionEventForDOMEvent(this.eventData,b.originalEvent,b),this.processInteractive(b,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}};
c.prototype.setCursorMode=function(a){a=a||"default";var b=!0;self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(b=!1);if(this.currentCursorMode!==a){this.currentCursorMode=a;var e=this.cursorStyles[a];if(e)switch(typeof e){case "string":b&&(this.interactionDOMElement.style.cursor=e);break;case "function":e(a);break;case "object":b&&Object.assign(this.interactionDOMElement.style,e)}else b&&"string"===typeof a&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,a)&&
(this.interactionDOMElement.style.cursor=a)}};c.prototype.dispatchEvent=function(a,b,e){if(!e.stopPropagationHint||a===e.stopsPropagatingAt)if(e.currentTarget=a,e.type=b,a.emit(b,e),a[b])a[b](e)};c.prototype.delayDispatchEvent=function(a,b,e){this.delayedEvents.push({displayObject:a,eventString:b,eventData:e})};c.prototype.mapPositionToPoint=function(a,b,e){var f=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,
height:this.interactionDOMElement.height,left:0,top:0};var g=1/this.resolution;a.x=this.interactionDOMElement.width/f.width*(b-f.left)*g;a.y=this.interactionDOMElement.height/f.height*(e-f.top)*g};c.prototype.processInteractive=function(a,b,e,f){b=this.search.findHit(a,b,e,f);e=this.delayedEvents;if(!e.length)return b;a.stopPropagationHint=!1;a=e.length;this.delayedEvents=[];for(f=0;f<a;f++){var g=e[f],h=g.displayObject,k=g.eventString;g=g.eventData;g.stopsPropagatingAt===h&&(g.stopPropagationHint=
!0);this.dispatchEvent(h,k,g)}return b};c.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&(!a.cancelable&&"cancelable"in a||a.preventDefault());for(var e=b.length,f=0;f<e;f++){var g=b[f],h=this.getInteractionDataForPointerId(g);h=this.configureInteractionEventForDOMEvent(this.eventData,g,h);h.data.originalEvent=a;this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,
!0);this.emit("pointerdown",h);"touch"===g.pointerType?this.emit("touchstart",h):("mouse"===g.pointerType||"pen"===g.pointerType)&&this.emit(2===g.button?"rightdown":"mousedown",this.eventData)}}};c.prototype.processPointerDown=function(a,b,e){var f=a.data,g=a.data.identifier;if(e)if(b.trackedPointers[g]||(b.trackedPointers[g]=new Vc(g)),this.dispatchEvent(b,"pointerdown",a),"touch"===f.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===f.pointerType||"pen"===f.pointerType)(e=2===
f.button)?b.trackedPointers[g].rightDown=!0:b.trackedPointers[g].leftDown=!0,this.dispatchEvent(b,e?"rightdown":"mousedown",a)};c.prototype.onPointerComplete=function(a,b,e){for(var f=this.normalizeToPointerData(a),g=f.length,h=a.target!==this.interactionDOMElement?"outside":"",k=0;k<g;k++){var l=f[k],m=this.getInteractionDataForPointerId(l);m=this.configureInteractionEventForDOMEvent(this.eventData,l,m);m.data.originalEvent=a;this.processInteractive(m,this.lastObjectRendered,e,b||!h);this.emit(b?
"pointercancel":"pointerup"+h,m);"mouse"===l.pointerType||"pen"===l.pointerType?this.emit(2===l.button?"rightup"+h:"mouseup"+h,m):"touch"===l.pointerType&&(this.emit(b?"touchcancel":"touchend"+h,m),this.releaseInteractionDataForPointerId(l.pointerId))}};c.prototype.onPointerCancel=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!0,this.processPointerCancel)};c.prototype.processPointerCancel=function(a,b){var e=a.data,f=a.data.identifier;void 0!==b.trackedPointers[f]&&
(delete b.trackedPointers[f],this.dispatchEvent(b,"pointercancel",a),"touch"===e.pointerType&&this.dispatchEvent(b,"touchcancel",a))};c.prototype.onPointerUp=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!1,this.processPointerUp)};c.prototype.processPointerUp=function(a,b,e){var f=a.data,g=a.data.identifier,h=b.trackedPointers[g],k="touch"===f.pointerType,l="mouse"===f.pointerType||"pen"===f.pointerType,m=!1;if(l){f=2===f.button;var n=Vc.FLAGS;n=f?n.RIGHT_DOWN:
n.LEFT_DOWN;n=void 0!==h&&h.flags&n;e?(this.dispatchEvent(b,f?"rightup":"mouseup",a),n&&(this.dispatchEvent(b,f?"rightclick":"click",a),m=!0)):n&&this.dispatchEvent(b,f?"rightupoutside":"mouseupoutside",a);h&&(f?h.rightDown=!1:h.leftDown=!1)}e?(this.dispatchEvent(b,"pointerup",a),k&&this.dispatchEvent(b,"touchend",a),h&&(l&&!m||this.dispatchEvent(b,"pointertap",a),k&&(this.dispatchEvent(b,"tap",a),h.over=!1))):h&&(this.dispatchEvent(b,"pointerupoutside",a),k&&this.dispatchEvent(b,"touchendoutside",
a));h&&h.none&&delete b.trackedPointers[g]};c.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);if("mouse"===b[0].pointerType||"pen"===b[0].pointerType)this._didMove=!0,this.cursor=null;for(var e=b.length,f=0;f<e;f++){var g=b[f],h=this.getInteractionDataForPointerId(g);h=this.configureInteractionEventForDOMEvent(this.eventData,g,h);h.data.originalEvent=a;this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,
!0);this.emit("pointermove",h);"touch"===g.pointerType&&this.emit("touchmove",h);"mouse"!==g.pointerType&&"pen"!==g.pointerType||this.emit("mousemove",h)}"mouse"===b[0].pointerType&&this.setCursorMode(this.cursor)}};c.prototype.processPointerMove=function(a,b,e){var f=a.data,g="touch"===f.pointerType;(f="mouse"===f.pointerType||"pen"===f.pointerType)&&this.processPointerOverOut(a,b,e);if(!this.moveWhenInside||e)this.dispatchEvent(b,"pointermove",a),g&&this.dispatchEvent(b,"touchmove",a),f&&this.dispatchEvent(b,
"mousemove",a)};c.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){a=this.normalizeToPointerData(a)[0];"mouse"===a.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),e=this.configureInteractionEventForDOMEvent(this.eventData,a,b);e.data.originalEvent=a;this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",e);"mouse"===a.pointerType||"pen"===a.pointerType?
this.emit("mouseout",e):this.releaseInteractionDataForPointerId(b.identifier)}};c.prototype.processPointerOverOut=function(a,b,e){var f=a.data,g=a.data.identifier;f="mouse"===f.pointerType||"pen"===f.pointerType;var h=b.trackedPointers[g];e&&!h&&(h=b.trackedPointers[g]=new Vc(g));void 0!==h&&(e&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(b,"pointerover",a),f&&this.delayDispatchEvent(b,"mouseover",a)),f&&null===this.cursor&&(this.cursor=b.cursor)):h.over&&(h.over=!1,this.dispatchEvent(b,
"pointerout",this.eventData),f&&this.dispatchEvent(b,"mouseout",a),h.none&&delete b.trackedPointers[g]))};c.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a)[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;"mouse"===a.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit("mouseover",b)};c.prototype.getInteractionDataForPointerId=
function(a){var b=a.pointerId;if(1===b||"mouse"===a.pointerType)var e=this.mouse;else this.activeInteractionData[b]?e=this.activeInteractionData[b]:(e=this.interactionDataPool.pop()||new ie,e.identifier=b,this.activeInteractionData[b]=e);e.copyEvent(a);return e};c.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};c.prototype.configureInteractionEventForDOMEvent=function(a,
b,e){a.data=e;this.mapPositionToPoint(e.global,b.clientX,b.clientY);"touch"===b.pointerType&&(b.globalX=e.global.x,b.globalY=e.global.y);e.originalEvent=b;a.reset();return a};c.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var e=0,f=a.changedTouches.length;e<f;e++){var g=a.changedTouches[e];"undefined"===typeof g.button&&(g.button=a.touches.length?1:0);"undefined"===typeof g.buttons&&(g.buttons=a.touches.length?1:0);"undefined"===typeof g.isPrimary&&
(g.isPrimary=1===a.touches.length&&"touchstart"===a.type);"undefined"===typeof g.width&&(g.width=g.radiusX||1);"undefined"===typeof g.height&&(g.height=g.radiusY||1);"undefined"===typeof g.tiltX&&(g.tiltX=0);"undefined"===typeof g.tiltY&&(g.tiltY=0);"undefined"===typeof g.pointerType&&(g.pointerType="touch");"undefined"===typeof g.pointerId&&(g.pointerId=g.identifier||0);"undefined"===typeof g.pressure&&(g.pressure=g.force||.5);"undefined"===typeof g.twist&&(g.twist=0);"undefined"===typeof g.tangentialPressure&&
(g.tangentialPressure=0);"undefined"===typeof g.layerX&&(g.layerX=g.offsetX=g.clientX);"undefined"===typeof g.layerY&&(g.layerY=g.offsetY=g.clientY);g.isNormalized=!0;b.push(g)}else{if(!self.MouseEvent||a instanceof MouseEvent&&!(this.supportsPointerEvents&&a instanceof self.PointerEvent))"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=
0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0;b.push(a)}return b};c.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();this.search=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=
this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return c}(dc()),Pa=function(){function d(c){this.items=[];this._name=c;this._aliasCount=0}d.prototype.emit=function(c,a,b,e,f,g,h,k){if(8<arguments.length)throw Error("max arguments reached");var l=this.name,m=this.items;this._aliasCount++;for(var n=0,p=m.length;n<p;n++)m[n][l](c,
a,b,e,f,g,h,k);m===this.items&&this._aliasCount--;return this};d.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))};d.prototype.add=function(c){c[this._name]&&(this.ensureNonAliasedItems(),this.remove(c),this.items.push(c));return this};d.prototype.remove=function(c){c=this.items.indexOf(c);-1!==c&&(this.ensureNonAliasedItems(),this.items.splice(c,1));return this};d.prototype.contains=function(c){return-1!==this.items.indexOf(c)};
d.prototype.removeAll=function(){this.ensureNonAliasedItems();this.items.length=0;return this};d.prototype.destroy=function(){this.removeAll();this._name=this.items=null};Object.defineProperty(d.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0});return d}();Object.defineProperties(Pa.prototype,{dispatch:{value:Pa.prototype.emit},run:{value:Pa.prototype.emit}});
na.PREFER_ENV=Ya.any?eb.WEBGL:eb.WEBGL2;na.STRICT_TEXTURE_CACHE=!1;var lc=[],sd=function(d,c){sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return sd(d,c)},Kb=function(){function d(c,a){void 0===c&&(c=0);void 0===a&&(a=0);this._width=c;this._height=a;this.internal=this.destroyed=!1;this.onResize=new Pa("setRealSize");this.onUpdate=new Pa("update");this.onError=new Pa("onError")}d.prototype.bind=
function(c){this.onResize.add(c);this.onUpdate.add(c);this.onError.add(c);(this._width||this._height)&&this.onResize.emit(this._width,this._height)};d.prototype.unbind=function(c){this.onResize.remove(c);this.onUpdate.remove(c);this.onError.remove(c)};d.prototype.resize=function(c,a){if(c!==this._width||a!==this._height)this._width=c,this._height=a,this.onResize.emit(c,a)};Object.defineProperty(d.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0});
d.prototype.update=function(){this.destroyed||this.onUpdate.emit()};d.prototype.load=function(){return Promise.resolve(this)};Object.defineProperty(d.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0});d.prototype.style=function(c,a,b){return!1};d.prototype.dispose=function(){};d.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),
this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)};d.test=function(c,a){return!1};return d}(),Zb=function(d){function c(a,b){var e=b||{};b=e.width;e=e.height;if(!b||!e)throw Error("BufferResource width or height invalid");b=d.call(this,b,e)||this;b.data=a;return b}ua(c,d);c.prototype.upload=function(a,b,e){a=a.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===gb.UNPACK);var f=b.realWidth,g=b.realHeight;
e.width===f&&e.height===g?a.texSubImage2D(b.target,0,0,0,f,g,b.format,b.type,this.data):(e.width=f,e.height=g,a.texImage2D(b.target,0,e.internalFormat,f,g,0,b.format,e.type,this.data));return!0};c.prototype.dispose=function(){this.data=null};c.test=function(a){return a instanceof Float32Array||a instanceof Uint8Array||a instanceof Uint32Array};return c}(Kb),Oi={scaleMode:jb.NEAREST,format:bb.RGBA,alphaMode:gb.NPM},za=function(d){function c(a,b){void 0===a&&(a=null);void 0===b&&(b=null);var e=d.call(this)||
this;b=b||{};var f=b.alphaMode,g=b.mipmap,h=b.anisotropicLevel,k=b.scaleMode,l=b.width,m=b.height,n=b.wrapMode,p=b.format,v=b.type,E=b.target,J=b.resolution;b=b.resourceOptions;!a||a instanceof Kb||(a=Gc(a,b),a.internal=!0);e.width=l||0;e.height=m||0;e.resolution=J||na.RESOLUTION;e.mipmap=void 0!==g?g:na.MIPMAP_TEXTURES;e.anisotropicLevel=void 0!==h?h:na.ANISOTROPIC_LEVEL;e.wrapMode=n||na.WRAP_MODE;e.scaleMode=void 0!==k?k:na.SCALE_MODE;e.format=p||bb.RGBA;e.type=v||Ca.UNSIGNED_BYTE;e.target=E||Ab.TEXTURE_2D;
e.alphaMode=void 0!==f?f:gb.UNPACK;e.uid=++Fb;e.touched=0;e.isPowerOfTwo=!1;e._refreshPOT();e._glTextures={};e.dirtyId=0;e.dirtyStyleId=0;e.cacheId=null;e.valid=0<l&&0<m;e.textureCacheIds=[];e.destroyed=!1;e.resource=null;e._batchEnabled=0;e._batchLocation=0;e.parentTextureArray=null;e.setResource(a);return e}ua(c,d);Object.defineProperty(c.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1E-4)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"realHeight",
{get:function(){return Math.ceil(this.height*this.resolution-1E-4)},enumerable:!1,configurable:!0});c.prototype.setStyle=function(a,b){if(void 0!==a&&a!==this.scaleMode){this.scaleMode=a;var e=!0}void 0!==b&&b!==this.mipmap&&(this.mipmap=b,e=!0);e&&this.dirtyStyleId++;return this};c.prototype.setSize=function(a,b,e){this.resolution=e||this.resolution;this.width=a;this.height=b;this._refreshPOT();this.update();return this};c.prototype.setRealSize=function(a,b,e){this.resolution=e||this.resolution;
this.width=a/this.resolution;this.height=b/this.resolution;this._refreshPOT();this.update();return this};c.prototype._refreshPOT=function(){this.isPowerOfTwo=Z(this.realWidth)&&Z(this.realHeight)};c.prototype.setResolution=function(a){var b=this.resolution;if(b===a)return this;this.resolution=a;this.valid&&(this.width=this.width*b/a,this.height=this.height*b/a,this.emit("update",this));this._refreshPOT();return this};c.prototype.setResource=function(a){if(this.resource===a)return this;if(this.resource)throw Error("Resource can be set only once");
a.bind(this);this.resource=a;return this};c.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))};c.prototype.onError=function(a){this.emit("error",this,a)};c.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null);this.cacheId&&(delete Va[this.cacheId],delete Ra[this.cacheId],
this.cacheId=null);this.dispose();c.removeFromCache(this);this.textureCacheIds=null;this.destroyed=!0};c.prototype.dispose=function(){this.emit("dispose",this)};c.prototype.castToBaseTexture=function(){return this};c.from=function(a,b,e){void 0===e&&(e=na.STRICT_TEXTURE_CACHE);var f="string"===typeof a;if(f)var g=a;else a._pixiId||(a._pixiId=(b&&b.pixiIdPrefix||"pixiid")+"_"+ ++Fb),g=a._pixiId;var h=Va[g];if(f&&e&&!h)throw Error('The cacheId "'+g+'" does not exist in BaseTextureCache.');h||(h=new c(a,
b),h.cacheId=g,c.addToCache(h,g));return h};c.fromBuffer=function(a,b,e,f){a=a||new Float32Array(b*e*4);var g=new Zb(a,{width:b,height:e});a=a instanceof Float32Array?Ca.FLOAT:Ca.UNSIGNED_BYTE;return new c(g,Object.assign(Oi,f||{width:b,height:e,type:a}))};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),Va[b]&&console.warn("BaseTexture added to the cache with an id ["+b+"] that already had an entry"),Va[b]=a)};c.removeFromCache=function(a){if("string"===
typeof a){var b=Va[a];if(b){var e=b.textureCacheIds.indexOf(a);-1<e&&b.textureCacheIds.splice(e,1);delete Va[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)delete Va[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};c._globalBatch=0;return c}(dc()),Lc=function(d){function c(a,b){b=b||{};b=d.call(this,b.width,b.height)||this;b.items=[];b.itemDirtyIds=[];for(var e=0;e<a;e++){var f=new za;b.items.push(f);b.itemDirtyIds.push(-2)}b.length=a;b._load=
null;b.baseTexture=null;return b}ua(c,d);c.prototype.initFromArray=function(a,b){for(var e=0;e<this.length;e++)a[e]&&(a[e].castToBaseTexture?this.addBaseTextureAt(a[e].castToBaseTexture(),e):a[e]instanceof Kb?this.addResourceAt(a[e],e):this.addResourceAt(Gc(a[e],b),e))};c.prototype.dispose=function(){for(var a=0,b=this.length;a<b;a++)this.items[a].destroy();this._load=this.itemDirtyIds=this.items=null};c.prototype.addResourceAt=function(a,b){if(!this.items[b])throw Error("Index "+b+" is out of bounds");
a.valid&&!this.valid&&this.resize(a.width,a.height);this.items[b].setResource(a);return this};c.prototype.bind=function(a){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");d.prototype.bind.call(this,a);for(var b=0;b<this.length;b++)this.items[b].parentTextureArray=a,this.items[b].on("update",a.update,a)};c.prototype.unbind=function(a){d.prototype.unbind.call(this,a);for(var b=0;b<this.length;b++)this.items[b].parentTextureArray=null,this.items[b].off("update",
a.update,a)};c.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()});return this._load=Promise.all(b).then(function(){var e=a.items[0];a.resize(e.realWidth,e.realHeight);return Promise.resolve(a)})};return c}(Kb),Wd=function(d){function c(a,b){var e=b||{};var f=e.width;e=e.height;if(Array.isArray(a)){var g=a;a=a.length}f=d.call(this,a,{width:f,height:e})||this;g&&f.initFromArray(g,
b);return f}ua(c,d);c.prototype.addBaseTextureAt=function(a,b){if(a.resource)this.addResourceAt(a.resource,b);else throw Error("ArrayResource does not support RenderTexture");return this};c.prototype.bind=function(a){d.prototype.bind.call(this,a);a.target=Ab.TEXTURE_2D_ARRAY};c.prototype.upload=function(a,b,e){var f=this.length,g=this.itemDirtyIds,h=this.items;a=a.gl;0>e.dirtyId&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,b.format,this._width,this._height,f,0,b.format,b.type,null);for(e=0;e<f;e++){var k=h[e];
g[e]<k.dirtyId&&(g[e]=k.dirtyId,k.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,e,k.resource.width,k.resource.height,1,b.format,b.type,k.resource.source))}return!0};return c}(Lc),hb=function(d){function c(a){var b=d.call(this,a.naturalWidth||a.videoWidth||a.width,a.naturalHeight||a.videoHeight||a.height)||this;b.source=a;b.noSubImage=!1;return b}ua(c,d);c.crossOrigin=function(a,b,e){void 0===e&&0!==b.indexOf("data:")?a.crossOrigin=Eb(b):!1!==e&&(a.crossOrigin="string"===typeof e?e:"anonymous")};
c.prototype.upload=function(a,b,e,f){a=a.gl;var g=b.realWidth,h=b.realHeight;f=f||this.source;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===gb.UNPACK);this.noSubImage||b.target!==a.TEXTURE_2D||e.width!==g||e.height!==h?(e.width=g,e.height=h,a.texImage2D(b.target,0,b.format,b.format,b.type,f)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,b.format,b.type,f);return!0};c.prototype.update=function(){if(!this.destroyed){var a=this.source;this.resize(a.naturalWidth||a.videoWidth||a.width,a.naturalHeight||
a.videoHeight||a.height);d.prototype.update.call(this)}};c.prototype.dispose=function(){this.source=null};return c}(Kb),Pc=function(d){function c(a){return d.call(this,a)||this}ua(c,d);c.test=function(a){var b=self.OffscreenCanvas;return b&&a instanceof b?!0:self.HTMLCanvasElement&&a instanceof HTMLCanvasElement};return c}(hb),be=function(d){function c(a,b){var e=b||{};var f=e.width;var g=e.height,h=e.autoLoad;e=e.linkBaseTexture;if(a&&a.length!==c.SIDES)throw Error("Invalid length. Got "+a.length+
", expected 6");f=d.call(this,6,{width:f,height:g})||this;for(g=0;g<c.SIDES;g++)f.items[g].target=Ab.TEXTURE_CUBE_MAP_POSITIVE_X+g;f.linkBaseTexture=!1!==e;a&&f.initFromArray(a,b);!1!==h&&f.load();return f}ua(c,d);c.prototype.bind=function(a){d.prototype.bind.call(this,a);a.target=Ab.TEXTURE_CUBE_MAP};c.prototype.addBaseTextureAt=function(a,b,e){if(!this.items[b])throw Error("Index "+b+" is out of bounds");if(!this.linkBaseTexture||a.parentTextureArray||0<Object.keys(a._glTextures).length)if(a.resource)this.addResourceAt(a.resource,
b);else throw Error("CubeResource does not support copying of renderTexture.");else a.target=Ab.TEXTURE_CUBE_MAP_POSITIVE_X+b,a.parentTextureArray=this.baseTexture,this.items[b]=a;a.valid&&!this.valid&&this.resize(a.realWidth,a.realHeight);this.items[b]=a;return this};c.prototype.upload=function(a,b,e){for(var f=this.itemDirtyIds,g=0;g<c.SIDES;g++){var h=this.items[g];f[g]<h.dirtyId&&(h.valid&&h.resource?(h.resource.upload(a,h,e),f[g]=h.dirtyId):-1>f[g]&&(a.gl.texImage2D(h.target,0,e.internalFormat,
b.realWidth,b.realHeight,0,b.format,e.type,null),f[g]=-1))}return!0};c.test=function(a){return Array.isArray(a)&&a.length===c.SIDES};c.SIDES=6;return c}(Lc),Uc=function(d){function c(a,b){b=b||{};if(!(a instanceof HTMLImageElement)){var e=new Image;hb.crossOrigin(e,a,b.crossorigin);e.src=a;a=e}e=d.call(this,a)||this;!a.complete&&e._width&&e._height&&(e._width=0,e._height=0);e.url=a.src;e._process=null;e.preserveBitmap=!1;e.createBitmap=(void 0!==b.createBitmap?b.createBitmap:na.CREATE_IMAGE_BITMAP)&&
!!self.createImageBitmap;e.alphaMode="number"===typeof b.alphaMode?b.alphaMode:null;e.bitmap=null;e._load=null;!1!==b.autoLoad&&e.load();return e}ua(c,d);c.prototype.load=function(a){var b=this;if(this._load)return this._load;void 0!==a&&(this.createBitmap=a);return this._load=new Promise(function(e,f){var g=b.source;b.url=g.src;var h=function(){b.destroyed||(g.onload=null,g.onerror=null,b.resize(g.width,g.height),b._load=null,b.createBitmap?e(b.process()):e(b))};g.complete&&g.src?h():(g.onload=h,
g.onerror=function(k){f(k);b.onError.emit(k)})})};c.prototype.process=function(){var a=this,b=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?this._process=self.createImageBitmap(b,0,0,b.width,b.height,{premultiplyAlpha:this.alphaMode===gb.UNPACK?"premultiply":"none"}).then(function(e){if(a.destroyed)return Promise.reject();a.bitmap=e;a.update();a._process=null;return Promise.resolve(a)}):Promise.resolve(this)};c.prototype.upload=function(a,b,e){"number"===
typeof this.alphaMode&&(b.alphaMode=this.alphaMode);if(!this.createBitmap)return d.prototype.upload.call(this,a,b,e);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;d.prototype.upload.call(this,a,b,e,this.bitmap);if(!this.preserveBitmap){a=!0;var f=b._glTextures,g;for(g in f){var h=f[g];if(h!==e&&h.dirtyId!==b.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0};c.prototype.dispose=function(){this.source.onload=null;this.source.onerror=null;d.prototype.dispose.call(this);
this.bitmap&&(this.bitmap.close(),this.bitmap=null);this._load=this._process=null};c.test=function(a){return"string"===typeof a||a instanceof HTMLImageElement};return c}(hb),ne=function(d){function c(a,b){b=b||{};var e=d.call(this,document.createElement("canvas"))||this;e._width=0;e._height=0;e.svg=a;e.scale=b.scale||1;e._overrideWidth=b.width;e._overrideHeight=b.height;e._resolve=null;e._crossorigin=b.crossorigin;e._load=null;!1!==b.autoLoad&&e.load();return e}ua(c,d);c.prototype.load=function(){var a=
this;return this._load?this._load:this._load=new Promise(function(b){a._resolve=function(){a.resize(a.source.width,a.source.height);b(a)};if(/^<svg/.test(a.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");a.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a.svg)))}a._loadSvg()})};c.prototype._loadSvg=function(){var a=this,b=new Image;hb.crossOrigin(b,this.svg,this._crossorigin);b.src=this.svg;b.onerror=function(e){a._resolve&&(b.onerror=null,a.onError.emit(e))};
b.onload=function(){if(a._resolve){var e=b.width,f=b.height;if(!e||!f)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var g=e*a.scale,h=f*a.scale;if(a._overrideWidth||a._overrideHeight)g=a._overrideWidth||a._overrideHeight/f*e,h=a._overrideHeight||a._overrideWidth/e*f;g=Math.round(g);h=Math.round(h);var k=a.source;k.width=g;k.height=h;k._pixiId="canvas_"+ ++Fb;k.getContext("2d").drawImage(b,0,0,e,f,0,0,g,h);a._resolve();a._resolve=null}}};c.getSize=
function(a){a=c.SVG_SIZE.exec(a);var b={};a&&(b[a[1]]=Math.round(parseFloat(a[3])),b[a[5]]=Math.round(parseFloat(a[7])));return b};c.prototype.dispose=function(){d.prototype.dispose.call(this);this._crossorigin=this._resolve=null};c.test=function(a,b){return"svg"===b||"string"===typeof a&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(a)||"string"===typeof a&&0===a.indexOf("<svg")};c.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
return c}(hb),ye=function(d){function c(a,b){b=b||{};if(!(a instanceof HTMLVideoElement)){var e=document.createElement("video");e.setAttribute("preload","auto");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");"string"===typeof a&&(a=[a]);hb.crossOrigin(e,a[0].src||a[0],b.crossorigin);for(var f=0;f<a.length;++f){var g=document.createElement("source"),h=a[f],k=h.src;h=h.mime;k=k||a[f];var l=k.split("?").shift().toLowerCase();l=l.substr(l.lastIndexOf(".")+1);h=h||c.MIME_TYPES[l]||
"video/"+l;g.src=k;g.type=h;e.appendChild(g)}a=e}a=d.call(this,a)||this;a.noSubImage=!0;a._autoUpdate=!0;a._isConnectedToTicker=!1;a._updateFPS=b.updateFPS||0;a._msToNextUpdate=0;a.autoPlay=!1!==b.autoPlay;a._load=null;a._resolve=null;a._onCanPlay=a._onCanPlay.bind(a);a._onError=a._onError.bind(a);!1!==b.autoLoad&&a.load();return a}ua(c,d);c.prototype.update=function(a){!this.destroyed&&(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Oa.shared.elapsedMS*this.source.playbackRate),!this._updateFPS||
0>=this._msToNextUpdate)&&(d.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1E3/this._updateFPS):0)};c.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.source;(b.readyState===b.HAVE_ENOUGH_DATA||b.readyState===b.HAVE_FUTURE_DATA)&&b.width&&b.height&&(b.complete=!0);b.addEventListener("play",this._onPlayStart.bind(this));b.addEventListener("pause",this._onPlayStop.bind(this));this._isSourceReady()?this._onCanPlay():(b.addEventListener("canplay",
this._onCanPlay),b.addEventListener("canplaythrough",this._onCanPlay),b.addEventListener("error",this._onError,!0));return this._load=new Promise(function(e){a.valid?e(a):(a._resolve=e,b.load())})};c.prototype._onError=function(a){this.source.removeEventListener("error",this._onError,!0);this.onError.emit(a)};c.prototype._isSourcePlaying=function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};c.prototype._isSourceReady=function(){var a=this.source;return 3===
a.readyState||4===a.readyState};c.prototype._onPlayStart=function(){this.valid||this._onCanPlay();this.autoUpdate&&!this._isConnectedToTicker&&(Oa.shared.add(this.update,this),this._isConnectedToTicker=!0)};c.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Oa.shared.remove(this.update,this),this._isConnectedToTicker=!1)};c.prototype._onCanPlay=function(){var a=this.source;a.removeEventListener("canplay",this._onCanPlay);a.removeEventListener("canplaythrough",this._onCanPlay);var b=this.valid;
this.resize(a.videoWidth,a.videoHeight);!b&&this._resolve&&(this._resolve(this),this._resolve=null);this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()};c.prototype.dispose=function(){this._isConnectedToTicker&&Oa.shared.remove(this.update,this);var a=this.source;a&&(a.removeEventListener("error",this._onError,!0),a.pause(),a.src="",a.load());d.prototype.dispose.call(this)};Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==
this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Oa.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Oa.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(a){a!==this._updateFPS&&(this._updateFPS=a)},enumerable:!1,configurable:!0});c.test=function(a,
b){return self.HTMLVideoElement&&a instanceof HTMLVideoElement||-1<c.TYPES.indexOf(b)};c.TYPES="mp4 m4v webm ogg ogv h264 avi mov".split(" ");c.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};return c}(hb),he=function(d){function c(a){return d.call(this,a)||this}ua(c,d);c.test=function(a){return!!self.createImageBitmap&&a instanceof ImageBitmap};return c}(hb);lc.push(Uc,he,Pc,ye,ne,Zb,be,Wd);var Rg={__proto__:null,Resource:Kb,BaseImageResource:hb,INSTALLED:lc,autoDetectResource:Gc,
AbstractMultiResource:Lc,ArrayResource:Wd,BufferResource:Zb,CanvasResource:Pc,CubeResource:be,ImageResource:Uc,SVGResource:ne,VideoResource:ye,ImageBitmapResource:he},Ta=function(){function d(c){this.renderer=c}d.prototype.destroy=function(){this.renderer=null};return d}(),Pi=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}ua(c,d);c.prototype.upload=function(a,b,e){var f=a.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.alphaMode===gb.UNPACK);var g=b.realWidth,h=b.realHeight;
e.width===g&&e.height===h?f.texSubImage2D(b.target,0,0,0,g,h,b.format,b.type,this.data):(e.width=g,e.height=h,f.texImage2D(b.target,0,1===a.context.webGLVersion?f.DEPTH_COMPONENT:f.DEPTH_COMPONENT16,g,h,0,b.format,b.type,this.data));return!0};return c}(Zb),Rc=function(){function d(c,a){this.width=Math.ceil(c||100);this.height=Math.ceil(a||100);this.depth=this.stencil=!1;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers={};this.disposeRunner=
new Pa("disposeFramebuffer");this.multisample=Ib.NONE}Object.defineProperty(d.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0});d.prototype.addColorTexture=function(c,a){void 0===c&&(c=0);this.colorTextures[c]=a||new za(null,{scaleMode:jb.NEAREST,resolution:1,mipmap:wb.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this};d.prototype.addDepthTexture=function(c){this.depthTexture=c||new za(new Pi(null,{width:this.width,
height:this.height}),{scaleMode:jb.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:wb.OFF,format:bb.DEPTH_COMPONENT,type:Ca.UNSIGNED_SHORT});this.dirtyId++;this.dirtyFormat++;return this};d.prototype.enableDepth=function(){this.depth=!0;this.dirtyId++;this.dirtyFormat++;return this};d.prototype.enableStencil=function(){this.stencil=!0;this.dirtyId++;this.dirtyFormat++;return this};d.prototype.resize=function(c,a){c=Math.ceil(c);a=Math.ceil(a);if(c!==this.width||a!==this.height){this.width=
c;this.height=a;this.dirtyId++;this.dirtySize++;for(var b=0;b<this.colorTextures.length;b++){var e=this.colorTextures[b],f=e.resolution;e.setSize(c/f,a/f)}this.depthTexture&&(f=this.depthTexture.resolution,this.depthTexture.setSize(c/f,a/f))}};d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};d.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)};return d}(),Yd=function(d){function c(a,b,
e,f){"number"===typeof a&&(a={width:a,height:b,scaleMode:e,resolution:f});b=d.call(this,null,a)||this;e=a||{};a=e.width;e=e.height;b.mipmap=0;b.width=Math.ceil(a)||100;b.height=Math.ceil(e)||100;b.valid=!0;b.clearColor=[0,0,0,0];b.framebuffer=(new Rc(b.width*b.resolution,b.height*b.resolution)).addColorTexture(0,b);b.maskStack=[];b.filterStack=[{}];return b}ua(c,d);c.prototype.resize=function(a,b){a=Math.ceil(a);b=Math.ceil(b);this.framebuffer.resize(a*this.resolution,b*this.resolution)};c.prototype.dispose=
function(){this.framebuffer.dispose();d.prototype.dispose.call(this)};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.framebuffer.destroyDepthTexture();this.framebuffer=null};return c}(za),we=function(){function d(){this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}d.prototype.set=function(c,a,b){var e=a.width,f=a.height;if(b){a=c.width/2/e;var g=c.height/2/f;e=c.x/e+a;c=c.y/f+g;b=Fa.add(b,Fa.NW);this.x0=e+a*Fa.uX(b);
this.y0=c+g*Fa.uY(b);b=Fa.add(b,2);this.x1=e+a*Fa.uX(b);this.y1=c+g*Fa.uY(b);b=Fa.add(b,2);this.x2=e+a*Fa.uX(b);this.y2=c+g*Fa.uY(b);b=Fa.add(b,2);this.x3=e+a*Fa.uX(b);this.y3=c+g*Fa.uY(b)}else this.x0=c.x/e,this.y0=c.y/f,this.x1=(c.x+c.width)/e,this.y1=c.y/f,this.x2=(c.x+c.width)/e,this.y2=(c.y+c.height)/f,this.x3=c.x/e,this.y3=(c.y+c.height)/f;this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=
this.y2;this.uvsFloat32[6]=this.x3;this.uvsFloat32[7]=this.y3};d.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+(this.x0+" y0="+this.y0+" x1=")+(this.x1+" y1="+this.y1+" x2="+this.x2+" y2=")+(this.y2+" x3="+this.x3+" y3="+this.y3)+"]"};return d}(),Sg=new we,ra=function(d){function c(a,b,e,f,g,h){var k=d.call(this)||this;k.noFrame=!1;b||(k.noFrame=!0,b=new xa(0,0,1,1));a instanceof c&&(a=a.baseTexture);k.baseTexture=a;k._frame=b;k.trim=f;k.valid=!1;k._uvs=Sg;k.uvMatrix=null;k.orig=
e||b;k._rotate=Number(g||0);if(!0===g)k._rotate=2;else if(0!==k._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");k.defaultAnchor=h?new Ia(h.x,h.y):new Ia(0,0);k._updateID=0;k.textureCacheIds=[];if(a.valid)if(k.noFrame){if(a.valid)k.onBaseTextureUpdated(a)}else k.frame=b;else a.once("loaded",k.onBaseTextureUpdated,k);if(k.noFrame)a.on("update",k.onBaseTextureUpdated,k);return k}ua(c,d);c.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()};
c.prototype.onBaseTextureUpdated=function(a){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=a.width;this._frame.height=a.height;this.valid=!0;this.updateUvs()}else this.frame=this._frame;this.emit("update",this)};c.prototype.destroy=function(a){this.baseTexture&&(a&&((a=this.baseTexture.resource)&&a.url&&Ra[a.url]&&c.removeFromCache(a.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,
this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;c.removeFromCache(this);this.textureCacheIds=null};c.prototype.clone=function(){var a=this._frame.clone(),b=this._frame===this.orig?a:this.orig.clone();b=new c(this.baseTexture,!this.noFrame&&a,b,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);this.noFrame&&(b._frame=a);return b};c.prototype.updateUvs=function(){this._uvs===Sg&&(this._uvs=new we);this._uvs.set(this._frame,this.baseTexture,this.rotate);
this._updateID++};c.from=function(a,b,e){void 0===b&&(b={});void 0===e&&(e=na.STRICT_TEXTURE_CACHE);var f="string"===typeof a;if(f)var g=a;else a._pixiId||(a._pixiId=(b&&b.pixiIdPrefix||"pixiid")+"_"+ ++Fb),g=a._pixiId;var h=Ra[g];if(f&&e&&!h)throw Error('The cacheId "'+g+'" does not exist in TextureCache.');h||(b.resolution||(b.resolution=kc(a)),h=new c(new za(a,b)),h.baseTexture.cacheId=g,za.addToCache(h.baseTexture,g),c.addToCache(h,g));return h};c.fromURL=function(a,b){var e=Object.assign({autoLoad:!1},
null===b||void 0===b?void 0:b.resourceOptions),f=c.from(a,Object.assign({resourceOptions:e},b),!1);a=f.baseTexture.resource;return f.baseTexture.valid?Promise.resolve(f):a.load().then(function(){return Promise.resolve(f)})};c.fromBuffer=function(a,b,e,f){return new c(za.fromBuffer(a,b,e,f))};c.fromLoader=function(a,b,e,f){a=new za(a,Object.assign({scaleMode:na.SCALE_MODE,resolution:kc(b)},f));f=a.resource;f instanceof Uc&&(f.url=b);var g=new c(a);e||(e=b);za.addToCache(g.baseTexture,e);c.addToCache(g,
e);e!==b&&(za.addToCache(g.baseTexture,b),c.addToCache(g,b));return g.baseTexture.valid?Promise.resolve(g):new Promise(function(h){g.baseTexture.once("loaded",function(){return h(g)})})};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),Ra[b]&&console.warn("Texture added to the cache with an id ["+b+"] that already had an entry"),Ra[b]=a)};c.removeFromCache=function(a){if("string"===typeof a){var b=Ra[a];if(b){var e=b.textureCacheIds.indexOf(a);-1<e&&b.textureCacheIds.splice(e,
1);delete Ra[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)Ra[a.textureCacheIds[b]]===a&&delete Ra[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};Object.defineProperty(c.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"frame",{get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,e=a.y,f=a.width,g=a.height,h=b+
f>this.baseTexture.width,k=e+g>this.baseTexture.height;if(h||k)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+(b+" + "+f+" = "+(b+f)+" > "+this.baseTexture.width+" "+(h&&k?"and":"or")+" Y: "+(e+" + "+g+" = "+(e+g)+" > "+this.baseTexture.height)));this.valid=f&&g&&this.baseTexture.valid;this.trim||this.rotate||(this.orig=a);this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rotate",{get:function(){return this._rotate},
set:function(a){this._rotate=a;this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0});c.prototype.castToBaseTexture=function(){return this.baseTexture};return c}(dc());ra.EMPTY=new ra(new za);Hc(ra.EMPTY);Hc(ra.EMPTY.baseTexture);ra.WHITE=function(){var d=document.createElement("canvas");
d.width=16;d.height=16;var c=d.getContext("2d");c.fillStyle="white";c.fillRect(0,0,16,16);return new ra(new za(new Pc(d)))}();Hc(ra.WHITE);Hc(ra.WHITE.baseTexture);var xb=function(d){function c(a,b){a=d.call(this,a,b)||this;a.valid=!0;a.filterFrame=null;a.filterPoolKey=null;a.updateUvs();return a}ua(c,d);Object.defineProperty(c.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0});c.prototype.resize=function(a,b,e){void 0===e&&(e=!0);a=Math.ceil(a);
b=Math.ceil(b);this.valid=0<a&&0<b;this._frame.width=this.orig.width=a;this._frame.height=this.orig.height=b;e&&this.baseTexture.resize(a,b);this.updateUvs()};c.prototype.setResolution=function(a){var b=this.baseTexture;b.resolution!==a&&(b.setResolution(a),this.resize(b.width,b.height,!1))};c.create=function(a){for(var b=arguments,e=[],f=1;f<arguments.length;f++)e[f-1]=b[f];"number"===typeof a&&(Ga("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),a={width:a,height:e[0],
scaleMode:e[1],resolution:e[2]});return new c(new Yd(a))};return c}(ra),og=function(){function d(c){this.texturePool={};this.textureOptions=c||{};this.enableFullScreen=!1;this._pixelsHeight=this._pixelsWidth=0}d.prototype.createTexture=function(c,a){c=new Yd(Object.assign({width:c,height:a,resolution:1},this.textureOptions));return new xb(c)};d.prototype.getOptimalTexture=function(c,a,b){void 0===b&&(b=1);var e=d.SCREEN_KEY;c*=b;a*=b;this.enableFullScreen&&c===this._pixelsWidth&&a===this._pixelsHeight||
(c=ca(c),a=ca(a),e=(c&65535)<<16|a&65535);this.texturePool[e]||(this.texturePool[e]=[]);var f=this.texturePool[e].pop();f||(f=this.createTexture(c,a));f.filterPoolKey=e;f.setResolution(b);return f};d.prototype.getFilterTexture=function(c,a){a=this.getOptimalTexture(c.width,c.height,a||c.resolution);a.filterFrame=c.filterFrame;return a};d.prototype.returnTexture=function(c){var a=c.filterPoolKey;c.filterFrame=null;this.texturePool[a].push(c)};d.prototype.returnFilterTexture=function(c){this.returnTexture(c)};
d.prototype.clear=function(c){if(!1!==c)for(var a in this.texturePool)if(c=this.texturePool[a])for(var b=0;b<c.length;b++)c[b].destroy(!0);this.texturePool={}};d.prototype.setScreenSize=function(c){if(c.width!==this._pixelsWidth||c.height!==this._pixelsHeight){var a=d.SCREEN_KEY,b=this.texturePool[a];this.enableFullScreen=0<c.width&&0<c.height;if(b)for(var e=0;e<b.length;e++)b[e].destroy(!0);this.texturePool[a]=[];this._pixelsWidth=c.width;this._pixelsHeight=c.height}};d.SCREEN_KEY="screen";return d}(),
Xd=function(){function d(c,a,b,e,f,g,h){void 0===a&&(a=0);void 0===b&&(b=!1);void 0===e&&(e=5126);this.buffer=c;this.size=a;this.normalized=b;this.type=e;this.stride=f;this.start=g;this.instance=h}d.prototype.destroy=function(){this.buffer=null};d.from=function(c,a,b,e,f){return new d(c,a,b,e,f)};return d}(),Qi=0,Na=function(){function d(c,a,b){void 0===a&&(a=!0);void 0===b&&(b=!1);this.data=c||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=b;this.static=a;this.id=Qi++;this.disposeRunner=
new Pa("disposeBuffer")}d.prototype.update=function(c){this.data=c||this.data;this._updateID++};d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};d.prototype.destroy=function(){this.dispose();this.data=null};d.from=function(c){c instanceof Array&&(c=new Float32Array(c));return new d(c)};return d}(),Ri={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Tg={5126:4,5123:2,5121:1},Si=0,Ti={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,
Uint8Array:Uint8Array,Uint16Array:Uint16Array},$b=function(){function d(c,a){void 0===c&&(c=[]);void 0===a&&(a={});this.buffers=c;this.indexBuffer=null;this.attributes=a;this.glVertexArrayObjects={};this.id=Si++;this.instanced=!1;this.instanceCount=1;this.disposeRunner=new Pa("disposeGeometry");this.refCount=0}d.prototype.addAttribute=function(c,a,b,e,f,g,h,k){void 0===b&&(b=0);void 0===e&&(e=!1);void 0===k&&(k=!1);if(!a)throw Error("You must pass a buffer when creating an attribute");a instanceof
Na||(a instanceof Array&&(a=new Float32Array(a)),a=new Na(a));var l=c.split("|");if(1<l.length){for(c=0;c<l.length;c++)this.addAttribute(l[c],a,b,e,f);return this}l=this.buffers.indexOf(a);-1===l&&(this.buffers.push(a),l=this.buffers.length-1);this.attributes[c]=new Xd(l,b,e,f,g,h,k);this.instanced=this.instanced||k;return this};d.prototype.getAttribute=function(c){return this.attributes[c]};d.prototype.getBuffer=function(c){return this.buffers[this.getAttribute(c).buffer]};d.prototype.addIndex=function(c){c instanceof
Na||(c instanceof Array&&(c=new Uint16Array(c)),c=new Na(c));c.index=!0;this.indexBuffer=c;-1===this.buffers.indexOf(c)&&this.buffers.push(c);return this};d.prototype.getIndex=function(){return this.indexBuffer};d.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var c=[],a=[],b=new Na;for(g in this.attributes){var e=this.attributes[g];c.push(this.buffers[e.buffer].data);a.push(e.size*Tg[e.type]/4);e.buffer=0}var f=0;var g=0;e={};for(var h=
0;h<c.length;h++)g+=a[h],f+=c[h].length;f=new ArrayBuffer(4*f);var k=0;for(h=0;h<c.length;h++){var l=a[h],m=c[h];var n=jf(m);e[n]||(e[n]=new Ri[n](f));n=e[n];for(var p=0;p<m.length;p++)n[(p/l|0)*g+k+p%l]=m[p];k+=l}c=new Float32Array(f);b.data=c;for(g=0;g<this.buffers.length;g++)this.buffers[g]!==this.indexBuffer&&this.buffers[g].destroy();this.buffers=[b];this.indexBuffer&&this.buffers.push(this.indexBuffer);return this};d.prototype.getSize=function(){for(var c in this.attributes)return c=this.attributes[c],
this.buffers[c.buffer].data.length/(c.stride/4||c.size);return 0};d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};d.prototype.destroy=function(){this.dispose();this.attributes=this.indexBuffer=this.buffers=null};d.prototype.clone=function(){for(var c=new d,a=0;a<this.buffers.length;a++)c.buffers[a]=new Na(this.buffers[a].data.slice(0));for(a in this.attributes){var b=this.attributes[a];c.attributes[a]=new Xd(b.buffer,b.size,b.normalized,b.type,b.stride,b.start,b.instance)}this.indexBuffer&&
(c.indexBuffer=c.buffers[this.buffers.indexOf(this.indexBuffer)],c.indexBuffer.index=!0);return c};d.merge=function(c){for(var a=new d,b=[],e=[],f=[],g,h=0;h<c.length;h++){g=c[h];for(var k=0;k<g.buffers.length;k++)e[k]=e[k]||0,e[k]+=g.buffers[k].data.length,f[k]=0}for(h=0;h<g.buffers.length;h++)b[h]=new (Ti[jf(g.buffers[h].data)])(e[h]),a.buffers[h]=new Na(b[h]);for(h=0;h<c.length;h++)for(g=c[h],k=0;k<g.buffers.length;k++)b[k].set(g.buffers[k].data,f[k]),f[k]+=g.buffers[k].data.length;a.attributes=
g.attributes;if(g.indexBuffer){a.indexBuffer=a.buffers[g.buffers.indexOf(g.indexBuffer)];a.indexBuffer.index=!0;var l=f=e=b=0;for(h=0;h<g.buffers.length;h++)if(g.buffers[h]!==g.indexBuffer){l=h;break}for(h in g.attributes)k=g.attributes[h],(k.buffer|0)===l&&(e+=k.size*Tg[k.type]/4);for(h=0;h<c.length;h++){var m=c[h].indexBuffer.data;for(k=0;k<m.length;k++)a.indexBuffer.data[k+f]+=b;b+=g.buffers[l].data.length/e;f+=m.length}}return a};return d}(),mg=function(d){function c(){var a=d.call(this)||this;
a.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]);return a}ua(c,d);return c}($b),le=function(d){function c(){var a=d.call(this)||this;a.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);a.uvs=new Float32Array([0,0,1,0,1,1,0,1]);a.vertexBuffer=new Na(a.vertices);a.uvBuffer=new Na(a.uvs);a.addAttribute("aVertexPosition",a.vertexBuffer).addAttribute("aTextureCoord",a.uvBuffer).addIndex([0,1,2,0,2,3]);return a}ua(c,d);c.prototype.map=function(a,b){var e=0,f=0;this.uvs[0]=
e;this.uvs[1]=f;this.uvs[2]=e+b.width/a.width;this.uvs[3]=f;this.uvs[4]=e+b.width/a.width;this.uvs[5]=f+b.height/a.height;this.uvs[6]=e;this.uvs[7]=f+b.height/a.height;e=b.x;f=b.y;this.vertices[0]=e;this.vertices[1]=f;this.vertices[2]=e+b.width;this.vertices[3]=f;this.vertices[4]=e+b.width;this.vertices[5]=f+b.height;this.vertices[6]=e;this.vertices[7]=f+b.height;this.invalidate();return this};c.prototype.invalidate=function(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this};return c}($b),
Ui=0,Bb=function(){function d(c,a){this.uniforms=c;this.group=!0;this.syncUniforms={};this.dirtyId=0;this.id=Ui++;this.static=!!a}d.prototype.update=function(){this.dirtyId++};d.prototype.add=function(c,a,b){this.uniforms[c]=new d(a,b)};d.from=function(c,a){return new d(c,a)};return d}(),$f=function(){function d(){this.target=this.renderTexture=null;this.legacy=!1;this.resolution=1;this.sourceFrame=new xa;this.destinationFrame=new xa;this.bindingSourceFrame=new xa;this.bindingDestinationFrame=new xa;
this.filters=[];this.transform=null}d.prototype.clear=function(){this.renderTexture=this.filters=this.target=null};return d}(),bd=[new Ia,new Ia,new Ia,new Ia],Me=new La,de=function(d){function c(a){var b=d.call(this,a)||this;b.defaultFilterStack=[{}];b.texturePool=new og;b.texturePool.setScreenSize(a.view);b.statePool=[];b.quad=new mg;b.quadUv=new le;b.tempRect=new xa;b.activeState={};b.globalUniforms=new Bb({outputFrame:new xa,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),
resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0);b.forceClear=!1;b.useMaxPadding=!1;return b}ua(c,d);c.prototype.push=function(a,b){for(var e=this.renderer,f=this.defaultFilterStack,g=this.statePool.pop()||new $f,h=this.renderer.renderTexture,k=b[0].resolution,l=b[0].padding,m=b[0].autoFit,n=b[0].legacy,p=1;p<b.length;p++){var v=b[p];k=Math.min(k,v.resolution);l=this.useMaxPadding?Math.max(l,v.padding):l+v.padding;m=m&&v.autoFit;n=n||v.legacy}1===f.length&&(this.defaultFilterStack[0].renderTexture=
h.current);f.push(g);g.resolution=k;g.legacy=n;g.target=a;g.sourceFrame.copyFrom(a.filterArea||a.getBounds(!0));g.sourceFrame.pad(l);m&&(a=this.tempRect.copyFrom(h.sourceFrame),e.projection.transform&&this.transformAABB(Me.copyFrom(e.projection.transform).invert(),a),g.sourceFrame.fit(a));this.roundFrame(g.sourceFrame,h.current?h.current.resolution:e.resolution,h.sourceFrame,h.destinationFrame,e.projection.transform);g.renderTexture=this.getOptimalFilterTexture(g.sourceFrame.width,g.sourceFrame.height,
k);g.filters=b;g.destinationFrame.width=g.renderTexture.width;g.destinationFrame.height=g.renderTexture.height;b=this.tempRect;b.x=0;b.y=0;b.width=g.sourceFrame.width;b.height=g.sourceFrame.height;g.renderTexture.filterFrame=g.sourceFrame;g.bindingSourceFrame.copyFrom(h.sourceFrame);g.bindingDestinationFrame.copyFrom(h.destinationFrame);g.transform=e.projection.transform;e.projection.transform=null;h.bind(g.renderTexture,g.sourceFrame,b);e.framebuffer.clear(0,0,0,0)};c.prototype.pop=function(){var a=
this.defaultFilterStack,b=a.pop(),e=b.filters;this.activeState=b;var f=this.globalUniforms.uniforms;f.outputFrame=b.sourceFrame;f.resolution=b.resolution;var g=f.inputSize,h=f.inputPixel,k=f.inputClamp;g[0]=b.destinationFrame.width;g[1]=b.destinationFrame.height;g[2]=1/g[0];g[3]=1/g[1];h[0]=g[0]*b.resolution;h[1]=g[1]*b.resolution;h[2]=1/h[0];h[3]=1/h[1];k[0]=.5*h[2];k[1]=.5*h[3];k[2]=b.sourceFrame.width*g[2]-.5*h[2];k[3]=b.sourceFrame.height*g[3]-.5*h[3];b.legacy&&(g=f.filterArea,g[0]=b.destinationFrame.width,
g[1]=b.destinationFrame.height,g[2]=b.sourceFrame.x,g[3]=b.sourceFrame.y,f.filterClamp=f.inputClamp);this.globalUniforms.update();a=a[a.length-1];1<b.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit();if(1===e.length)e[0].apply(this,b.renderTexture,a.renderTexture,ob.BLEND,b),this.returnFilterTexture(b.renderTexture);else{f=b.renderTexture;g=this.getOptimalFilterTexture(f.width,f.height,b.resolution);g.filterFrame=f.filterFrame;for(h=0;h<e.length-1;++h)e[h].apply(this,f,g,ob.CLEAR,
b),k=f,f=g,g=k;e[h].apply(this,f,a.renderTexture,ob.BLEND,b);this.returnFilterTexture(f);this.returnFilterTexture(g)}b.clear();this.statePool.push(b)};c.prototype.bindAndClear=function(a,b){void 0===b&&(b=ob.CLEAR);var e=this.renderer,f=e.renderTexture;e=e.state;this.renderer.projection.transform=a===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null;if(a&&a.filterFrame){var g=this.tempRect;g.x=0;g.y=0;g.width=a.filterFrame.width;g.height=a.filterFrame.height;
f.bind(a,a.filterFrame,g)}else a!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?f.bind(a):this.renderer.renderTexture.bind(a,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);a=e.stateId&1||this.forceClear;(b===ob.CLEAR||b===ob.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)};c.prototype.applyFilter=function(a,b,e,f){var g=this.renderer;g.state.set(a.state);this.bindAndClear(e,f);a.uniforms.uSampler=b;a.uniforms.filterGlobals=this.globalUniforms;
g.shader.bind(a);a.legacy?(this.quadUv.map(b._frame,b.filterFrame),g.geometry.bind(this.quadUv),g.geometry.draw(Wa.TRIANGLES)):(g.geometry.bind(this.quad),g.geometry.draw(Wa.TRIANGLE_STRIP))};c.prototype.calculateSpriteMatrix=function(a,b){var e=this.activeState,f=e.sourceFrame,g=e.destinationFrame;e=b._texture.orig;a=a.set(g.width,0,0,g.height,f.x,f.y);f=b.worldTransform.copyTo(La.TEMP_MATRIX);f.invert();a.prepend(f);a.scale(1/e.width,1/e.height);a.translate(b.anchor.x,b.anchor.y);return a};c.prototype.destroy=
function(){this.texturePool.clear(!1)};c.prototype.getOptimalFilterTexture=function(a,b,e){void 0===e&&(e=1);return this.texturePool.getOptimalTexture(a,b,e)};c.prototype.getFilterTexture=function(a,b){if("number"===typeof a){var e=a;a=b;b=e}a=a||this.activeState.renderTexture;b=this.texturePool.getOptimalTexture(a.width,a.height,b||a.resolution);b.filterFrame=a.filterFrame;return b};c.prototype.returnFilterTexture=function(a){this.texturePool.returnTexture(a)};c.prototype.emptyPool=function(){this.texturePool.clear(!0)};
c.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)};c.prototype.transformAABB=function(a,b){var e=bd[0],f=bd[1],g=bd[2],h=bd[3];e.set(b.left,b.top);f.set(b.left,b.bottom);g.set(b.right,b.top);h.set(b.right,b.bottom);a.apply(e,e);a.apply(f,f);a.apply(g,g);a.apply(h,h);a=Math.min(e.x,f.x,g.x,h.x);var k=Math.min(e.y,f.y,g.y,h.y),l=Math.max(e.x,f.x,g.x,h.x);e=Math.max(e.y,f.y,g.y,h.y);b.x=a;b.y=k;b.width=l-a;b.height=e-k};c.prototype.roundFrame=function(a,b,e,f,g){if(g){var h=
g.a,k=g.c,l=g.d;if(!(0===g.b&&0===k||0===h&&0===l))return}g=g?Me.copyFrom(g):Me.identity();g.translate(-e.x,-e.y).scale(f.width/e.width,f.height/e.height).translate(f.x,f.y);this.transformAABB(g,a);a.ceil(b);this.transformAABB(g.invert(),a)};return c}(Ta),tc=function(){function d(c){this.renderer=c}d.prototype.flush=function(){};d.prototype.destroy=function(){this.renderer=null};d.prototype.start=function(){};d.prototype.stop=function(){this.flush()};d.prototype.render=function(c){};return d}(),$d=
function(d){function c(a){var b=d.call(this,a)||this;b.emptyRenderer=new tc(a);b.currentRenderer=b.emptyRenderer;return b}ua(c,d);c.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};c.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};c.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)};c.prototype.copyBoundTextures=function(a,b){var e=this.renderer.texture.boundTextures;
for(--b;0<=b;--b)a[b]=e[b]||null,a[b]&&(a[b]._batchLocation=b)};c.prototype.boundArray=function(a,b,e,f){var g=a.elements,h=a.ids;a=a.count;for(var k=0,l=0;l<a;l++){var m=g[l],n=m._batchLocation;if(0<=n&&n<f&&b[n]===m)h[l]=n;else for(;k<f;)if((n=b[k])&&n._batchEnabled===e&&n._batchLocation===k)k++;else{h[l]=k;m._batchLocation=k;b[k]=m;break}}};return c}(Ta),Ug=0,ae=function(d){function c(a){var b=d.call(this,a)||this;b.webGLVersion=1;b.extensions={};b.supports={uint32Indices:!1};b.handleContextLost=
b.handleContextLost.bind(b);b.handleContextRestored=b.handleContextRestored.bind(b);a.view.addEventListener("webglcontextlost",b.handleContextLost,!1);a.view.addEventListener("webglcontextrestored",b.handleContextRestored,!1);return b}ua(c,d);Object.defineProperty(c.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0});c.prototype.contextChange=function(a){this.gl=a;this.renderer.gl=a;this.renderer.CONTEXT_UID=Ug++;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&
a.getExtension("WEBGL_lose_context").restoreContext()};c.prototype.initFromContext=function(a){this.gl=a;this.validateContext(a);this.renderer.gl=a;this.renderer.CONTEXT_UID=Ug++;this.renderer.runners.contextChange.emit(a)};c.prototype.initFromOptions=function(a){a=this.createContext(this.renderer.view,a);this.initFromContext(a)};c.prototype.createContext=function(a,b){var e;na.PREFER_ENV>=eb.WEBGL2&&(e=a.getContext("webgl2",b));if(e)this.webGLVersion=2;else if(this.webGLVersion=1,e=a.getContext("webgl",
b)||a.getContext("experimental-webgl",b),!e)throw Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=e;this.getExtensions();return this.gl};c.prototype.getExtensions=function(){var a=this.gl,b={anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),s3tc:a.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:a.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:a.getExtension("WEBGL_compressed_texture_etc"),
etc1:a.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:a.getExtension("WEBGL_compressed_texture_atc"),astc:a.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,b,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||
a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,b,{colorBufferFloat:a.getExtension("EXT_color_buffer_float")})};
c.prototype.handleContextLost=function(a){a.preventDefault()};c.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)};c.prototype.destroy=function(){var a=this.renderer.view;a.removeEventListener("webglcontextlost",this.handleContextLost);a.removeEventListener("webglcontextrestored",this.handleContextRestored);this.gl.useProgram(null);this.extensions.loseContext&&this.extensions.loseContext.loseContext()};c.prototype.postrender=function(){this.renderer.renderingToScreen&&
this.gl.flush()};c.prototype.validateContext=function(a){var b=a.getContextAttributes(),e="WebGL2RenderingContext"in self&&a instanceof self.WebGL2RenderingContext;e&&(this.webGLVersion=2);b.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");a=e||!!a.getExtension("OES_element_index_uint");(this.supports.uint32Indices=a)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")};return c}(Ta),
ag=function(){return function(d){this.framebuffer=d;this.stencil=null;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.multisample=Ib.NONE;this.blitFramebuffer=this.msaaBuffer=null}}(),Vi=new xa,ee=function(d){function c(a){a=d.call(this,a)||this;a.managedFramebuffers=[];a.unknownFramebuffer=new Rc(10,10);a.msaaSamples=null;return a}ua(c,d);c.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=this.unknownFramebuffer;this.viewport=
new xa;this.writeDepthTexture=this.hasMRT=!0;this.disposeAll(!0);if(1===this.renderer.context.webGLVersion){var b=this.renderer.context.extensions.drawBuffers,e=this.renderer.context.extensions.depthTexture;na.PREFER_ENV===eb.WEBGL_LEGACY&&(e=b=null);b?a.drawBuffers=function(f){return b.drawBuffersWEBGL(f)}:(this.hasMRT=!1,a.drawBuffers=function(){});e||(this.writeDepthTexture=!1)}else this.msaaSamples=a.getInternalformatParameter(a.RENDERBUFFER,a.RGBA8,a.SAMPLES)};c.prototype.bind=function(a,b){var e=
this.gl;if(a){var f=a.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(a);this.current!==a&&(this.current=a,e.bindFramebuffer(e.FRAMEBUFFER,f.framebuffer));f.dirtyId!==a.dirtyId&&(f.dirtyId=a.dirtyId,f.dirtyFormat!==a.dirtyFormat?(f.dirtyFormat=a.dirtyFormat,this.updateFramebuffer(a)):f.dirtySize!==a.dirtySize&&(f.dirtySize=a.dirtySize,this.resizeFramebuffer(a)));for(e=0;e<a.colorTextures.length;e++)f=a.colorTextures[e],this.renderer.texture.unbind(f.parentTextureArray||f);a.depthTexture&&this.renderer.texture.unbind(a.depthTexture);
b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,a.width,a.height)}else this.current&&(this.current=null,e.bindFramebuffer(e.FRAMEBUFFER,null)),b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)};c.prototype.setViewport=function(a,b,e,f){var g=this.viewport;if(g.width!==e||g.height!==f||g.x!==a||g.y!==b)g.x=a,g.y=b,g.width=e,g.height=f,this.gl.viewport(a,b,e,f)};Object.defineProperty(c.prototype,"size",{get:function(){return this.current?
{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0});c.prototype.clear=function(a,b,e,f,g){void 0===g&&(g=nc.COLOR|nc.DEPTH);var h=this.gl;h.clearColor(a,b,e,f);h.clear(g)};c.prototype.initFramebuffer=function(a){var b=new ag(this.gl.createFramebuffer());b.multisample=this.detectSamples(a.multisample);a.glFramebuffers[this.CONTEXT_UID]=b;this.managedFramebuffers.push(a);a.disposeRunner.add(this);
return b};c.prototype.resizeFramebuffer=function(a){var b=this.gl,e=a.glFramebuffers[this.CONTEXT_UID];e.stencil&&(b.bindRenderbuffer(b.RENDERBUFFER,e.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height));b=a.colorTextures;for(e=0;e<b.length;e++)this.renderer.texture.bind(b[e],0);a.depthTexture&&this.renderer.texture.bind(a.depthTexture,0)};c.prototype.updateFramebuffer=function(a){var b=this.gl,e=a.glFramebuffers[this.CONTEXT_UID],f=a.colorTextures.length;b.drawBuffers||
(f=Math.min(f,1));1<e.multisample&&(e.msaaBuffer=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,e.msaaBuffer),b.renderbufferStorageMultisample(b.RENDERBUFFER,e.multisample,b.RGBA8,a.width,a.height),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,e.msaaBuffer));for(var g=[],h=0;h<f;h++)if(!(0===h&&1<e.multisample)){var k=a.colorTextures[h],l=k.parentTextureArray||k;this.renderer.texture.bind(l,0);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0+h,k.target,
l._glTextures[this.CONTEXT_UID].texture,0);g.push(b.COLOR_ATTACHMENT0+h)}1<g.length&&b.drawBuffers(g);a.depthTexture&&this.writeDepthTexture&&(f=a.depthTexture,this.renderer.texture.bind(f,0),b.framebufferTexture2D(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0));e.stencil||!a.stencil&&!a.depth||(e.stencil=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,e.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height),a.depthTexture||
b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,e.stencil))};c.prototype.detectSamples=function(a){var b=this.msaaSamples,e=Ib.NONE;if(1>=a||null===b)return e;for(var f=0;f<b.length;f++)if(b[f]<=a){e=b[f];break}1===e&&(e=Ib.NONE);return e};c.prototype.blit=function(a,b,e){var f=this.current,g=this.gl;if(2===this.renderer.context.webGLVersion&&f){var h=f.glFramebuffers[this.CONTEXT_UID];if(h){if(!a){if(1>=h.multisample)return;h.blitFramebuffer||(h.blitFramebuffer=
new Rc(f.width,f.height),h.blitFramebuffer.addColorTexture(0,f.colorTextures[0]));a=h.blitFramebuffer;a.width=f.width;a.height=f.height}b||(b=Vi,b.width=f.width,b.height=f.height);e||(e=b);f=b.width===e.width&&b.height===e.height;this.bind(a);g.bindFramebuffer(g.READ_FRAMEBUFFER,h.framebuffer);g.blitFramebuffer(b.x,b.y,b.width,b.height,e.x,e.y,e.width,e.height,g.COLOR_BUFFER_BIT,f?g.NEAREST:g.LINEAR)}}};c.prototype.disposeFramebuffer=function(a,b){var e=a.glFramebuffers[this.CONTEXT_UID],f=this.gl;
if(e){delete a.glFramebuffers[this.CONTEXT_UID];var g=this.managedFramebuffers.indexOf(a);0<=g&&this.managedFramebuffers.splice(g,1);a.disposeRunner.remove(this);b||(f.deleteFramebuffer(e.framebuffer),e.stencil&&f.deleteRenderbuffer(e.stencil))}};c.prototype.disposeAll=function(a){var b=this.managedFramebuffers;this.managedFramebuffers=[];for(var e=0;e<b.length;e++)this.disposeFramebuffer(b[e],a)};c.prototype.forceStencil=function(){var a=this.current;if(a){var b=a.glFramebuffers[this.CONTEXT_UID];
if(b&&!b.stencil){a.enableStencil();var e=a.width;a=a.height;var f=this.gl,g=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,g);f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,e,a);b.stencil=g;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,g)}}};c.prototype.reset=function(){this.current=this.unknownFramebuffer;this.viewport=new xa};return c}(Ta),Wi=function(){return function(d){this.buffer=d||null;this.byteLength=this.updateID=-1;this.refCount=0}}(),
Ne={5126:4,5123:2,5121:1},fe=function(d){function c(a){a=d.call(this,a)||this;a._activeGeometry=null;a._activeVao=null;a.hasVao=!0;a.hasInstance=!0;a.canUseUInt32ElementIndex=!1;a.managedGeometries={};a.managedBuffers={};return a}ua(c,d);c.prototype.contextChange=function(){this.disposeAll(!0);var a=this.gl=this.renderer.gl,b=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(2!==b.webGLVersion){var e=this.renderer.context.extensions.vertexArrayObject;na.PREFER_ENV===eb.WEBGL_LEGACY&&
(e=null);e?(a.createVertexArray=function(){return e.createVertexArrayOES()},a.bindVertexArray=function(g){return e.bindVertexArrayOES(g)},a.deleteVertexArray=function(g){return e.deleteVertexArrayOES(g)}):(this.hasVao=!1,a.createVertexArray=function(){return null},a.bindVertexArray=function(){return null},a.deleteVertexArray=function(){return null})}if(2!==b.webGLVersion){var f=a.getExtension("ANGLE_instanced_arrays");f?(a.vertexAttribDivisor=function(g,h){return f.vertexAttribDivisorANGLE(g,h)},
a.drawElementsInstanced=function(g,h,k,l,m){return f.drawElementsInstancedANGLE(g,h,k,l,m)},a.drawArraysInstanced=function(g,h,k,l){return f.drawArraysInstancedANGLE(g,h,k,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===b.webGLVersion||!!b.extensions.uint32ElementIndex};c.prototype.bind=function(a,b){b=b||this.renderer.shader.shader;var e=this.gl,f=a.glVertexArrayObjects[this.CONTEXT_UID],g=!1;f||(this.managedGeometries[a.id]=a,a.disposeRunner.add(this),a.glVertexArrayObjects[this.CONTEXT_UID]=
f={},g=!0);f=f[b.program.id]||this.initGeometryVao(a,b.program,g);this._activeGeometry=a;this._activeVao!==f&&(this._activeVao=f,this.hasVao?e.bindVertexArray(f):this.activateVao(a,b.program));this.updateBuffers()};c.prototype.reset=function(){this.unbind()};c.prototype.updateBuffers=function(){for(var a=this._activeGeometry,b=this.gl,e=0;e<a.buffers.length;e++){var f=a.buffers[e],g=f._glBuffers[this.CONTEXT_UID];if(f._updateID!==g.updateID){g.updateID=f._updateID;var h=f.index?b.ELEMENT_ARRAY_BUFFER:
b.ARRAY_BUFFER;b.bindBuffer(h,g.buffer);this._boundBuffer=g;if(g.byteLength>=f.data.byteLength)b.bufferSubData(h,0,f.data);else{var k=f.static?b.STATIC_DRAW:b.DYNAMIC_DRAW;g.byteLength=f.data.byteLength;b.bufferData(h,f.data,k)}}}};c.prototype.checkCompatibility=function(a,b){a=a.attributes;b=b.attributeData;for(var e in b)if(!a[e])throw Error('shader and geometry incompatible, geometry missing the "'+e+'" attribute');};c.prototype.getSignature=function(a,b){var e=a.attributes;b=b.attributeData;a=
["g",a.id];for(var f in e)b[f]&&a.push(f);return a.join("-")};c.prototype.initGeometryVao=function(a,b,e){void 0===e&&(e=!0);this.checkCompatibility(a,b);var f=this.gl,g=this.CONTEXT_UID,h=this.getSignature(a,b),k=a.glVertexArrayObjects[this.CONTEXT_UID],l=k[h];if(l)return k[b.id]=l;var m=a.buffers;l=a.attributes;var n={},p={},v;for(v in m)n[v]=0,p[v]=0;for(v in l)!l[v].size&&b.attributeData[v]?l[v].size=b.attributeData[v].size:l[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),
n[l[v].buffer]+=l[v].size*Ne[l[v].type];for(v in l){var E=l[v],J=E.size;void 0===E.stride&&(E.stride=n[E.buffer]===J*Ne[E.type]?0:n[E.buffer]);void 0===E.start&&(E.start=p[E.buffer],p[E.buffer]+=J*Ne[E.type])}l=f.createVertexArray();f.bindVertexArray(l);for(v=0;v<m.length;v++)n=m[v],n._glBuffers[g]||(n._glBuffers[g]=new Wi(f.createBuffer()),this.managedBuffers[n.id]=n,n.disposeRunner.add(this)),e&&n._glBuffers[g].refCount++;this.activateVao(a,b);this._activeVao=l;k[b.id]=l;return k[h]=l};c.prototype.disposeBuffer=
function(a,b){if(this.managedBuffers[a.id]){delete this.managedBuffers[a.id];var e=a._glBuffers[this.CONTEXT_UID],f=this.gl;a.disposeRunner.remove(this);e&&(b||f.deleteBuffer(e.buffer),delete a._glBuffers[this.CONTEXT_UID])}};c.prototype.disposeGeometry=function(a,b){if(this.managedGeometries[a.id]){delete this.managedGeometries[a.id];var e=a.glVertexArrayObjects[this.CONTEXT_UID],f=this.gl,g=a.buffers;a.disposeRunner.remove(this);if(e){for(var h=0;h<g.length;h++){var k=g[h]._glBuffers[this.CONTEXT_UID];
k.refCount--;0!==k.refCount||b||this.disposeBuffer(g[h],b)}if(!b)for(var l in e)"g"===l[0]&&(b=e[l],this._activeVao===b&&this.unbind(),f.deleteVertexArray(b));delete a.glVertexArrayObjects[this.CONTEXT_UID]}}};c.prototype.disposeAll=function(a){for(var b=Object.keys(this.managedGeometries),e=0;e<b.length;e++)this.disposeGeometry(this.managedGeometries[b[e]],a);b=Object.keys(this.managedBuffers);for(e=0;e<b.length;e++)this.disposeBuffer(this.managedBuffers[b[e]],a)};c.prototype.activateVao=function(a,
b){var e=this.gl,f=this.CONTEXT_UID,g=a.buffers,h=a.attributes;a.indexBuffer&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a.indexBuffer._glBuffers[f].buffer);a=null;for(var k in h){var l=h[k],m=g[l.buffer]._glBuffers[f];if(b.attributeData[k]&&(a!==m&&(e.bindBuffer(e.ARRAY_BUFFER,m.buffer),a=m),m=b.attributeData[k].location,e.enableVertexAttribArray(m),e.vertexAttribPointer(m,l.size,l.type||e.FLOAT,l.normalized,l.stride,l.start),l.instance))if(this.hasInstance)e.vertexAttribDivisor(m,1);else throw Error("geometry error, GPU Instancing is not supported on this device");
}};c.prototype.draw=function(a,b,e,f){var g=this.gl,h=this._activeGeometry;if(h.indexBuffer){var k=h.indexBuffer.data.BYTES_PER_ELEMENT,l=2===k?g.UNSIGNED_SHORT:g.UNSIGNED_INT;2===k||4===k&&this.canUseUInt32ElementIndex?h.instanced?g.drawElementsInstanced(a,b||h.indexBuffer.data.length,l,(e||0)*k,f||1):g.drawElements(a,b||h.indexBuffer.data.length,l,(e||0)*k):console.warn("unsupported index buffer type: uint32")}else h.instanced?g.drawArraysInstanced(a,e,b||h.getSize(),f||1):g.drawArrays(a,e,b||h.getSize());
return this};c.prototype.unbind=function(){this.gl.bindVertexArray(null);this._activeGeometry=this._activeVao=null};return c}(Ta),hg=function(){function d(c){void 0===c&&(c=null);this.type=Sa.NONE;this.autoDetect=!0;this.maskObject=c||null;this.pooled=!1;this.isMaskData=!0;this._scissorCounter=this._stencilCounter=0;this._target=this._scissorRect=null}d.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Sa.NONE,this.autoDetect=!0);this._target=null};d.prototype.copyCountersOrReset=
function(c){c?(this._stencilCounter=c._stencilCounter,this._scissorCounter=c._scissorCounter,this._scissorRect=c._scissorRect):(this._scissorCounter=this._stencilCounter=0,this._scissorRect=null)};return d}(),of={},mc=of,cd,Xi={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},Ic=null,rf={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",
INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},
Yc=[{test:function(d){return"float"===d.type&&1===d.size},code:function(d){return'\n            if(uv["'+d+'"] !== ud["'+d+'"].value)\n            {\n                ud["'+d+'"].value = uv["'+d+'"]\n                gl.uniform1f(ud["'+d+'"].location, uv["'+d+'"])\n            }\n            '}},{test:function(d){return("sampler2D"===d.type||"samplerCube"===d.type||"sampler2DArray"===d.type)&&1===d.size&&!d.isArray},code:function(d){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+
d+'"], t);\n\n            if(ud["'+d+'"].value !== t)\n            {\n                ud["'+d+'"].value = t;\n                gl.uniform1i(ud["'+d+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(d,c){return"mat3"===d.type&&1===d.size&&void 0!==c.a},code:function(d){return'\n            gl.uniformMatrix3fv(ud["'+d+'"].location, false, uv["'+d+'"].toArray(true));\n            '}},{test:function(d,c){return"vec2"===d.type&&1===d.size&&void 0!==c.x},code:function(d){return'\n                cv = ud["'+
d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+d+'"].location, v.x, v.y);\n                }'}},{test:function(d){return"vec2"===d.type&&1===d.size},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+
d+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(d,c){return"vec4"===d.type&&1===d.size&&void 0!==c.width},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+
d+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(d){return"vec4"===d.type&&1===d.size},code:function(d){return'\n                cv = ud["'+d+'"].value;\n                v = uv["'+d+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+
d+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Yi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",
bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Zi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",
mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",
sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Vh="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}",dd,$i=0,ed={},wc=function(){function d(c,a,b){void 0===b&&(b="pixi-shader");this.id=$i++;this.vertexSrc=c||d.defaultVertexSrc;this.fragmentSrc=a||d.defaultFragmentSrc;this.vertexSrc=this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();"#version"!==this.vertexSrc.substring(0,
8)&&(b=b.replace(/\s+/g,"-"),ed[b]?(ed[b]++,b+="-"+ed[b]):ed[b]=1,this.vertexSrc="#define SHADER_NAME "+b+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+b+"\n"+this.fragmentSrc,this.vertexSrc=pf(this.vertexSrc,na.PRECISION_VERTEX,Za.HIGH),c=this.fragmentSrc,a=na.PRECISION_FRAGMENT,cd||(cd=Za.MEDIUM,(b=nf())&&b.getShaderPrecisionFormat&&(cd=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT).precision?Za.HIGH:Za.MEDIUM)),this.fragmentSrc=pf(c,a,cd));this.extractData(this.vertexSrc,
this.fragmentSrc);this.glPrograms={};this.syncUniforms=null}d.prototype.extractData=function(c,a){var b=nf();b?(c=lf(b,c,a),this.attributeData=this.getAttributeData(c,b),this.uniformData=this.getUniformData(c,b),b.deleteProgram(c)):(this.uniformData={},this.attributeData={})};d.prototype.getAttributeData=function(c,a){for(var b={},e=[],f=a.getProgramParameter(c,a.ACTIVE_ATTRIBUTES),g=0;g<f;g++){var h=a.getActiveAttrib(c,g),k=qf(a,h.type);k={type:k,name:h.name,size:Xi[k],location:0};b[h.name]=k;e.push(k)}e.sort(function(l,
m){return l.name>m.name?1:-1});for(g=0;g<e.length;g++)e[g].location=g;return b};d.prototype.getUniformData=function(c,a){for(var b={},e=a.getProgramParameter(c,a.ACTIVE_UNIFORMS),f=0;f<e;f++){var g=a.getActiveUniform(c,f),h=g.name.replace(/\[.*?\]$/,""),k=g.name.match(/\[.*?\]$/),l=qf(a,g.type);b[h]={type:l,size:g.size,isArray:k,value:mf(l,g.size)}}return b};Object.defineProperty(d,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(d,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0});d.from=function(c,a,b){var e=c+a,f=Ce[e];f||(Ce[e]=f=new d(c,a,b));return f};return d}(),yb=function(){function d(c,a){this.program=c;this.uniformGroup=a?a instanceof Bb?a:new Bb(a):new Bb({});for(var b in c.uniformData)this.uniformGroup.uniforms[b]instanceof
Array&&(this.uniformGroup.uniforms[b]=new Float32Array(this.uniformGroup.uniforms[b]))}d.prototype.checkUniformExists=function(c,a){if(a.uniforms[c])return!0;for(var b in a.uniforms){var e=a.uniforms[b];if(e.group&&this.checkUniformExists(c,e))return!0}return!1};d.prototype.destroy=function(){this.uniformGroup=null};Object.defineProperty(d.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0});d.from=function(c,a,b){c=wc.from(c,a);return new d(c,b)};
return d}(),zb=function(){function d(){this.data=0;this.blendMode=la.NORMAL;this.polygonOffset=0;this.depthMask=this.blend=!0}Object.defineProperty(d.prototype,"blend",{get:function(){return!!(this.data&1)},set:function(c){!!(this.data&1)!==c&&(this.data^=1)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"offsets",{get:function(){return!!(this.data&2)},set:function(c){!!(this.data&2)!==c&&(this.data^=2)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"culling",
{get:function(){return!!(this.data&4)},set:function(c){!!(this.data&4)!==c&&(this.data^=4)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"depthTest",{get:function(){return!!(this.data&8)},set:function(c){!!(this.data&8)!==c&&(this.data^=8)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"depthMask",{get:function(){return!!(this.data&32)},set:function(c){!!(this.data&32)!==c&&(this.data^=32)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"clockwiseFrontFace",{get:function(){return!!(this.data&16)},set:function(c){!!(this.data&16)!==c&&(this.data^=16)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"blendMode",{get:function(){return this._blendMode},set:function(c){this.blend=c!==la.NONE;this._blendMode=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(c){this.offsets=!!c;this._polygonOffset=c},enumerable:!1,configurable:!0});
d.prototype.toString=function(){return"[@pixi/core:State blendMode="+(this.blendMode+" clockwiseFrontFace=")+(this.clockwiseFrontFace+" culling=")+(this.culling+" depthMask=")+(this.depthMask+" polygonOffset=")+this.polygonOffset+"]"};d.for2d=function(){var c=new d;c.depthTest=!1;c.blend=!0;return c};return d}(),pb=function(d){function c(a,b,e){a=wc.from(a||c.defaultVertexSrc,b||c.defaultFragmentSrc);e=d.call(this,a,e)||this;e.padding=0;e.resolution=na.FILTER_RESOLUTION;e.enabled=!0;e.autoFit=!0;
e.legacy=!!e.program.attributeData.aTextureCoord;e.state=new zb;return e}ua(c,d);c.prototype.apply=function(a,b,e,f,g){a.applyFilter(this,b,e,f)};Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(c,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0});return c}(yb),Vg=new La,Wc=function(){function d(c,a){this._texture=c;this.mapCoord=new La;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this.clampOffset=this._updateID=0;this.clampMargin=
"undefined"===typeof a?.5:a;this.isSimple=!1}Object.defineProperty(d.prototype,"texture",{get:function(){return this._texture},set:function(c){this._texture=c;this._textureID=-1},enumerable:!1,configurable:!0});d.prototype.multiplyUvs=function(c,a){void 0===a&&(a=c);for(var b=this.mapCoord,e=0;e<c.length;e+=2){var f=c[e],g=c[e+1];a[e]=f*b.a+g*b.c+b.tx;a[e+1]=f*b.b+g*b.d+b.ty}return a};d.prototype.update=function(c){var a=this._texture;if(!a||!a.valid||!c&&this._textureID===a._updateID)return!1;this._textureID=
a._updateID;this._updateID++;c=a._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);c=a.orig;var b=a.trim;b&&(Vg.set(c.width/b.width,0,0,c.height/b.height,-b.x/b.width,-b.y/b.height),this.mapCoord.append(Vg));c=a.baseTexture;b=this.uClampFrame;var e=this.clampMargin/c.resolution,f=this.clampOffset;b[0]=(a._frame.x+e+f)/c.width;b[1]=(a._frame.y+e+f)/c.height;b[2]=(a._frame.x+a._frame.width-e+f)/c.width;b[3]=(a._frame.y+a._frame.height-e+f)/c.height;this.uClampOffset[0]=f/c.realWidth;
this.uClampOffset[1]=f/c.realHeight;this.isSimple=a._frame.width===c.width&&a._frame.height===c.height&&0===a.rotate;return!0};return d}(),sg=function(d){function c(a){var b=new La;var e=d.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||
this;a.renderable=!1;e.maskSprite=a;e.maskMatrix=b;return e}ua(c,d);c.prototype.apply=function(a,b,e,f){var g=this.maskSprite,h=g._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Wc(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,g).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=g.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,a.applyFilter(this,b,e,f))};return c}(pb),je=
function(d){function c(a){a=d.call(this,a)||this;a.enableScissor=!0;a.alphaMaskPool=[];a.maskDataPool=[];a.maskStack=[];a.alphaMaskIndex=0;return a}ua(c,d);c.prototype.setMaskStack=function(a){this.maskStack=a;this.renderer.scissor.setMaskStack(a);this.renderer.stencil.setMaskStack(a)};c.prototype.push=function(a,b){var e=b;e.isMaskData||(e=this.maskDataPool.pop()||new hg,e.pooled=!0,e.maskObject=b);e.autoDetect&&this.detect(e);e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]);e._target=
a;switch(e.type){case Sa.SCISSOR:this.maskStack.push(e);this.renderer.scissor.push(e);break;case Sa.STENCIL:this.maskStack.push(e);this.renderer.stencil.push(e);break;case Sa.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}};c.prototype.pop=function(a){var b=this.maskStack.pop();if(b&&b._target===a){switch(b.type){case Sa.SCISSOR:this.renderer.scissor.pop();break;case Sa.STENCIL:this.renderer.stencil.pop(b.maskObject);break;case Sa.SPRITE:this.popSpriteMask()}b.reset();
b.pooled&&this.maskDataPool.push(b)}};c.prototype.detect=function(a){var b=a.maskObject;if(b.isSprite)a.type=Sa.SPRITE;else if(a.type=Sa.STENCIL,this.enableScissor&&b.isFastRect&&b.isFastRect()){var e=b.worldTransform;b=Math.atan2(e.b,e.a);e=Math.atan2(e.d,e.c);b=Math.round(180/Math.PI*b*100);e=Math.round(180/Math.PI*e*100)-b;0===(b%9E3+9E3)%9E3&&9E3===(e%18E3+18E3)%18E3&&(a.type=Sa.SCISSOR)}};c.prototype.pushSpriteMask=function(a){var b=a.maskObject;a=a._target;var e=this.alphaMaskPool[this.alphaMaskIndex];
e||(e=this.alphaMaskPool[this.alphaMaskIndex]=[new sg(b)]);e[0].resolution=this.renderer.resolution;e[0].maskSprite=b;var f=a.filterArea;a.filterArea=b.getBounds(!0);this.renderer.filter.push(a,e);a.filterArea=f;this.alphaMaskIndex++};c.prototype.popSpriteMask=function(){this.renderer.filter.pop();this.alphaMaskIndex--};return c}(Ta),Wg=function(d){function c(a){a=d.call(this,a)||this;a.maskStack=[];a.glConst=0;return a}ua(c,d);c.prototype.getStackLength=function(){return this.maskStack.length};c.prototype.setMaskStack=
function(a){var b=this.renderer.gl,e=this.getStackLength();this.maskStack=a;a=this.getStackLength();a!==e&&(0===a?b.disable(this.glConst):(b.enable(this.glConst),this._useCurrent()))};c.prototype._useCurrent=function(){};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.maskStack=null};return c}(Ta),oe=function(d){function c(a){a=d.call(this,a)||this;a.glConst=WebGLRenderingContext.SCISSOR_TEST;return a}ua(c,d);c.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-
1];return a?a._scissorCounter:0};c.prototype.push=function(a){var b=a.maskObject;b.renderable=!0;var e=a._scissorRect,f=b.getBounds(!0),g=this.renderer.gl;b.renderable=!1;e?f.fit(e):g.enable(g.SCISSOR_TEST);a._scissorCounter++;a._scissorRect=f;this._useCurrent()};c.prototype.pop=function(){var a=this.renderer.gl;0<this.getStackLength()?this._useCurrent():a.disable(a.SCISSOR_TEST)};c.prototype._useCurrent=function(){var a=this.maskStack[this.maskStack.length-1]._scissorRect,b=this.renderer.renderTexture.current,
e=this.renderer.projection,f=e.transform,g=e.sourceFrame,h=e.destinationFrame;e=b?b.resolution:this.renderer.resolution;var k=h.width/g.width,l=h.height/g.height,m=((a.x-g.x)*k+h.x)*e;g=((a.y-g.y)*l+h.y)*e;k=a.width*k*e;a=a.height*l*e;f&&(m+=f.tx*e,g+=f.ty*e);b||(g=this.renderer.height-a-g);this.renderer.gl.scissor(m,g,k,a)};return c}(Wg),re=function(d){function c(a){a=d.call(this,a)||this;a.glConst=WebGLRenderingContext.STENCIL_TEST;return a}ua(c,d);c.prototype.getStackLength=function(){var a=this.maskStack[this.maskStack.length-
1];return a?a._stencilCounter:0};c.prototype.push=function(a){var b=a.maskObject,e=this.renderer.gl,f=a._stencilCounter;0===f&&(this.renderer.framebuffer.forceStencil(),e.enable(e.STENCIL_TEST));a._stencilCounter++;e.colorMask(!1,!1,!1,!1);e.stencilFunc(e.EQUAL,f,this._getBitwiseMask());e.stencilOp(e.KEEP,e.KEEP,e.INCR);b.renderable=!0;b.render(this.renderer);this.renderer.batch.flush();this.renderer.framebuffer.blit();b.renderable=!1;this._useCurrent()};c.prototype.pop=function(a){var b=this.renderer.gl;
0===this.getStackLength()?(b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.clearStencil(0)):(b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.DECR),a.renderable=!0,a.render(this.renderer),this.renderer.batch.flush(),a.renderable=!1,this._useCurrent())};c.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.getStackLength(),this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<
this.getStackLength())-1};return c}(Wg),ke=function(d){function c(a){a=d.call(this,a)||this;a.destinationFrame=null;a.sourceFrame=null;a.defaultFrame=null;a.projectionMatrix=new La;a.transform=null;return a}ua(c,d);c.prototype.update=function(a,b,e,f){this.destinationFrame=a||this.destinationFrame||this.defaultFrame;this.sourceFrame=b||this.sourceFrame||a;this.calculateProjection(this.destinationFrame,this.sourceFrame,e,f);this.transform&&this.projectionMatrix.append(this.transform);a=this.renderer;
a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;a.globalUniforms.update();a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)};c.prototype.calculateProjection=function(a,b,e,f){a=this.projectionMatrix;f=f?-1:1;a.identity();a.a=1/b.width*2;a.d=1/b.height*f*2;a.tx=-1-b.x*a.a;a.ty=-f-b.y*a.d};c.prototype.setTransform=function(a){};return c}(Ta),Pb=new xa,xc=new xa,me=function(d){function c(a){var b=d.call(this,a)||this;b.clearColor=a._backgroundColorRgba;b.defaultMaskStack=
[];b.current=null;b.sourceFrame=new xa;b.destinationFrame=new xa;b.viewportFrame=new xa;return b}ua(c,d);c.prototype.bind=function(a,b,e){void 0===a&&(a=null);var f=this.renderer;this.current=a;if(a){var g=a.baseTexture;var h=g.resolution;b||(Pb.width=a.frame.width,Pb.height=a.frame.height,b=Pb);e||(xc.x=a.frame.x,xc.y=a.frame.y,xc.width=b.width,xc.height=b.height,e=xc);var k=g.framebuffer}else h=f.resolution,b||(Pb.width=f.screen.width,Pb.height=f.screen.height,b=Pb),e||(e=Pb,e.width=b.width,e.height=
b.height);var l=this.viewportFrame;l.x=e.x*h;l.y=e.y*h;l.width=e.width*h;l.height=e.height*h;a||(l.y=f.view.height-(l.y+l.height));this.renderer.framebuffer.bind(k,l);this.renderer.projection.update(e,b,h,!k);a?this.renderer.mask.setMaskStack(g.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(b);this.destinationFrame.copyFrom(e)};c.prototype.clear=function(a,b){a=this.current?a||this.current.baseTexture.clearColor:a||this.clearColor;var e=this.destinationFrame,
f=this.current?this.current.baseTexture:this.renderer.screen;if(e=e.width!==f.width||e.height!==f.height){var g=this.viewportFrame;f=g.x;var h=g.y,k=g.width;g=g.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);this.renderer.gl.scissor(f,h,k,g)}this.renderer.framebuffer.clear(a[0],a[1],a[2],a[3],b);e&&this.renderer.scissor.pop()};c.prototype.resize=function(){this.bind(null)};c.prototype.reset=function(){this.bind(null)};return c}(Ta),yi=function(){return function(){}}(),bg=function(){function d(c,
a){this.program=c;this.uniformData=a;this.uniformGroups={}}d.prototype.destroy=function(){this.program=this.uniformGroups=this.uniformData=null};return d}(),aj=0,Xg={textureCount:0},pe=function(d){function c(a){a=d.call(this,a)||this;a.destroyed=!1;a.systemCheck();a.gl=null;a.shader=null;a.program=null;a.cache={};a.id=aj++;return a}ua(c,d);c.prototype.systemCheck=function(){if("boolean"!==typeof dd)try{dd=!0===(new Function("param1","param2","param3","return param1[param2] === param3;"))({a:"b"},
"a","b")}catch(b){dd=!1}var a=dd;if(!a)throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");};c.prototype.contextChange=function(a){this.gl=a;this.reset()};c.prototype.bind=function(a,b){a.uniforms.globals=this.renderer.globalUniforms;var e=a.program,f=e.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(a);this.shader=a;this.program!==e&&(this.program=e,this.gl.useProgram(f.program));b||(Xg.textureCount=0,this.syncUniformGroup(a.uniformGroup,
Xg));return f};c.prototype.setUniforms=function(a){var b=this.shader.program;b.syncUniforms(b.glPrograms[this.renderer.CONTEXT_UID].uniformData,a,this.renderer)};c.prototype.syncUniformGroup=function(a,b){var e=this.getglProgram();a.static&&a.dirtyId===e.uniformGroups[a.id]||(e.uniformGroups[a.id]=a.dirtyId,this.syncUniforms(a,e,b))};c.prototype.syncUniforms=function(a,b,e){(a.syncUniforms[this.shader.program.id]||this.createSyncGroups(a))(b.uniformData,a.uniforms,this.renderer,e)};c.prototype.createSyncGroups=
function(a){var b=this.getSignature(a,this.shader.program.uniformData);if(!this.cache[b]){var e=this.cache;var f=this.shader.program.uniformData;var g=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "],h;for(h in a.uniforms){var k=f[h];if(k){for(var l=a.uniforms[h],m=!1,n=0;n<Yc.length;n++)if(Yc[n].test(k,l)){g.push(Yc[n].code(h,l));m=!0;break}m||(k=(1===k.size?Yi:Zi)[k.type].replace("location",'ud["'+h+'"].location'),g.push('\n            cv = ud["'+
h+'"].value;\n            v = uv["'+h+'"];\n            '+k+";"))}else a.uniforms[h].group&&g.push('\n                    renderer.shader.syncUniformGroup(uv["'+h+'"], syncData);\n                ')}f=new Function("ud","uv","renderer","syncData",g.join("\n"));e[b]=f}a.syncUniforms[this.shader.program.id]=this.cache[b];return a.syncUniforms[this.shader.program.id]};c.prototype.getSignature=function(a,b){a=a.uniforms;var e=[],f;for(f in a)e.push(f),b[f]&&e.push(b[f].type);return e.join("-")};c.prototype.getglProgram=
function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null};c.prototype.generateShader=function(a){var b=this.gl;a=a.program;var e={},f;for(f in a.attributeData)e[f]=a.attributeData[f].location;e=lf(b,a.vertexSrc,a.fragmentSrc,e);var g={};for(f in a.uniformData){var h=a.uniformData[f];g[f]={location:b.getUniformLocation(e,f),value:mf(h.type,h.size)}}b=new bg(e,g);return a.glPrograms[this.renderer.CONTEXT_UID]=b};c.prototype.reset=function(){this.shader=this.program=
null};c.prototype.destroy=function(){this.destroyed=!0};return c}(Ta),qe=function(d){function c(a){a=d.call(this,a)||this;a.gl=null;a.stateId=0;a.polygonOffset=0;a.blendMode=la.NONE;a._blendEq=!1;a.map=[];a.map[0]=a.setBlend;a.map[1]=a.setOffset;a.map[2]=a.setCullFace;a.map[3]=a.setDepthTest;a.map[4]=a.setFrontFace;a.map[5]=a.setDepthMask;a.checks=[];a.defaultState=new zb;a.defaultState.blend=!0;return a}ua(c,d);c.prototype.contextChange=function(a){this.gl=a;var b=void 0;void 0===b&&(b=[]);b[la.NORMAL]=
[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.ADD]=[a.ONE,a.ONE];b[la.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SOFT_LIGHT]=[a.ONE,
a.ONE_MINUS_SRC_ALPHA];b[la.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.NONE]=[0,0];b[la.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[la.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE];b[la.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA];
b[la.SRC_IN]=[a.DST_ALPHA,a.ZERO];b[la.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO];b[la.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA];b[la.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE];b[la.DST_IN]=[a.ZERO,a.SRC_ALPHA];b[la.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA];b[la.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA];b[la.XOR]=[a.ONE_MINUS_DST_ALPHA,a.ONE_MINUS_SRC_ALPHA];b[la.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD];this.blendModes=b;this.set(this.defaultState);this.reset()};c.prototype.set=
function(a){a=a||this.defaultState;if(this.stateId!==a.data){for(var b=this.stateId^a.data,e=0;b;)b&1&&this.map[e].call(this,!!(a.data&1<<e)),b>>=1,e++;this.stateId=a.data}for(e=0;e<this.checks.length;e++)this.checks[e](this,a)};c.prototype.forceState=function(a){a=a||this.defaultState;for(var b=0;b<this.map.length;b++)this.map[b].call(this,!!(a.data&1<<b));for(b=0;b<this.checks.length;b++)this.checks[b](this,a);this.stateId=a.data};c.prototype.setBlend=function(a){this.updateCheck(c.checkBlendMode,
a);this.gl[a?"enable":"disable"](this.gl.BLEND)};c.prototype.setOffset=function(a){this.updateCheck(c.checkPolygonOffset,a);this.gl[a?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)};c.prototype.setDepthTest=function(a){this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)};c.prototype.setDepthMask=function(a){this.gl.depthMask(a)};c.prototype.setCullFace=function(a){this.gl[a?"enable":"disable"](this.gl.CULL_FACE)};c.prototype.setFrontFace=function(a){this.gl.frontFace(this.gl[a?"CW":"CCW"])};c.prototype.setBlendMode=
function(a){if(a!==this.blendMode){this.blendMode=a;a=this.blendModes[a];var b=this.gl;2===a.length?b.blendFunc(a[0],a[1]):b.blendFuncSeparate(a[0],a[1],a[2],a[3]);6===a.length?(this._blendEq=!0,b.blendEquationSeparate(a[4],a[5])):this._blendEq&&(this._blendEq=!1,b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD))}};c.prototype.setPolygonOffset=function(a,b){this.gl.polygonOffset(a,b)};c.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.forceState(this.defaultState);
this._blendEq=!0;this.blendMode=-1;this.setBlendMode(0)};c.prototype.updateCheck=function(a,b){var e=this.checks.indexOf(a);b&&-1===e?this.checks.push(a):b||-1===e||this.checks.splice(e,1)};c.checkBlendMode=function(a,b){a.setBlendMode(b.blendMode)};c.checkPolygonOffset=function(a,b){a.setPolygonOffset(1,b.polygonOffset)};return c}(Ta),ue=function(d){function c(a){a=d.call(this,a)||this;a.count=0;a.checkCount=0;a.maxIdle=na.GC_MAX_IDLE;a.checkCountMax=na.GC_MAX_CHECK_COUNT;a.mode=na.GC_MODE;return a}
ua(c,d);c.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Sc.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))};c.prototype.run=function(){for(var a=this.renderer.texture,b=a.managedTextures,e=!1,f=0;f<b.length;f++){var g=b[f];!g.framebuffer&&this.count-g.touched>this.maxIdle&&(a.destroyTexture(g,!0),b[f]=null,e=!0)}if(e){for(f=a=0;f<b.length;f++)null!==b[f]&&(b[a++]=b[f]);b.length=a}};c.prototype.unload=function(a){var b=
this.renderer.texture,e=a._texture;e&&!e.framebuffer&&b.destroyTexture(e);for(b=a.children.length-1;0<=b;b--)this.unload(a.children[b])};return c}(Ta),Tc=function(){return function(d){this.texture=d;this.dirtyStyleId=this.dirtyId=this.height=this.width=-1;this.mipmap=!1;this.wrapMode=33071;this.type=6408;this.internalFormat=5121}}(),ve=function(d){function c(a){a=d.call(this,a)||this;a.boundTextures=[];a.currentLocation=-1;a.managedTextures=[];a._unknownBoundTextures=!1;a.unknownTexture=new za;return a}
ua(c,d);c.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=b;for(var e=0;e<b;e++)this.boundTextures[e]=null;this.emptyTextures={};b=new Tc(a.createTexture());a.bindTexture(a.TEXTURE_2D,b.texture);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[a.TEXTURE_2D]=b;
this.emptyTextures[a.TEXTURE_CUBE_MAP]=new Tc(a.createTexture());a.bindTexture(a.TEXTURE_CUBE_MAP,this.emptyTextures[a.TEXTURE_CUBE_MAP].texture);for(e=0;6>e;e++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR);for(e=0;e<this.boundTextures.length;e++)this.bind(null,e)};c.prototype.bind=function(a,b){void 0===b&&(b=0);var e=this.gl;
if(a){if(a=a.castToBaseTexture(),!a.parentTextureArray&&a.valid){a.touched=this.renderer.textureGC.count;var f=a._glTextures[this.CONTEXT_UID]||this.initTexture(a);this.boundTextures[b]!==a&&(this.currentLocation!==b&&(this.currentLocation=b,e.activeTexture(e.TEXTURE0+b)),e.bindTexture(a.target,f.texture));f.dirtyId!==a.dirtyId&&(this.currentLocation!==b&&(this.currentLocation=b,e.activeTexture(e.TEXTURE0+b)),this.updateTexture(a));this.boundTextures[b]=a}}else this.currentLocation!==b&&(this.currentLocation=
b,e.activeTexture(e.TEXTURE0+b)),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[e.TEXTURE_2D].texture),this.boundTextures[b]=null};c.prototype.reset=function(){this._unknownBoundTextures=!0;this.currentLocation=-1;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.unknownTexture};c.prototype.unbind=function(a){var b=this.gl,e=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var f=0;f<e.length;f++)e[f]===this.unknownTexture&&this.bind(null,f)}for(f=
0;f<e.length;f++)e[f]===a&&(this.currentLocation!==f&&(b.activeTexture(b.TEXTURE0+f),this.currentLocation=f),b.bindTexture(a.target,this.emptyTextures[a.target].texture),e[f]=null)};c.prototype.initTexture=function(a){var b=new Tc(this.gl.createTexture());b.dirtyId=-1;a._glTextures[this.CONTEXT_UID]=b;this.managedTextures.push(a);a.on("dispose",this.destroyTexture,this);return b};c.prototype.initTextureType=function(a,b){b.internalFormat=a.format;b.type=a.type;if(2===this.webGLVersion){var e=this.renderer.gl;
a.type===e.FLOAT&&a.format===e.RGBA&&(b.internalFormat=e.RGBA32F);a.type===Ca.HALF_FLOAT&&(b.type=e.HALF_FLOAT);b.type===e.HALF_FLOAT&&a.format===e.RGBA&&(b.internalFormat=e.RGBA16F)}};c.prototype.updateTexture=function(a){var b=a._glTextures[this.CONTEXT_UID];if(b){var e=this.renderer;this.initTextureType(a,b);if(!a.resource||!a.resource.upload(e,a,b)){var f=a.realWidth,g=a.realHeight;e=e.gl;if(b.width!==f||b.height!==g||0>b.dirtyId)b.width=f,b.height=g,e.texImage2D(a.target,0,b.internalFormat,f,
g,0,a.format,b.type,null)}a.dirtyStyleId!==b.dirtyStyleId&&this.updateTextureStyle(a);b.dirtyId=a.dirtyId}};c.prototype.destroyTexture=function(a,b){var e=this.gl;a=a.castToBaseTexture();a._glTextures[this.CONTEXT_UID]&&(this.unbind(a),e.deleteTexture(a._glTextures[this.CONTEXT_UID].texture),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.CONTEXT_UID],b||(a=this.managedTextures.indexOf(a),-1!==a&&sa(this.managedTextures,a,1)))};c.prototype.updateTextureStyle=function(a){var b=
a._glTextures[this.CONTEXT_UID];b&&(b.mipmap=a.mipmap!==wb.POW2&&2===this.webGLVersion||a.isPowerOfTwo?1<=a.mipmap:!1,b.wrapMode=2===this.webGLVersion||a.isPowerOfTwo?a.wrapMode:qb.CLAMP,a.resource&&a.resource.style(this.renderer,a,b)||this.setStyle(a,b),b.dirtyStyleId=a.dirtyStyleId)};c.prototype.setStyle=function(a,b){var e=this.gl;b.mipmap&&a.mipmap!==wb.ON_MANUAL&&e.generateMipmap(a.target);e.texParameteri(a.target,e.TEXTURE_WRAP_S,b.wrapMode);e.texParameteri(a.target,e.TEXTURE_WRAP_T,b.wrapMode);
if(b.mipmap){if(e.texParameteri(a.target,e.TEXTURE_MIN_FILTER,a.scaleMode===jb.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),(b=this.renderer.context.extensions.anisotropicFiltering)&&0<a.anisotropicLevel&&a.scaleMode===jb.LINEAR){var f=Math.min(a.anisotropicLevel,e.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e.texParameterf(a.target,b.TEXTURE_MAX_ANISOTROPY_EXT,f)}}else e.texParameteri(a.target,e.TEXTURE_MIN_FILTER,a.scaleMode===jb.LINEAR?e.LINEAR:e.NEAREST);e.texParameteri(a.target,
e.TEXTURE_MAG_FILTER,a.scaleMode===jb.LINEAR?e.LINEAR:e.NEAREST)};return c}(Ta),Yg={__proto__:null,FilterSystem:de,BatchSystem:$d,ContextSystem:ae,FramebufferSystem:ee,GeometrySystem:fe,MaskSystem:je,ScissorSystem:oe,StencilSystem:re,ProjectionSystem:ke,RenderTextureSystem:me,ShaderSystem:pe,StateSystem:qe,TextureGCSystem:ue,TextureSystem:ve},Oe=new La,Jf=function(d){function c(a,b){void 0===a&&(a=bc.UNKNOWN);var e=d.call(this)||this;b=Object.assign({},na.RENDER_OPTIONS,b);e.options=b;e.type=a;e.screen=
new xa(0,0,b.width,b.height);e.view=b.view||document.createElement("canvas");e.resolution=b.resolution||na.RESOLUTION;e.useContextAlpha=b.useContextAlpha;e.autoDensity=!!b.autoDensity;e.preserveDrawingBuffer=b.preserveDrawingBuffer;e.clearBeforeRender=b.clearBeforeRender;e._backgroundColor=0;e._backgroundColorRgba=[0,0,0,1];e._backgroundColorString="#000000";e.backgroundColor=b.backgroundColor||e._backgroundColor;e.backgroundAlpha=b.backgroundAlpha;void 0!==b.transparent&&(Ga("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),
e.useContextAlpha=b.transparent,e.backgroundAlpha=b.transparent?0:1);e._lastObjectRendered=null;e.plugins={};return e}ua(c,d);c.prototype.initPlugins=function(a){for(var b in a)this.plugins[b]=new a[b](this)};Object.defineProperty(c.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0});c.prototype.resize=function(a,b){this.screen.width=a;this.screen.height=
b;this.view.width=a*this.resolution;this.view.height=b*this.resolution;this.autoDensity&&(this.view.style.width=a+"px",this.view.style.height=b+"px");this.emit("resize",a,b)};c.prototype.generateTexture=function(a,b,e,f){f=f||a.getLocalBounds(null,!0);0===f.width&&(f.width=1);0===f.height&&(f.height=1);b=xb.create({width:f.width|0,height:f.height|0,scaleMode:b,resolution:e});Oe.tx=-f.x;Oe.ty=-f.y;this.render(a,{renderTexture:b,clear:!1,transform:Oe,skipUpdateTransform:!!a.parent});return b};c.prototype.destroy=
function(a){for(var b in this.plugins)this.plugins[b].destroy(),this.plugins[b]=null;a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null;this.type=bc.UNKNOWN;this._lastObjectRendered=this._backgroundColorString=this._backgroundColorRgba=this.options=this._tempDisplayObjectParent=this.screen=this.view=null};Object.defineProperty(c.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=
Y(a);ea(a,this._backgroundColorRgba)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(a){this._backgroundColorRgba[3]=a},enumerable:!1,configurable:!0});return c}(dc()),lb=function(d){function c(a){var b=d.call(this,bc.WEBGL,a)||this;a=b.options;b.gl=null;b.CONTEXT_UID=0;b.runners={destroy:new Pa("destroy"),contextChange:new Pa("contextChange"),reset:new Pa("reset"),update:new Pa("update"),postrender:new Pa("postrender"),
prerender:new Pa("prerender"),resize:new Pa("resize")};b.globalUniforms=new Bb({projectionMatrix:new La},!0);b.addSystem(je,"mask").addSystem(ae,"context").addSystem(qe,"state").addSystem(pe,"shader").addSystem(ve,"texture").addSystem(fe,"geometry").addSystem(ee,"framebuffer").addSystem(oe,"scissor").addSystem(re,"stencil").addSystem(ke,"projection").addSystem(ue,"textureGC").addSystem(de,"filter").addSystem(me,"renderTexture").addSystem($d,"batch");b.initPlugins(c.__plugins);a.context?b.context.initFromContext(a.context):
b.context.initFromOptions({alpha:!!b.useContextAlpha,antialias:a.antialias,premultipliedAlpha:b.useContextAlpha&&"notMultiplied"!==b.useContextAlpha,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer,powerPreference:b.options.powerPreference});b.renderingToScreen=!0;X(2===b.context.webGLVersion?"WebGL 2":"WebGL 1");b.resize(b.options.width,b.options.height);return b}ua(c,d);c.create=function(a){if(W())return new c(a);throw Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');
};c.prototype.addSystem=function(a,b){b||(b=a.name);a=new a(this);if(this[b])throw Error('Whoops! The name "'+b+'" is already in use');this[b]=a;for(var e in this.runners)this.runners[e].add(a);return this};c.prototype.render=function(a,b,e,f,g){if(b)if(b instanceof xb){Ga("6.0.0","Renderer#render arguments changed, use options instead.");var h=b;var k=e;var l=f;var m=g}else h=b.renderTexture,k=b.clear,l=b.transform,m=b.skipUpdateTransform;this.renderingToScreen=!h;this.runners.prerender.emit();this.emit("prerender");
this.projection.transform=l;this.context.isLost||(h||(this._lastObjectRendered=a),m||(b=a.enableTempParent(),a.updateTransform(),a.disableTempParent(b)),this.renderTexture.bind(h),this.batch.currentRenderer.start(),(void 0!==k?k:this.clearBeforeRender)&&this.renderTexture.clear(),a.render(this),this.batch.currentRenderer.flush(),h&&h.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))};c.prototype.resize=function(a,b){d.prototype.resize.call(this,
a,b);this.runners.resize.emit(a,b)};c.prototype.reset=function(){this.runners.reset.emit();return this};c.prototype.clear=function(){this.renderTexture.bind();this.renderTexture.clear()};c.prototype.destroy=function(a){this.runners.destroy.emit();for(var b in this.runners)this.runners[b].destroy();d.prototype.destroy.call(this,a);this.gl=null};Object.defineProperty(c.prototype,"extract",{get:function(){Ga("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.");
return this.plugins.extract},enumerable:!1,configurable:!0});c.registerPlugin=function(a,b){c.__plugins=c.__plugins||{};c.__plugins[a]=b};return c}(Jf),Ag="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ze="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",
Nc=function(){return function(){this.texArray=null;this.blend=0;this.type=Wa.TRIANGLES;this.size=this.start=0;this.data=null}}(),Oc=function(){function d(){this.elements=[];this.ids=[];this.count=0}d.prototype.clear=function(){for(var c=0;c<this.count;c++)this.elements[c]=null;this.count=0};return d}(),Xc=function(){function d(c){this.rawBinaryData="number"===typeof c?new ArrayBuffer(c):c instanceof Uint8Array?c.buffer:c;this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}
Object.defineProperty(d.prototype,"int8View",{get:function(){this._int8View||(this._int8View=new Int8Array(this.rawBinaryData));return this._int8View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"uint8View",{get:function(){this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData));return this._uint8View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"int16View",{get:function(){this._int16View||(this._int16View=new Int16Array(this.rawBinaryData));
return this._int16View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"uint16View",{get:function(){this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData));return this._uint16View},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"int32View",{get:function(){this._int32View||(this._int32View=new Int32Array(this.rawBinaryData));return this._int32View},enumerable:!1,configurable:!0});d.prototype.view=function(c){return this[c+"View"]};d.prototype.destroy=
function(){this.float32View=this.uint32View=this._int32View=this._uint16View=this._int16View=this._uint8View=this._int8View=this.rawBinaryData=null};d.sizeOf=function(c){switch(c){case "int8":case "uint8":return 1;case "int16":case "uint16":return 2;case "int32":case "uint32":case "float32":return 4;default:throw Error(c+" isn't a valid view type");}};return d}(),If=function(d){function c(a){var b=d.call(this,a)||this;b.shaderGenerator=null;b.geometryClass=null;b.vertexSize=null;b.state=zb.for2d();
b.size=4*na.SPRITE_BATCH_SIZE;b._vertexCount=0;b._indexCount=0;b._bufferedElements=[];b._bufferedTextures=[];b._bufferSize=0;b._shader=null;b._packedGeometries=[];b._packedGeometryPoolSize=2;b._flushId=0;b._aBuffers={};b._iBuffers={};b.MAX_TEXTURES=1;b.renderer.on("prerender",b.onPrerender,b);a.runners.contextChange.add(b);b._dcIndex=0;b._aIndex=0;b._iIndex=0;b._attributeBuffer=null;b._indexBuffer=null;b._tempBoundTextures=[];return b}ua(c,d);c.prototype.contextChange=function(){var a=this.renderer.gl;
na.PREFER_ENV===eb.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),na.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=sf(this.MAX_TEXTURES,a));this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(a=0;a<this._packedGeometryPoolSize;a++)this._packedGeometries[a]=new this.geometryClass;this.initFlushBuffers()};c.prototype.initFlushBuffers=function(){for(var a=c._drawCallPool,b=c._textureArrayPool,e=this.size/4,f=Math.floor(e/this.MAX_TEXTURES)+
1;a.length<e;)a.push(new Nc);for(;b.length<f;)b.push(new Oc);for(a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null};c.prototype.onPrerender=function(){this._flushId=0};c.prototype.render=function(a){a._texture.valid&&(this._vertexCount+a.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=a.vertexData.length/2,this._indexCount+=a.indices.length,this._bufferedTextures[this._bufferSize]=a._texture.baseTexture,this._bufferedElements[this._bufferSize++]=a)};c.prototype.buildTexturesAndDrawCalls=
function(){var a=this._bufferedTextures,b=this.MAX_TEXTURES,e=c._textureArrayPool,f=this.renderer.batch,g=this._tempBoundTextures,h=this.renderer.textureGC.count,k=++za._globalBatch,l=0,m=e[0],n=0;f.copyBoundTextures(g,b);for(var p=0;p<this._bufferSize;++p){var v=a[p];a[p]=null;v._batchEnabled!==k&&(m.count>=b&&(f.boundArray(m,g,k,b),this.buildDrawCalls(m,n,p),n=p,m=e[++l],++k),v._batchEnabled=k,v.touched=h,m.elements[m.count++]=v)}0<m.count&&(f.boundArray(m,g,k,b),this.buildDrawCalls(m,n,this._bufferSize),
++k);for(p=0;p<g.length;p++)g[p]=null;za._globalBatch=k};c.prototype.buildDrawCalls=function(a,b,e){var f=this._bufferedElements,g=this._attributeBuffer,h=this._indexBuffer,k=this.vertexSize,l=c._drawCallPool,m=this._dcIndex,n=this._aIndex,p=this._iIndex,v=l[m];v.start=this._iIndex;v.texArray=a;for(var E=b;E<e;++E){var J=f[E],T=od[J._texture.baseTexture.alphaMode?1:0][J.blendMode];f[E]=null;b<E&&v.blend!==T&&(v.size=p-v.start,b=E,v=l[++m],v.texArray=a,v.start=p);this.packInterleavedGeometry(J,g,h,
n,p);n+=J.vertexData.length/2*k;p+=J.indices.length;v.blend=T}b<e&&(v.size=p-v.start,++m);this._dcIndex=m;this._aIndex=n;this._iIndex=p};c.prototype.bindAndClearTexArray=function(a){for(var b=this.renderer.texture,e=0;e<a.count;e++)b.bind(a.elements[e],a.ids[e]),a.elements[e]=null;a.count=0};c.prototype.updateGeometry=function(){var a=this._packedGeometries,b=this._attributeBuffer,e=this._indexBuffer;na.CAN_UPLOAD_SAME_BUFFER?(a[this._flushId]._buffer.update(b.rawBinaryData),a[this._flushId]._indexBuffer.update(e),
this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,a[this._flushId]=new this.geometryClass),a[this._flushId]._buffer.update(b.rawBinaryData),a[this._flushId]._indexBuffer.update(e),this.renderer.geometry.bind(a[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)};c.prototype.drawBatches=function(){var a=this._dcIndex,b=this.renderer,e=b.gl;b=b.state;for(var f=c._drawCallPool,g=null,h=0;h<a;h++){var k=f[h],l=k.texArray,
m=k.type,n=k.size,p=k.start;k=k.blend;g!==l&&(g=l,this.bindAndClearTexArray(l));this.state.blendMode=k;b.set(this.state);e.drawElements(m,n,e.UNSIGNED_SHORT,2*p)}};c.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._dcIndex=this._iIndex=this._aIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._indexCount=this._vertexCount=this._bufferSize=
0)};c.prototype.start=function(){this.renderer.state.set(this.state);this.renderer.shader.bind(this._shader);na.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])};c.prototype.stop=function(){this.flush()};c.prototype.destroy=function(){for(var a=0;a<this._packedGeometryPoolSize;a++)this._packedGeometries[a]&&this._packedGeometries[a].destroy();this.renderer.off("prerender",this.onPrerender,this);this._indexBuffer=this._attributeBuffer=this._packedGeometries=
this._iBuffers=this._aBuffers=null;this._shader&&(this._shader.destroy(),this._shader=null);d.prototype.destroy.call(this)};c.prototype.getAttributeBuffer=function(a){var b=ca(Math.ceil(a/8));a=V(b);b*=8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);(a=this._aBuffers[b])||(this._aBuffers[b]=a=new Xc(b*this.vertexSize*4));return a};c.prototype.getIndexBuffer=function(a){a=ca(Math.ceil(a/12));var b=V(a);this._iBuffers.length<=b&&(this._iBuffers.length=b+1);var e=this._iBuffers[b];e||(this._iBuffers[b]=
e=new Uint16Array(12*a));return e};c.prototype.packInterleavedGeometry=function(a,b,e,f,g){var h=b.uint32View;b=b.float32View;var k=f/this.vertexSize,l=a.uvs,m=a.indices,n=a.vertexData,p=a._texture.baseTexture._batchLocation,v=Math.min(a.worldAlpha,1);a=1>v&&a._texture.baseTexture.alphaMode?r(a._tintRGB,v):a._tintRGB+(255*v<<24);for(v=0;v<n.length;v+=2)b[f++]=n[v],b[f++]=n[v+1],b[f++]=l[v],b[f++]=l[v+1],h[f++]=a,b[f++]=p;for(v=0;v<m.length;v++)e[g++]=k+m[v]};c._drawCallPool=[];c._textureArrayPool=
[];return c}(tc),Pf=function(){function d(c,a){this.vertexSrc=c;this.fragTemplate=a;this.programCache={};this.defaultGroupCache={};if(0>a.indexOf("%count%"))throw Error('Fragment template must contain "%count%".');if(0>a.indexOf("%forloop%"))throw Error('Fragment template must contain "%forloop%".');}d.prototype.generateShader=function(c){if(!this.programCache[c]){for(var a=new Int32Array(c),b=0;b<c;b++)a[b]=b;this.defaultGroupCache[c]=Bb.from({uSamplers:a},!0);a=this.fragTemplate;a=a.replace(/%count%/gi,
""+c);a=a.replace(/%forloop%/gi,this.generateSampleSrc(c));this.programCache[c]=new wc(this.vertexSrc,a)}a={tint:new Float32Array([1,1,1,1]),translationMatrix:new La,default:this.defaultGroupCache[c]};return new yb(this.programCache[c],a)};d.prototype.generateSampleSrc=function(c){var a="\n\n";for(var b=0;b<c;b++)0<b&&(a+="\nelse "),b<c-1&&(a+="if(vTextureId < "+b+".5)"),a+="\n{",a+="\n\tcolor = texture2D(uSamplers["+b+"], vTextureCoord);",a+="\n}";return a+"\n\n"};return d}(),Zd=function(d){function c(a){void 0===
a&&(a=!1);var b=d.call(this)||this;b._buffer=new Na(null,a,!1);b._indexBuffer=new Na(null,a,!0);b.addAttribute("aVertexPosition",b._buffer,2,!1,Ca.FLOAT).addAttribute("aTextureCoord",b._buffer,2,!1,Ca.FLOAT).addAttribute("aColor",b._buffer,4,!0,Ca.UNSIGNED_BYTE).addAttribute("aTextureId",b._buffer,1,!0,Ca.FLOAT).addIndex(b._indexBuffer);return b}ua(c,d);return c}($b),Nf=function(){function d(){}d.create=function(c){c=Object.assign({vertex:"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",
fragment:"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",geometryClass:Zd,vertexSize:6},c);var a=c.vertex,b=c.fragment,e=c.vertexSize,f=c.geometryClass;return function(g){function h(k){k=g.call(this,k)||this;k.shaderGenerator=new Pf(a,b);k.geometryClass=f;k.vertexSize=e;return k}ua(h,g);return h}(If)};Object.defineProperty(d,"defaultVertexSrc",
{get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(d,"defaultFragmentTemplate",{get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},enumerable:!1,configurable:!0});return d}(),Of=Nf.create(),Cg={},bj=function(d){Object.defineProperty(Cg,d,{get:function(){Ga("6.0.0","PIXI.systems."+d+" has moved to PIXI."+d);return Rg[d]}})},
fd;for(fd in Rg)bj(fd);var Dg={},cj=function(d){Object.defineProperty(Dg,d,{get:function(){Ga("6.0.0","PIXI.resources."+d+" has moved to PIXI."+d);return Yg[d]}})};for(fd in Yg)cj(fd);var Mc=function(){function d(c){var a=this;this.stage=new ab;c=Object.assign({forceCanvas:!1},c);this.renderer=tf(c);d._plugins.forEach(function(b){b.init.call(a,c)})}d.registerPlugin=function(c){d._plugins.push(c)};d.prototype.render=function(){this.renderer.render(this.stage)};Object.defineProperty(d.prototype,"view",
{get:function(){return this.renderer.view},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0});d.prototype.destroy=function(c,a){var b=this,e=d._plugins.slice(0);e.reverse();e.forEach(function(f){f.destroy.call(b)});this.stage.destroy(a);this.stage=null;this.renderer.destroy(c);this.renderer=null};d._plugins=[];return d}(),dj=function(){function d(){}d.init=function(c){var a=this;Object.defineProperty(this,
"resizeTo",{set:function(b){self.removeEventListener("resize",this.queueResize);if(this._resizeTo=b)self.addEventListener("resize",this.queueResize),this.resize()},get:function(){return this._resizeTo}});this.queueResize=function(){a._resizeTo&&(a.cancelResize(),a._resizeId=requestAnimationFrame(function(){return a.resize()}))};this.cancelResize=function(){a._resizeId&&(cancelAnimationFrame(a._resizeId),a._resizeId=null)};this.resize=function(){if(a._resizeTo){a.cancelResize();if(a._resizeTo===self){var b=
self.innerWidth;var e=self.innerHeight}else b=a._resizeTo,e=b.clientHeight,b=b.clientWidth;a.renderer.resize(b,e)}};this._resizeTo=this._resizeId=null;this.resizeTo=c.resizeTo||null};d.destroy=function(){self.removeEventListener("resize",this.queueResize);this.cancelResize();this.resize=this.resizeTo=this.queueResize=this.cancelResize=null};return d}();Mc.registerPlugin(dj);var Zg=new xa,Yf=function(){function d(c){this.renderer=c}d.prototype.image=function(c,a,b){var e=new Image;e.src=this.base64(c,
a,b);return e};d.prototype.base64=function(c,a,b){return this.canvas(c).toDataURL(a,b)};d.prototype.canvas=function(c){var a=this.renderer,b=!1;if(c)if(c instanceof xb)var e=c;else e=this.renderer.generateTexture(c),b=!0;if(e){var f=e.baseTexture.resolution;var g=e.frame;var h=!1;a.renderTexture.bind(e)}else f=this.renderer.resolution,h=!0,g=Zg,g.width=this.renderer.width,g.height=this.renderer.height,a.renderTexture.bind(null);var k=Math.floor(g.width*f+1E-4);c=Math.floor(g.height*f+1E-4);var l=
new Be(k,c,1),m=new Uint8Array(4*k*c);a=a.gl;a.readPixels(g.x*f,g.y*f,k,c,a.RGBA,a.UNSIGNED_BYTE,m);a=l.context.getImageData(0,0,k,c);d.arrayPostDivide(m,a.data);l.context.putImageData(a,0,0);h&&(h=new Be(l.width,l.height,1),h.context.scale(1,-1),h.context.drawImage(l.canvas,0,-c),l.destroy(),l=h);b&&e.destroy(!0);return l.canvas};d.prototype.pixels=function(c){var a=this.renderer,b=!1;if(c)if(c instanceof xb)var e=c;else e=this.renderer.generateTexture(c),b=!0;if(e){c=e.baseTexture.resolution;var f=
e.frame;a.renderTexture.bind(e)}else c=a.resolution,f=Zg,f.width=a.width,f.height=a.height,a.renderTexture.bind(null);var g=f.width*c,h=f.height*c,k=new Uint8Array(4*g*h);a=a.gl;a.readPixels(f.x*c,f.y*c,g,h,a.RGBA,a.UNSIGNED_BYTE,k);b&&e.destroy(!0);d.arrayPostDivide(k,k);return k};d.prototype.destroy=function(){this.renderer=null};d.arrayPostDivide=function(c,a){for(var b=0;b<c.length;b+=4){var e=a[b+3]=c[b+3];0!==e?(a[b]=Math.round(Math.min(255*c[b]/e,255)),a[b+1]=Math.round(Math.min(255*c[b+1]/
e,255)),a[b+2]=Math.round(Math.min(255*c[b+2]/e,255))):(a[b]=c[b],a[b+1]=c[b+1],a[b+2]=c[b+2])}};return d}(),ej=A(767),$g=A.n(ej),fj=A(552),sb=A.n(fj),gj=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),gd=null,ma=function(){function d(a,b,e){if("string"!==typeof a||"string"!==typeof b)throw Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(d.STATUS_FLAGS.DATA_URL,0===b.indexOf("data:"));this.name=a;this.url=b;this.extension=
this._getExtension();this.data=null;this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin;this.timeout=e.timeout||0;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.xhr=this.error=null;this.children=[];this.type=d.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=Yh;this._onLoadBinding=null;this._elementTimer=0;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);
this._boundOnTimeout=this._onTimeout.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this.onStart=new (sb());this.onProgress=new (sb());this.onComplete=new (sb());this.onAfterMiddleware=new (sb())}d.setExtensionLoadType=function(a,b){xf(d._loadTypeMap,a,b)};d.setExtensionXhrType=function(a,b){xf(d._xhrTypeMap,a,b)};var c=d.prototype;c.complete=
function(){this._clearEvents();this._finish()};c.abort=function(a){if(!this.error){this.error=Error(a);this._clearEvents();if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=d.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}};c.load=function(a){var b=this;if(!this.isLoading)if(this.isComplete)a&&setTimeout(function(){return a(b)},1);else{if(a)this.onComplete.once(a);this._setFlag(d.STATUS_FLAGS.LOADING,
!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case d.LOAD_TYPE.IMAGE:this.type=d.TYPE.IMAGE;this._loadElement("image");break;case d.LOAD_TYPE.AUDIO:this.type=d.TYPE.AUDIO;this._loadSourceElement("audio");break;case d.LOAD_TYPE.VIDEO:this.type=d.TYPE.VIDEO;this._loadSourceElement("video");break;default:gj&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};c._hasFlag=function(a){return 0!==
(this._flags&a)};c._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};c._clearEvents=function(){clearTimeout(this._elementTimer);this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",
this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))};c._finish=function(){if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(d.STATUS_FLAGS.COMPLETE,
!0);this._setFlag(d.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};c._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",
this._boundOnProgress,!1);this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))};c._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:
this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(a,this.url[e],Array.isArray(b)?b[e]:b));else b=this.metadata.mimeType,this.data.appendChild(this._createSource(a,this.url,Array.isArray(b)?b[0]:b));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",
this._boundComplete,!1);this.data.load();this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}};c._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.timeout=this.timeout;a.responseType=this.xhrType===d.XHR_RESPONSE_TYPE.JSON||this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT?d.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("timeout",
this._boundXhrOnTimeout,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};c._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=this.timeout||5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXhrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,
!0);setTimeout(function(){return a.send()},1)};c._createSource=function(a,b,e){e||(e=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=e;return a};c._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};c._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};c._onTimeout=function(){this.abort("Load timed out.")};c._xhrOnError=function(){var a=this.xhr;this.abort(ud(a)+" Request failed. Status: "+
a.status+', text: "'+a.statusText+'"')};c._xhrOnTimeout=function(){this.abort(ud(this.xhr)+" Request timed out.")};c._xhrOnAbort=function(){this.abort(ud(this.xhr)+" Request was aborted by the user.")};c._xhrOnLoad=function(){var a=this.xhr,b="",e="undefined"===typeof a.status?200:a.status;if(""===a.responseType||"text"===a.responseType||"undefined"===typeof a.responseType)b=a.responseText;0===e&&(0<b.length||a.responseType===d.XHR_RESPONSE_TYPE.BUFFER)?e=200:1223===e&&(e=204);if(2===(e/100|0)){if(this.xhrType===
d.XHR_RESPONSE_TYPE.TEXT)this.data=b,this.type=d.TYPE.TEXT;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b),this.type=d.TYPE.JSON}catch(g){this.abort("Error trying to parse loaded json: "+g);return}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b,"text/xml");else{var f=document.createElement("div");f.innerHTML=b;this.data=f}this.type=d.TYPE.XML}catch(g){this.abort("Error trying to parse loaded xml: "+
g);return}else this.data=a.response||b;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)};c._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";b=b||window.location;gd||(gd=document.createElement("a"));gd.href=a;a=$g()(gd.href,{strictMode:!0});var e=!a.port&&""===b.port||a.port===b.port,f=a.protocol?a.protocol+":":"";return a.host===b.hostname&&e&&f===b.protocol?"":"anonymous"};c._determineXhrType=
function(){return d._xhrTypeMap[this.extension]||d.XHR_RESPONSE_TYPE.TEXT};c._determineLoadType=function(){return d._loadTypeMap[this.extension]||d.LOAD_TYPE.XHR};c._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");a=a.substring(b+1,a.indexOf(";",b))}else{b=a.indexOf("?");var e=a.indexOf("#");a=a.substring(0,Math.min(-1<b?b:a.length,-1<e?e:a.length));a=a.substring(a.lastIndexOf(".")+1)}return a.toLowerCase()};c._getMimeFromXhrType=function(a){switch(a){case d.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";
case d.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case d.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case d.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};wf(d,[{key:"isDataUrl",get:function(){return this._hasFlag(d.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(d.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(d.STATUS_FLAGS.LOADING)}}]);return d}();ma.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,
LOADING:4};ma.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};ma.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};ma.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};ma._loadTypeMap={gif:ma.LOAD_TYPE.IMAGE,png:ma.LOAD_TYPE.IMAGE,bmp:ma.LOAD_TYPE.IMAGE,jpg:ma.LOAD_TYPE.IMAGE,jpeg:ma.LOAD_TYPE.IMAGE,tif:ma.LOAD_TYPE.IMAGE,tiff:ma.LOAD_TYPE.IMAGE,webp:ma.LOAD_TYPE.IMAGE,tga:ma.LOAD_TYPE.IMAGE,svg:ma.LOAD_TYPE.IMAGE,"svg+xml":ma.LOAD_TYPE.IMAGE,
mp3:ma.LOAD_TYPE.AUDIO,ogg:ma.LOAD_TYPE.AUDIO,wav:ma.LOAD_TYPE.AUDIO,mp4:ma.LOAD_TYPE.VIDEO,webm:ma.LOAD_TYPE.VIDEO};ma._xhrTypeMap={xhtml:ma.XHR_RESPONSE_TYPE.DOCUMENT,html:ma.XHR_RESPONSE_TYPE.DOCUMENT,htm:ma.XHR_RESPONSE_TYPE.DOCUMENT,xml:ma.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ma.XHR_RESPONSE_TYPE.DOCUMENT,svg:ma.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ma.XHR_RESPONSE_TYPE.DOCUMENT,gif:ma.XHR_RESPONSE_TYPE.BLOB,png:ma.XHR_RESPONSE_TYPE.BLOB,bmp:ma.XHR_RESPONSE_TYPE.BLOB,jpg:ma.XHR_RESPONSE_TYPE.BLOB,jpeg:ma.XHR_RESPONSE_TYPE.BLOB,
tif:ma.XHR_RESPONSE_TYPE.BLOB,tiff:ma.XHR_RESPONSE_TYPE.BLOB,webp:ma.XHR_RESPONSE_TYPE.BLOB,tga:ma.XHR_RESPONSE_TYPE.BLOB,json:ma.XHR_RESPONSE_TYPE.JSON,text:ma.XHR_RESPONSE_TYPE.TEXT,txt:ma.XHR_RESPONSE_TYPE.TEXT,ttf:ma.XHR_RESPONSE_TYPE.BUFFER,otf:ma.XHR_RESPONSE_TYPE.BUFFER};ma.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var ah=window.URL||window.webkitURL,hj=/(#[\w-]+)?$/,tb=function(){function d(a,b){var e=this;void 0===a&&(a="");void 0===b&&
(b=10);this.baseUrl=a;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(f,g){return e._loadResource(f,g)};this._queue=Xh(this._boundLoadResource,b);this._queue.pause();this.resources={};this.onProgress=new (sb());this.onError=new (sb());this.onLoad=new (sb());this.onStart=new (sb());this.onComplete=new (sb());for(a=0;a<d._defaultBeforeMiddleware.length;++a)this.pre(d._defaultBeforeMiddleware[a]);
for(a=0;a<d._defaultAfterMiddleware.length;++a)this.use(d._defaultAfterMiddleware[a])}var c=d.prototype;c.add=function(a,b,e,f){if(Array.isArray(a)){for(b=0;b<a.length;++b)this.add(a[b]);return this}"object"===typeof a&&(f=b||a.callback||a.onComplete,e=a,b=a.url,a=a.name||a.key||a.url);"string"!==typeof b&&(f=e,e=b,b=a);if("string"!==typeof b)throw Error("No url passed to add resource to loader.");"function"===typeof e&&(f=e,e=null);if(this.loading&&(!e||!e.parentResource))throw Error("Cannot add resources while the loader is running.");
if(this.resources[a])throw Error('Resource named "'+a+'" already exists.');b=this._prepareUrl(b);this.resources[a]=new ma(a,b,e);if("function"===typeof f)this.resources[a].onAfterMiddleware.once(f);if(this.loading){e=e.parentResource;b=[];for(f=0;f<e.children.length;++f)e.children[f].isComplete||b.push(e.children[f]);f=e.progressChunk*(b.length+1)/(b.length+2);e.children.push(this.resources[a]);e.progressChunk=f;for(e=0;e<b.length;++e)b[e].progressChunk=f;this.resources[a].progressChunk=f}this._queue.push(this.resources[a]);
return this};c.pre=function(a){this._beforeMiddleware.push(a);return this};c.use=function(a){this._afterMiddleware.push(a);return this};c.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources={};return this};c.load=function(a){if("function"===typeof a)this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),
this._onComplete();else{a=100/this._queue._tasks.length;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c._prepareUrl=function(a){var b=$g()(a,{strictMode:!0});a=b.protocol||!b.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&(b=hj.exec(a)[0],a=a.substr(0,a.length-b.length),a=-1!==
a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=b);return a};c._loadResource=function(a,b){var e=this;a._dequeue=b;uf(this._beforeMiddleware,function(f,g){f.call(e,a,function(){g(a.isComplete?{}:null)})},function(){a.isComplete?e._onLoad(a):(a._onLoadBinding=a.onComplete.once(e._onLoad,e),a.load())},!0)};c._onStart=function(){this.progress=0;this.loading=!0;this.onStart.dispatch(this)};c._onComplete=function(){this.progress=100;this.loading=!1;this.onComplete.dispatch(this,
this.resources)};c._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();uf(this._afterMiddleware,function(e,f){e.call(b,a,f)},function(){a.onAfterMiddleware.dispatch(a);b.progress=Math.min(100,b.progress+a.progressChunk);b.onProgress.dispatch(b,a);a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a);b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1);b._queue.idle()&&0===b._resourcesParsing.length&&b._onComplete()},!0)};wf(d,[{key:"concurrency",
get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return d}();tb._defaultBeforeMiddleware=[];tb._defaultAfterMiddleware=[];tb.pre=function(d){tb._defaultBeforeMiddleware.push(d);return tb};tb.use=function(d){tb._defaultAfterMiddleware.push(d);return tb};var vd=function(d,c){vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return vd(d,c)},wg=function(){function d(){}
d.add=function(){ma.setExtensionLoadType("svg",ma.LOAD_TYPE.XHR);ma.setExtensionXhrType("svg",ma.XHR_RESPONSE_TYPE.TEXT)};d.use=function(c,a){!c.data||c.type!==ma.TYPE.IMAGE&&"svg"!==c.extension?a():ra.fromLoader(c.data,c.url,c.name,c.metadata).then(function(b){c.texture=b;a()}).catch(a)};return d}(),ib=function(d){function c(a,b){a=d.call(this,a,b)||this;for(b=0;b<c._plugins.length;++b){var e=c._plugins[b],f=e.pre;e=e.use;f&&a.pre(f);e&&a.use(e)}a._protected=!1;return a}$h(c,d);c.prototype.destroy=
function(){this._protected||this.reset()};Object.defineProperty(c,"shared",{get:function(){var a=c._shared;a||(a=new c,a._protected=!0,c._shared=a);return a},enumerable:!1,configurable:!0});c.registerPlugin=function(a){c._plugins.push(a);a.add&&a.add();return c};c._plugins=[];return c}(tb);ib.registerPlugin({use:function(d,c){if(d.data&&d.xhr&&d.xhrType===ma.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof d.data){var a=d.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image")){d.data=
new Image;d.data.src="data:"+a+";base64,"+Zh(d.xhr.responseText);d.type=ma.TYPE.IMAGE;d.data.onload=function(){d.data.onload=null;c()};return}}else if(0===d.data.type.indexOf("image")){var b=ah.createObjectURL(d.data);d.blob=d.data;d.data=new Image;d.data.src=b;d.type=ma.TYPE.IMAGE;d.data.onload=function(){ah.revokeObjectURL(b);d.data.onload=null;c()};return}c()}});ib.registerPlugin(wg);var Lf=function(){function d(){}d.init=function(c){c=Object.assign({sharedLoader:!1},c);this.loader=c.sharedLoader?
ib.shared:new ib};d.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};return d}(),Xa=ma,Aa,ta;(function(d){d[d.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";d[d.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";
d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";d[d.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";d[d.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT";d[d.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";d[d.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";d[d.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";d[d.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";d[d.COMPRESSED_RGB8_ETC2=
37492]="COMPRESSED_RGB8_ETC2";d[d.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";d[d.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";d[d.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";d[d.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";d[d.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";d[d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG";d[d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=
35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";d[d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG";d[d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";d[d.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL";d[d.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL";d[d.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";d[d.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(ta||
(ta={}));var qc=(Aa={},Aa[ta.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Aa[ta.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Aa[ta.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Aa[ta.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Aa[ta.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Aa[ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Aa[ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Aa[ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Aa[ta.COMPRESSED_R11_EAC]=.5,Aa[ta.COMPRESSED_SIGNED_R11_EAC]=.5,Aa[ta.COMPRESSED_RG11_EAC]=1,Aa[ta.COMPRESSED_SIGNED_RG11_EAC]=1,Aa[ta.COMPRESSED_RGB8_ETC2]=
.5,Aa[ta.COMPRESSED_RGBA8_ETC2_EAC]=1,Aa[ta.COMPRESSED_SRGB8_ETC2]=.5,Aa[ta.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Aa[ta.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Aa[ta.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Aa[ta.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Aa[ta.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Aa[ta.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Aa[ta.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Aa[ta.COMPRESSED_RGB_ETC1_WEBGL]=.5,Aa[ta.COMPRESSED_RGB_ATC_WEBGL]=.5,Aa[ta.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=
1,Aa[ta.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Aa),wd=function(d,c){wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return wd(d,c)},Rf=function(d){function c(a,b){void 0===b&&(b={width:1,height:1,autoLoad:!0});if("string"===typeof a){var e=a;var f=new Uint8Array}else e=null,f=a;a=d.call(this,f,b)||this;a.origin=e;a.buffer=f?new Xc(f):null;a.origin&&!1!==b.autoLoad&&a.load();f&&f.length&&
(a.loaded=!0,a.onBlobLoaded(a.buffer.rawBinaryData));return a}yf(c,d);c.prototype.onBlobLoaded=function(a){};c.prototype.load=function(){return ai(this,void 0,Promise,function(){var a,b,e;return bi(this,function(f){switch(f.label){case 0:return[4,fetch(this.origin)];case 1:return a=f.sent(),[4,a.blob()];case 2:return b=f.sent(),[4,b.arrayBuffer()];case 3:return e=f.sent(),this.data=new Uint32Array(e),this.buffer=new Xc(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}})})};return c}(Zb),
Qc=function(d){function c(a,b){var e=d.call(this,a,b)||this;e.format=b.format;e.levels=b.levels||1;e._width=b.width;e._height=b.height;e._extension=c._formatToExtension(e.format);if(b.levelBuffers||e.buffer)e._levelBuffers=b.levelBuffers||c._createLevelBuffers(a instanceof Uint8Array?a:e.buffer.uint8View,e.format,e.levels,4,4,e.width,e.height);return e}yf(c,d);c.prototype.upload=function(a,b,e){b=a.gl;if(!a.context.extensions[this._extension])throw Error(this._extension+" textures are not supported on the current machine");
if(!this._levelBuffers)return!1;a=0;for(e=this.levels;a<e;a++){var f=this._levelBuffers[a];b.compressedTexImage2D(b.TEXTURE_2D,f.levelID,this.format,f.levelWidth,f.levelHeight,0,f.levelBuffer)}return!0};c.prototype.onBlobLoaded=function(){this._levelBuffers=c._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)};c._formatToExtension=function(a){if(33776<=a&&33779>=a)return"s3tc";if(37488<=a&&37497>=a)return"etc";if(35840<=a&&35843>=a)return"pvrtc";if(36196<=
a)return"etc1";if(35986<=a&&34798>=a)return"atc";throw Error("Invalid (compressed) texture format given!");};c._createLevelBuffers=function(a,b,e,f,g,h,k){for(var l=Array(e),m=a.byteOffset,n=h+f-1&~(f-1),p=k+g-1&~(g-1),v=n*p*qc[b],E=0;E<e;E++)l[E]={levelID:E,levelWidth:1<e?h:n,levelHeight:1<e?k:p,levelBuffer:new Uint8Array(a.buffer,m,v)},m+=v,h=h>>1||1,k=k>>1||1,n=h+f-1&~(f-1),p=k+g-1&~(g-1),v=n*p*qc[b];return l};return c}(Rf),Pe=/iPhone/i,bh=/iPod/i,ch=/iPad/i,dh=/\biOS-universal(?:.+)Mac\b/i,Qe=
/\bAndroid(?:.+)Mobile\b/i,eh=/Android/i,fc=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,hd=/Silk/i,ub=/Windows Phone/i,fh=/\bWindows(?:.+)ARM\b/i,gh=/BlackBerry/i,hh=/BB10/i,ih=/Opera Mini/i,jh=/\b(CriOS|Chrome)(?:.+)Mobile/i,kh=/Mobile(?:.+)Firefox\b/i,lh=function(d){return"undefined"!==typeof d&&"MacIntel"===d.platform&&"number"===typeof d.maxTouchPoints&&1<d.maxTouchPoints&&"undefined"===typeof MSStream},id=function(d){var c={userAgent:"",platform:"",maxTouchPoints:0};d||"undefined"===typeof navigator?
"string"===typeof d?c.userAgent=d:d&&d.userAgent&&(c={userAgent:d.userAgent,platform:d.platform,maxTouchPoints:d.maxTouchPoints||0}):c={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};d=c.userAgent;var a=d.split("[FBAN");"undefined"!==typeof a[1]&&(d=a[0]);a=d.split("Twitter");"undefined"!==typeof a[1]&&(d=a[0]);d=ci(d);c={apple:{phone:d(Pe)&&!d(ub),ipod:d(bh),tablet:!d(Pe)&&(d(ch)||lh(c))&&!d(ub),universal:d(dh),device:(d(Pe)||d(bh)||d(ch)||d(dh)||
lh(c))&&!d(ub)},amazon:{phone:d(fc),tablet:!d(fc)&&d(hd),device:d(fc)||d(hd)},android:{phone:!d(ub)&&d(fc)||!d(ub)&&d(Qe),tablet:!d(ub)&&!d(fc)&&!d(Qe)&&(d(hd)||d(eh)),device:!d(ub)&&(d(fc)||d(hd)||d(Qe)||d(eh))||d(/\bokhttp\b/i)},windows:{phone:d(ub),tablet:d(fh),device:d(ub)||d(fh)},other:{blackberry:d(gh),blackberry10:d(hh),opera:d(ih),firefox:d(kh),chrome:d(jh),device:d(gh)||d(hh)||d(ih)||d(kh)||d(jh)},any:!1,phone:!1,tablet:!1};c.any=c.apple.device||c.android.device||c.windows.device||c.other.device;
c.phone=c.apple.phone||c.android.phone||c.windows.phone;c.tablet=c.apple.tablet||c.android.tablet||c.windows.tablet;return c}(self.navigator);(function(d){var c=!0;if(id.tablet||id.phone){if(id.apple.device){var a=navigator.userAgent.match(/OS (\d+)_(\d+)?/);a&&(a=parseInt(a[1],10),11>a&&(c=!1))}id.android.device&&(a=navigator.userAgent.match(/Android\s([0-9.]*)/))&&(a=parseInt(a[1],10),7>a&&(c=!1))}return c?d:4})(32);var Re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:
"undefined"!==typeof A.g?A.g:"undefined"!==typeof self?self:{};xd(function(d){function c(){}function a(k,l,m){this.fn=k;this.context=l;this.once=m||!1}function b(k,l,m,n,p){if("function"!==typeof m)throw new TypeError("The listener must be a function");m=new a(m,n||k,p);l=h?h+l:l;k._events[l]?k._events[l].fn?k._events[l]=[k._events[l],m]:k._events[l].push(m):(k._events[l]=m,k._eventsCount++);return k}function e(k,l){0===--k._eventsCount?k._events=new c:delete k._events[l]}function f(){this._events=
new c;this._eventsCount=0}var g=Object.prototype.hasOwnProperty,h="~";Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(h=!1));f.prototype.eventNames=function(){var k=[],l,m;if(0===this._eventsCount)return k;for(m in l=this._events)g.call(l,m)&&k.push(h?m.slice(1):m);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(l)):k};f.prototype.listeners=function(k){k=this._events[h?h+k:k];if(!k)return[];if(k.fn)return[k.fn];for(var l=0,m=k.length,n=Array(m);l<m;l++)n[l]=
k[l].fn;return n};f.prototype.listenerCount=function(k){return(k=this._events[h?h+k:k])?k.fn?1:k.length:0};f.prototype.emit=function(k,l,m,n,p,v){var E=arguments,J=h?h+k:k;if(!this._events[J])return!1;J=this._events[J];var T=arguments.length,ka;if(J.fn){J.once&&this.removeListener(k,J.fn,void 0,!0);switch(T){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,l),!0;case 3:return J.fn.call(J.context,l,m),!0;case 4:return J.fn.call(J.context,l,m,n),!0;case 5:return J.fn.call(J.context,
l,m,n,p),!0;case 6:return J.fn.call(J.context,l,m,n,p,v),!0}var aa=1;for(ka=Array(T-1);aa<T;aa++)ka[aa-1]=E[aa];J.fn.apply(J.context,ka)}else{var ja=J.length;for(aa=0;aa<ja;aa++)switch(J[aa].once&&this.removeListener(k,J[aa].fn,void 0,!0),T){case 1:J[aa].fn.call(J[aa].context);break;case 2:J[aa].fn.call(J[aa].context,l);break;case 3:J[aa].fn.call(J[aa].context,l,m);break;case 4:J[aa].fn.call(J[aa].context,l,m,n);break;default:if(!ka){var oa=1;for(ka=Array(T-1);oa<T;oa++)ka[oa-1]=E[oa]}J[aa].fn.apply(J[aa].context,
ka)}}return!0};f.prototype.on=function(k,l,m){return b(this,k,l,m,!1)};f.prototype.once=function(k,l,m){return b(this,k,l,m,!0)};f.prototype.removeListener=function(k,l,m,n){k=h?h+k:k;if(!this._events[k])return this;if(!l)return e(this,k),this;var p=this._events[k];if(p.fn)p.fn!==l||n&&!p.once||m&&p.context!==m||e(this,k);else{for(var v=0,E=[],J=p.length;v<J;v++)(p[v].fn!==l||n&&!p[v].once||m&&p[v].context!==m)&&E.push(p[v]);E.length?this._events[k]=1===E.length?E[0]:E:e(this,k)}return this};f.prototype.removeAllListeners=
function(k){k?(k=h?h+k:k,this._events[k]&&e(this,k)):(this._events=new c,this._eventsCount=0);return this};f.prototype.off=f.prototype.removeListener;f.prototype.addListener=f.prototype.on;f.prefixed=h;f.EventEmitter=f;d.exports=f});var ij=xd(function(d,c){(function(a){function b(O){throw RangeError(ka[O]);}function e(O,ha){for(var Q=O.length,da=[];Q--;)da[Q]=ha(O[Q]);return da}function f(O,ha){var Q=O.split("@"),da="";1<Q.length&&(da=Q[0]+"@",O=Q[1]);O=O.replace(T,".");O=O.split(".");ha=e(O,ha).join(".");
return da+ha}function g(O){for(var ha=[],Q=0,da=O.length,Ba,Ja;Q<da;)Ba=O.charCodeAt(Q++),55296<=Ba&&56319>=Ba&&Q<da?(Ja=O.charCodeAt(Q++),56320==(Ja&64512)?ha.push(((Ba&1023)<<10)+(Ja&1023)+65536):(ha.push(Ba),Q--)):ha.push(Ba);return ha}function h(O){return e(O,function(ha){var Q="";65535<ha&&(ha-=65536,Q+=ja(ha>>>10&1023|55296),ha=56320|ha&1023);return Q+=ja(ha)}).join("")}function k(O,ha,Q){var da=0;O=Q?aa(O/700):O>>1;for(O+=aa(O/ha);455<O;da+=36)O=aa(O/35);return aa(da+36*O/(O+38))}function l(O){var ha=
[],Q=O.length,da=0,Ba=128,Ja=72,Ea,wa;var Ma=O.lastIndexOf("-");0>Ma&&(Ma=0);for(Ea=0;Ea<Ma;++Ea)128<=O.charCodeAt(Ea)&&b("not-basic"),ha.push(O.charCodeAt(Ea));for(Ma=0<Ma?Ma+1:0;Ma<Q;){Ea=da;var ya=1;for(wa=36;;wa+=36){Ma>=Q&&b("invalid-input");var Da=O.charCodeAt(Ma++);Da=10>Da-48?Da-22:26>Da-65?Da-65:26>Da-97?Da-97:36;(36<=Da||Da>aa((2147483647-da)/ya))&&b("overflow");da+=Da*ya;var gc=wa<=Ja?1:wa>=Ja+26?26:wa-Ja;if(Da<gc)break;Da=36-gc;ya>aa(2147483647/Da)&&b("overflow");ya*=Da}ya=ha.length+1;
Ja=k(da-Ea,ya,0==Ea);aa(da/ya)>2147483647-Ba&&b("overflow");Ba+=aa(da/ya);da%=ya;ha.splice(da++,0,Ba)}return h(ha)}function m(O){var ha,Q,da,Ba=[];O=g(O);var Ja=O.length;var Ea=128;var wa=0;var Ma=72;for(da=0;da<Ja;++da){var ya=O[da];128>ya&&Ba.push(ja(ya))}for((ha=Q=Ba.length)&&Ba.push("-");ha<Ja;){var Da=2147483647;for(da=0;da<Ja;++da)ya=O[da],ya>=Ea&&ya<Da&&(Da=ya);var gc=ha+1;Da-Ea>aa((2147483647-wa)/gc)&&b("overflow");wa+=(Da-Ea)*gc;Ea=Da;for(da=0;da<Ja;++da)if(ya=O[da],ya<Ea&&2147483647<++wa&&
b("overflow"),ya==Ea){var Cb=wa;for(Da=36;;Da+=36){ya=Da<=Ma?1:Da>=Ma+26?26:Da-Ma;if(Cb<ya)break;var mh=Cb-ya;Cb=36-ya;var nh=Ba;ya+=mh%Cb;nh.push.call(nh,ja(ya+22+75*(26>ya)-0));Cb=aa(mh/Cb)}Ba.push(ja(Cb+22+75*(26>Cb)-0));Ma=k(wa,gc,ha==Q);wa=0;++ha}++wa;++Ea}return Ba.join("")}var n=c&&!c.nodeType&&c,p=d&&!d.nodeType&&d,v="object"==typeof Re&&Re;if(v.global===v||v.window===v||v.self===v)a=v;var E=/^xn--/,J=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,ka={overflow:"Overflow: input needs wider integers to process",
"not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},aa=Math.floor,ja=String.fromCharCode,oa;v={version:"1.3.2",ucs2:{decode:g,encode:h},decode:l,encode:m,toASCII:function(O){return f(O,function(ha){return J.test(ha)?"xn--"+m(ha):ha})},toUnicode:function(O){return f(O,function(ha){return E.test(ha)?l(ha.slice(4).toLowerCase()):ha})}};if(n&&p)if(d.exports==n)p.exports=v;else for(oa in v)v.hasOwnProperty(oa)&&(n[oa]=v[oa]);else a.punycode=v})(Re)}),fb={isString:function(d){return"string"===
typeof d},isObject:function(d){return"object"===typeof d&&null!==d},isNull:function(d){return null===d},isNullOrUndefined:function(d){return null==d}},jj=function(d,c,a,b){a=a||"=";var e={};if("string"!==typeof d||0===d.length)return e;var f=/\+/g;d=d.split(c||"&");c=1E3;b&&"number"===typeof b.maxKeys&&(c=b.maxKeys);b=d.length;0<c&&b>c&&(b=c);for(c=0;c<b;++c){var g=d[c].replace(f,"%20"),h=g.indexOf(a);if(0<=h){var k=g.substr(0,h);g=g.substr(h+1)}else k=g,g="";k=decodeURIComponent(k);g=decodeURIComponent(g);
Object.prototype.hasOwnProperty.call(e,k)?Array.isArray(e[k])?e[k].push(g):e[k]=[e[k],g]:e[k]=g}return e},yc=function(d){switch(typeof d){case "string":return d;case "boolean":return d?"true":"false";case "number":return isFinite(d)?d:"";default:return""}},kj=function(d,c,a,b){c=c||"&";a=a||"=";null===d&&(d=void 0);return"object"===typeof d?Object.keys(d).map(function(e){var f=encodeURIComponent(yc(e))+a;return Array.isArray(d[e])?d[e].map(function(g){return f+encodeURIComponent(yc(g))}).join(c):
f+encodeURIComponent(yc(d[e]))}).join(c):b?encodeURIComponent(yc(b))+a+encodeURIComponent(yc(d)):""},Se=xd(function(d,c){c.decode=c.parse=jj;c.encode=c.stringify=kj}),lj=/^([a-z0-9.+-]+:)/i,mj=/:[0-9]*$/,nj=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,oj="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),Te=["'"].concat(oj),oh=["%","/","?",";","#"].concat(Te),ph=["/","?","#"],qh=/^[+a-z0-9A-Z_-]{0,63}$/,pj=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qj={javascript:!0,"javascript:":!0},Ue={javascript:!0,"javascript:":!0},
hc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};$a.prototype.parse=function(d,c,a){if(!fb.isString(d))throw new TypeError("Parameter 'url' must be a string, not "+typeof d);var b=d.indexOf("?");b=-1!==b&&b<d.indexOf("#")?"?":"#";d=d.split(b);d[0]=d[0].replace(/\\/g,"/");d=d.join(b);b=d.trim();if(!a&&1===d.split("#").length&&(d=nj.exec(b)))return this.href=this.path=b,this.pathname=d[1],d[2]?(this.search=d[2],this.query=c?Se.parse(this.search.substr(1)):
this.search.substr(1)):c&&(this.search="",this.query={}),this;if(d=lj.exec(b)){d=d[0];var e=d.toLowerCase();this.protocol=e;b=b.substr(d.length)}if(a||d||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===b.substr(0,2);!f||d&&Ue[d]||(b=b.substr(2),this.slashes=!0)}if(!Ue[d]&&(f||d&&!hc[d])){f=-1;for(a=0;a<ph.length;a++)d=b.indexOf(ph[a]),-1!==d&&(-1===f||d<f)&&(f=d);f=-1===f?b.lastIndexOf("@"):b.lastIndexOf("@",f);-1!==f&&(a=b.slice(0,f),b=b.slice(f+1),this.auth=decodeURIComponent(a));f=-1;for(a=0;a<oh.length;a++)d=
b.indexOf(oh[a]),-1!==d&&(-1===f||d<f)&&(f=d);-1===f&&(f=b.length);this.host=b.slice(0,f);b=b.slice(f);this.parseHost();this.hostname=this.hostname||"";f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f){var g=this.hostname.split(/\./);a=0;for(d=g.length;a<d;a++){var h=g[a];if(h&&!h.match(qh)){for(var k="",l=0,m=h.length;l<m;l++)k=127<h.charCodeAt(l)?k+"x":k+h[l];if(!k.match(qh)){d=g.slice(0,a);a=g.slice(a+1);if(h=h.match(pj))d.push(h[1]),a.unshift(h[2]);a.length&&(b="/"+
a.join(".")+b);this.hostname=d.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();f||(this.hostname=ij.toASCII(this.hostname));a=this.port?":"+this.port:"";this.host=(this.hostname||"")+a;this.href+=this.host;f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!qj[e])for(a=0,d=Te.length;a<d;a++)f=Te[a],-1!==b.indexOf(f)&&(h=encodeURIComponent(f),h===f&&(h=escape(f)),b=b.split(f).join(h));a=b.indexOf("#");-1!==a&&(this.hash=
b.substr(a),b=b.slice(0,a));a=b.indexOf("?");-1!==a?(this.search=b.substr(a),this.query=b.substr(a+1),c&&(this.query=Se.parse(this.query)),b=b.slice(0,a)):c&&(this.search="",this.query={});b&&(this.pathname=b);hc[e]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)a=this.pathname||"",this.path=a+(this.search||"");this.href=this.format();return this};$a.prototype.format=function(){var d=this.auth||"";d&&(d=encodeURIComponent(d),d=d.replace(/%3A/i,":"),d+="@");var c=
this.protocol||"",a=this.pathname||"",b=this.hash||"",e=!1,f="";this.host?e=d+this.host:this.hostname&&(e=d+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port));this.query&&fb.isObject(this.query)&&Object.keys(this.query).length&&(f=Se.stringify(this.query));d=this.search||f&&"?"+f||"";c&&":"!==c.substr(-1)&&(c+=":");this.slashes||(!c||hc[c])&&!1!==e?(e="//"+(e||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):e||(e="");b&&"#"!==b.charAt(0)&&(b="#"+b);d&&"?"!==
d.charAt(0)&&(d="?"+d);a=a.replace(/[?#]/g,function(g){return encodeURIComponent(g)});d=d.replace("#","%23");return c+e+a+d+b};$a.prototype.resolve=function(d){return this.resolveObject(Jc(d,!1,!0)).format()};$a.prototype.resolveObject=function(d){if(fb.isString(d)){var c=new $a;c.parse(d,!1,!0);d=c}c=new $a;for(var a=Object.keys(this),b=0;b<a.length;b++){var e=a[b];c[e]=this[e]}c.hash=d.hash;if(""===d.href)return c.href=c.format(),c;if(d.slashes&&!d.protocol){a=Object.keys(d);for(b=0;b<a.length;b++)e=
a[b],"protocol"!==e&&(c[e]=d[e]);hc[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/");c.href=c.format();return c}if(d.protocol&&d.protocol!==c.protocol){if(!hc[d.protocol]){a=Object.keys(d);for(b=0;b<a.length;b++)e=a[b],c[e]=d[e];c.href=c.format();return c}c.protocol=d.protocol;if(d.host||Ue[d.protocol])c.pathname=d.pathname;else{for(var f=(d.pathname||"").split("/");f.length&&!(d.host=f.shift()););d.host||(d.host="");d.hostname||(d.hostname="");""!==f[0]&&f.unshift("");2>f.length&&f.unshift("");
c.pathname=f.join("/")}c.search=d.search;c.query=d.query;c.host=d.host||"";c.auth=d.auth;c.hostname=d.hostname||d.host;c.port=d.port;if(c.pathname||c.search)c.path=(c.pathname||"")+(c.search||"");c.slashes=c.slashes||d.slashes;c.href=c.format();return c}a=c.pathname&&"/"===c.pathname.charAt(0);var g=d.host||d.pathname&&"/"===d.pathname.charAt(0),h=a=g||a||c.host&&d.pathname;b=c.pathname&&c.pathname.split("/")||[];f=d.pathname&&d.pathname.split("/")||[];if(e=c.protocol&&!hc[c.protocol])c.hostname=
"",c.port=null,c.host&&(""===b[0]?b[0]=c.host:b.unshift(c.host)),c.host="",d.protocol&&(d.hostname=null,d.port=null,d.host&&(""===f[0]?f[0]=d.host:f.unshift(d.host)),d.host=null),a=a&&(""===f[0]||""===b[0]);if(g)c.host=d.host||""===d.host?d.host:c.host,c.hostname=d.hostname||""===d.hostname?d.hostname:c.hostname,c.search=d.search,c.query=d.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),c.search=d.search,c.query=d.query;else if(!fb.isNullOrUndefined(d.search))return e&&(c.hostname=c.host=
b.shift(),e=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=e.shift(),c.host=c.hostname=e.shift()),c.search=d.search,c.query=d.query,fb.isNull(c.pathname)&&fb.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!b.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;g=b.slice(-1)[0];f=(c.host||d.host||1<b.length)&&("."===g||".."===g)||""===g;for(var k=0,l=b.length;0<=l;l--)g=b[l],"."===g?b.splice(l,1):".."===
g?(b.splice(l,1),k++):k&&(b.splice(l,1),k--);if(!a&&!h)for(;k--;k)b.unshift("..");!a||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift("");f&&"/"!==b.join("/").substr(-1)&&b.push("");h=""===b[0]||b[0]&&"/"===b[0].charAt(0);e&&(c.hostname=c.host=h?"":b.length?b.shift():"",e=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=e.shift(),c.host=c.hostname=e.shift());(a=a||c.host&&b.length)&&!h&&b.unshift("");b.length?c.pathname=b.join("/"):(c.pathname=null,c.path=null);fb.isNull(c.pathname)&&
fb.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:""));c.auth=d.auth||c.auth;c.slashes=c.slashes||d.slashes;c.href=c.format();return c};$a.prototype.parseHost=function(){var d=this.host,c=mj.exec(d);c&&(c=c[0],":"!==c&&(this.port=c.substr(1)),d=d.substr(0,d.length-c.length));d&&(this.hostname=d)};var rj={parse:Jc,format:function(d){fb.isString(d)&&(d=Jc(d));return d instanceof $a?d.format():$a.prototype.format.call(d)},resolve:function(d,c){return Jc(d,!1,!0).resolve(c)}};
(function(){for(var d=[],c=[],a=0;32>a;a++)d[a]=a,c[a]=a;d[la.NORMAL_NPM]=la.NORMAL;d[la.ADD_NPM]=la.ADD;d[la.SCREEN_NPM]=la.SCREEN;c[la.NORMAL]=la.NORMAL_NPM;c[la.ADD]=la.ADD_NPM;c[la.SCREEN]=la.SCREEN_NPM;a=[];a.push(c);a.push(d);return a})();(function(){function d(c,a,b){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=b||1;this.resize(c,a)}d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,
this.canvas.height)};d.prototype.resize=function(c,a){this.canvas.width=c*this.resolution;this.canvas.height=a*this.resolution};d.prototype.destroy=function(){this.canvas=this.context=null};Object.defineProperty(d.prototype,"width",{get:function(){return this.canvas.width},set:function(c){this.canvas.width=c},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return this.canvas.height},set:function(c){this.canvas.height=c},enumerable:!1,configurable:!0});return d})();
var Tf=function(){function d(){}d.use=function(c,a){var b=c.data;if(c.type===Xa.TYPE.JSON&&b&&b.cacheID&&b.textures){for(var e=b.textures,f=void 0,g=void 0,h=0,k=e.length;h<k;h++){var l=e[h],m=l.src;(l=l.format)||(g=m);if(d.textureFormats[l]){f=m;break}}(f=f||g)?f===c.url?a(Error("URL of compressed texture cannot be the same as the manifest's URL")):(e={crossOrigin:c.crossOrigin,metadata:c.metadata.imageMetadata,parentResource:c},f=rj.resolve(c.url.replace(this.baseUrl,""),f),this.add(b.cacheID,f,
e,function(n){if(n.error)a(n.error);else{var p=n.texture;n=n.textures;Object.assign(c,{texture:void 0===p?null:p,textures:void 0===n?{}:n});a()}})):a(Error("Cannot load compressed-textures in "+c.url+", make sure you provide a fallback"))}else a()};d.add=function(){var c=document.createElement("canvas").getContext("webgl");if(c){c={s3tc:c.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:c.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:c.getExtension("WEBGL_compressed_texture_etc"),
etc1:c.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:c.getExtension("WEBGL_compressed_texture_atc"),astc:c.getExtension("WEBGL_compressed_texture_astc")};d.textureExtensions=c;d.textureFormats={};for(var a in c){var b=c[a];b&&Object.assign(d.textureFormats,Object.getPrototypeOf(b))}}else console.error("WebGL not available for compressed textures. Silently failing.")};return d}(),zc,
cb;Xa.setExtensionXhrType("dds",Xa.XHR_RESPONSE_TYPE.BUFFER);var db;(function(d){d[d.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN";d[d.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS";d[d.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT";d[d.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT";d[d.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT";d[d.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS";d[d.DXGI_FORMAT_R32G32B32_FLOAT=
6]="DXGI_FORMAT_R32G32B32_FLOAT";d[d.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT";d[d.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT";d[d.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS";d[d.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT";d[d.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM";d[d.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT";d[d.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM";
d[d.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT";d[d.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS";d[d.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT";d[d.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT";d[d.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT";d[d.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS";d[d.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT";d[d.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]=
"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS";d[d.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT";d[d.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS";d[d.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM";d[d.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT";d[d.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT";d[d.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS";d[d.DXGI_FORMAT_R8G8B8A8_UNORM=
28]="DXGI_FORMAT_R8G8B8A8_UNORM";d[d.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB";d[d.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT";d[d.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM";d[d.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT";d[d.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS";d[d.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT";d[d.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM";d[d.DXGI_FORMAT_R16G16_UINT=
36]="DXGI_FORMAT_R16G16_UINT";d[d.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM";d[d.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT";d[d.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS";d[d.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT";d[d.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT";d[d.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT";d[d.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT";d[d.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS";d[d.DXGI_FORMAT_D24_UNORM_S8_UINT=
45]="DXGI_FORMAT_D24_UNORM_S8_UINT";d[d.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS";d[d.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT";d[d.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS";d[d.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM";d[d.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT";d[d.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM";d[d.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT";d[d.DXGI_FORMAT_R16_TYPELESS=
53]="DXGI_FORMAT_R16_TYPELESS";d[d.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT";d[d.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM";d[d.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM";d[d.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT";d[d.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM";d[d.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT";d[d.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS";d[d.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM";d[d.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT";
d[d.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM";d[d.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT";d[d.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM";d[d.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM";d[d.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP";d[d.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM";d[d.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM";d[d.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS";d[d.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM";
d[d.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB";d[d.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS";d[d.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM";d[d.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB";d[d.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS";d[d.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM";d[d.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB";d[d.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS";d[d.DXGI_FORMAT_BC4_UNORM=
80]="DXGI_FORMAT_BC4_UNORM";d[d.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM";d[d.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS";d[d.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM";d[d.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM";d[d.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM";d[d.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM";d[d.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM";d[d.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM";
d[d.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM";d[d.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS";d[d.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB";d[d.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS";d[d.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB";d[d.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS";d[d.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16";d[d.DXGI_FORMAT_BC6H_SF16=
96]="DXGI_FORMAT_BC6H_SF16";d[d.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS";d[d.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM";d[d.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB";d[d.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV";d[d.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410";d[d.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416";d[d.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12";d[d.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010";d[d.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016";d[d.DXGI_FORMAT_420_OPAQUE=
106]="DXGI_FORMAT_420_OPAQUE";d[d.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2";d[d.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210";d[d.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216";d[d.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11";d[d.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44";d[d.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44";d[d.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8";d[d.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8";d[d.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM";d[d.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208";d[d.DXGI_FORMAT_V208=
117]="DXGI_FORMAT_V208";d[d.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408";d[d.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE";d[d.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE";d[d.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(db||(db={}));var Ve;(function(d){d[d.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D";d[d.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D";d[d.DDS_DIMENSION_TEXTURE3D=
6]="DDS_DIMENSION_TEXTURE3D"})(Ve||(Ve={}));var sj=(zc={},zc[827611204]=ta.COMPRESSED_RGBA_S3TC_DXT1_EXT,zc[861165636]=ta.COMPRESSED_RGBA_S3TC_DXT3_EXT,zc[894720068]=ta.COMPRESSED_RGBA_S3TC_DXT5_EXT,zc),tj=(cb={},cb[db.DXGI_FORMAT_BC1_TYPELESS]=ta.COMPRESSED_RGBA_S3TC_DXT1_EXT,cb[db.DXGI_FORMAT_BC1_UNORM]=ta.COMPRESSED_RGBA_S3TC_DXT1_EXT,cb[db.DXGI_FORMAT_BC2_TYPELESS]=ta.COMPRESSED_RGBA_S3TC_DXT3_EXT,cb[db.DXGI_FORMAT_BC2_UNORM]=ta.COMPRESSED_RGBA_S3TC_DXT3_EXT,cb[db.DXGI_FORMAT_BC3_TYPELESS]=ta.COMPRESSED_RGBA_S3TC_DXT5_EXT,
cb[db.DXGI_FORMAT_BC3_UNORM]=ta.COMPRESSED_RGBA_S3TC_DXT5_EXT,cb[db.DXGI_FORMAT_BC1_UNORM_SRGB]=ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,cb[db.DXGI_FORMAT_BC2_UNORM_SRGB]=ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,cb[db.DXGI_FORMAT_BC3_UNORM_SRGB]=ta.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,cb),Vf=function(){function d(){}d.use=function(c,a){if("dds"===c.extension&&c.data)try{Object.assign(c,zf(c.name||c.url,d.parse(c.data),c.metadata))}catch(b){a(b);return}a()};d.parse=function(c){var a=new Uint32Array(c);
if(542327876!==a[0])throw Error("Invalid DDS file magic word");var b=new Uint32Array(c,0,124/Uint32Array.BYTES_PER_ELEMENT),e=b[3],f=b[4],g=b[7];b=new Uint32Array(c,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT);var h=b[1];if(h&4){b=b[2];if(808540228!==b)return a=sj[b],c=new Uint8Array(c,128),[new Qc(c,{format:a,width:f,height:e,levels:g})];a=new Uint32Array(a.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT);b=a[0];h=a[1];var k=a[2];a=a[3];var l=tj[b];if(void 0===l)throw Error("DDSLoader cannot parse texture data with DXGI format "+
b);if(4===k)throw Error("DDSLoader does not support cubemap textures");if(h===Ve.DDS_DIMENSION_TEXTURE3D)throw Error("DDSLoader does not supported 3D texture data");b=[];if(1===a)b.push(new Uint8Array(c,148));else{var m=qc[l];h=0;var n=f,p=e;for(k=0;k<g;k++)h+=Math.max(1,n+3&-4)*Math.max(1,p+3&-4)*m,n>>>=1,p>>>=1;m=148;for(k=0;k<a;k++)b.push(new Uint8Array(c,m,h)),m+=h}return b.map(function(v){return new Qc(v,{format:l,width:f,height:e,levels:g})})}if(h&64)throw Error("DDSLoader does not support uncompressed texture data.");
if(h&512)throw Error("DDSLoader does not supported YUV uncompressed texture data.");if(h&131072)throw Error("DDSLoader does not support single-channel (lumninance) texture data!");if(h&2)throw Error("DDSLoader does not support single-channel (alpha) texture data!");throw Error("DDSLoader failed to load a texture file due to an unknown reason!");};return d}(),ic,Qb,Ac;Xa.setExtensionXhrType("ktx",Xa.XHR_RESPONSE_TYPE.BUFFER);var rh=[171,75,84,88,32,49,49,187,13,10,26,10],se=(ic={},ic[Ca.UNSIGNED_BYTE]=
1,ic[Ca.UNSIGNED_SHORT]=2,ic[Ca.FLOAT]=4,ic[Ca.HALF_FLOAT]=8,ic),Zf=(Qb={},Qb[bb.RGBA]=4,Qb[bb.RGB]=3,Qb[bb.LUMINANCE]=1,Qb[bb.LUMINANCE_ALPHA]=2,Qb[bb.ALPHA]=1,Qb),vg=(Ac={},Ac[Ca.UNSIGNED_SHORT_4_4_4_4]=2,Ac[Ca.UNSIGNED_SHORT_5_5_5_1]=2,Ac[Ca.UNSIGNED_SHORT_5_6_5]=2,Ac),fg=function(){function d(){}d.use=function(c,a){if("ktx"===c.extension&&c.data)try{var b=c.name||c.url;Object.assign(c,zf(b,d.parse(b,c.data),c.metadata))}catch(e){a(e);return}a()};d.parse=function(c,a){var b=new DataView(a);if(!d.validate(c,
b))return null;c=67305985===b.getUint32(12,!0);var e=b.getUint32(16,c),f=b.getUint32(24,c),g=b.getUint32(28,c),h=b.getUint32(36,c),k=b.getUint32(40,c)||1,l=b.getUint32(44,c)||1,m=b.getUint32(48,c)||1,n=b.getUint32(52,c),p=b.getUint32(56,c),v=b.getUint32(60,c);if(0===k||1!==l)throw Error("Only 2D textures are supported");if(1!==n)throw Error("CubeTextures are not supported by KTXLoader yet!");if(1!==m)throw Error("WebGL does not support array textures");var E=h+3&-4,J=k+3&-4;l=Array(m);n=h*k;0===e&&
(n=E*J);f=0!==e?se[e]?se[e]*Zf[f]:vg[e]:qc[g];if(void 0===f)throw Error("Unable to resolve the pixel format stored in the *.ktx file!");n*=f;var T=h,ka=k;v=64+v;for(var aa=0;aa<p;aa++){for(var ja=b.getUint32(v,c),oa=v+4,O=0;O<m;O++){var ha=l[O];ha||(ha=l[O]=Array(p));ha[aa]={levelID:aa,levelWidth:1<p?T:E,levelHeight:1<p?ka:J,levelBuffer:new Uint8Array(a,oa,n)};oa+=n}v+=ja+4;v=0!==v%4?v+4-v%4:v;T=T>>1||1;ka=ka>>1||1;E=T+4-1&-4;J=ka+4-1&-4;n=E*J*f}if(0!==e)throw Error("TODO: Uncompressed");return l.map(function(Q){return new Qc(null,
{format:g,width:h,height:k,levels:p,levelBuffers:Q})})};d.validate=function(c,a){for(var b=0;b<rh.length;b++)if(a.getUint8(b)!==rh[b])return console.error(c+" is not a valid *.ktx file!"),!1;return!0};return d}(),yd=function(d,c){yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return yd(d,c)},Ai=function(d){function c(a,b,e,f){void 0===a&&(a=1500);void 0===e&&(e=16384);void 0===f&&(f=!1);var g=d.call(this)||
this;16384<e&&(e=16384);g._properties=[!1,!0,!1,!1,!1];g._maxSize=a;g._batchSize=e;g._buffers=null;g._bufferUpdateIDs=[];g._updateID=0;g.interactiveChildren=!1;g.blendMode=la.NORMAL;g.autoResize=f;g.roundPixels=!0;g.baseTexture=null;g.setProperties(b);g._tint=0;g.tintRgb=new Float32Array(4);g.tint=16777215;return g}Af(c,d);c.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:
this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};c.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a;ea(a,this.tintRgb)},enumerable:!1,configurable:!0});c.prototype.render=function(a){var b=
this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.batch.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};c.prototype.onChildrenChange=function(a){for(a=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<a;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=
++this._updateID};c.prototype.dispose=function(){if(this._buffers){for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=null}};c.prototype.destroy=function(a){d.prototype.destroy.call(this,a);this.dispose();this._bufferUpdateIDs=this._buffers=this._properties=null};return c}(ab),sh=function(){function d(c,a,b){this.geometry=new $b;this.indexBuffer=null;this.size=b;this.dynamicProperties=[];this.staticProperties=[];for(b=0;b<c.length;++b){var e=c[b];e={attributeName:e.attributeName,
size:e.size,uploadFunction:e.uploadFunction,type:e.type||Ca.FLOAT,offset:e.offset};a[b]?this.dynamicProperties.push(e):this.staticProperties.push(e)}this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}d.prototype.initBuffers=function(){var c=this.geometry,a=0;this.indexBuffer=new Na(M(this.size),!0,!0);c.addIndex(this.indexBuffer);for(var b=this.dynamicStride=
0;b<this.dynamicProperties.length;++b){var e=this.dynamicProperties[b];e.offset=a;a+=e.size;this.dynamicStride+=e.size}b=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(b);this.dynamicDataUint32=new Uint32Array(b);this.dynamicBuffer=new Na(this.dynamicData,!1,!1);for(b=this.staticStride=a=0;b<this.staticProperties.length;++b)e=this.staticProperties[b],e.offset=a,a+=e.size,this.staticStride+=e.size;b=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=
new Float32Array(b);this.staticDataUint32=new Uint32Array(b);this.staticBuffer=new Na(this.staticData,!0,!1);for(b=0;b<this.dynamicProperties.length;++b)e=this.dynamicProperties[b],c.addAttribute(e.attributeName,this.dynamicBuffer,0,e.type===Ca.UNSIGNED_BYTE,e.type,4*this.dynamicStride,4*e.offset);for(b=0;b<this.staticProperties.length;++b)e=this.staticProperties[b],c.addAttribute(e.attributeName,this.staticBuffer,0,e.type===Ca.UNSIGNED_BYTE,e.type,4*this.staticStride,4*e.offset)};d.prototype.uploadDynamic=
function(c,a,b){for(var e=0;e<this.dynamicProperties.length;e++){var f=this.dynamicProperties[e];f.uploadFunction(c,a,b,f.type===Ca.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,f.offset)}this.dynamicBuffer._updateID++};d.prototype.uploadStatic=function(c,a,b){for(var e=0;e<this.staticProperties.length;e++){var f=this.staticProperties[e];f.uploadFunction(c,a,b,f.type===Ca.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,f.offset)}this.staticBuffer._updateID++};
d.prototype.destroy=function(){this.staticDataUint32=this.staticData=this.staticBuffer=this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=this.dynamicProperties=this.indexBuffer=null;this.geometry.destroy()};return d}(),jg=function(d){function c(a){a=d.call(this,a)||this;a.shader=null;a.properties=null;a.tempMatrix=new La;a.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:a.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:a.uploadPosition,
offset:0},{attributeName:"aRotation",size:1,uploadFunction:a.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:a.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ca.UNSIGNED_BYTE,uploadFunction:a.uploadTint,offset:0}];a.shader=yb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",
"varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{});a.state=zb.for2d();return a}Af(c,d);c.prototype.render=function(a){var b=a.children,e=a._maxSize,f=a._batchSize,g=this.renderer,h=b.length;if(0!==h){h>e&&!a.autoResize&&(h=e);e=a._buffers;e||(e=a._buffers=this.generateBuffers(a));var k=b[0]._texture.baseTexture;this.state.blendMode=D(a.blendMode,k.alphaMode);
g.state.set(this.state);var l=g.gl,m=a.worldTransform.copyTo(this.tempMatrix);m.prepend(g.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=m.toArray(!0);this.shader.uniforms.uColor=q(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,k.alphaMode);this.shader.uniforms.uSampler=k;this.renderer.shader.bind(this.shader);k=!1;for(var n=m=0;m<h;m+=f,n+=1){var p=h-m;p>f&&(p=f);n>=e.length&&e.push(this._generateOneMoreBuffer(a));var v=e[n];v.uploadDynamic(b,m,p);var E=a._bufferUpdateIDs[n]||
0;if(k=k||v._updateID<E)v._updateID=a._updateID,v.uploadStatic(b,m,p);g.geometry.bind(v.geometry);l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}};c.prototype.generateBuffers=function(a){var b=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)b.push(new sh(this.properties,a,f));return b};c.prototype._generateOneMoreBuffer=function(a){return new sh(this.properties,a._properties,a._batchSize)};c.prototype.uploadVertices=function(a,b,e,f,g,h){for(var k,l,m,n,p=0;p<e;++p){n=a[b+
p];k=n._texture;var v=n.scale.x,E=n.scale.y;m=k.trim;var J=k.orig;m?(l=m.x-n.anchor.x*J.width,k=l+m.width,n=m.y-n.anchor.y*J.height,m=n+m.height):(k=J.width*(1-n.anchor.x),l=J.width*-n.anchor.x,m=J.height*(1-n.anchor.y),n=J.height*-n.anchor.y);f[h]=l*v;f[h+1]=n*E;f[h+g]=k*v;f[h+g+1]=n*E;f[h+2*g]=k*v;f[h+2*g+1]=m*E;f[h+3*g]=l*v;f[h+3*g+1]=m*E;h+=4*g}};c.prototype.uploadPosition=function(a,b,e,f,g,h){for(var k=0;k<e;k++){var l=a[b+k].position;f[h]=l.x;f[h+1]=l.y;f[h+g]=l.x;f[h+g+1]=l.y;f[h+2*g]=l.x;
f[h+2*g+1]=l.y;f[h+3*g]=l.x;f[h+3*g+1]=l.y;h+=4*g}};c.prototype.uploadRotation=function(a,b,e,f,g,h){for(var k=0;k<e;k++){var l=a[b+k].rotation;f[h]=l;f[h+g]=l;f[h+2*g]=l;f[h+3*g]=l;h+=4*g}};c.prototype.uploadUvs=function(a,b,e,f,g,h){for(var k=0;k<e;++k){var l=a[b+k]._texture._uvs;l?(f[h]=l.x0,f[h+1]=l.y0,f[h+g]=l.x1,f[h+g+1]=l.y1,f[h+2*g]=l.x2,f[h+2*g+1]=l.y2,f[h+3*g]=l.x3,f[h+3*g+1]=l.y3):(f[h]=0,f[h+1]=0,f[h+g]=0,f[h+g+1]=0,f[h+2*g]=0,f[h+2*g+1]=0,f[h+3*g]=0,f[h+3*g+1]=0);h+=4*g}};c.prototype.uploadTint=
function(a,b,e,f,g,h){for(var k=0;k<e;++k){var l=a[b+k],m=0<l._texture.baseTexture.alphaMode,n=l.alpha;l=1>n&&m?r(l._tintRGB,n):l._tintRGB+(255*n<<24);f[h]=l;f[h+g]=l;f[h+2*g]=l;f[h+3*g]=l;h+=4*g}};c.prototype.destroy=function(){d.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.tempMatrix=null};return c}(tc),nb;(function(d){d.MITER="miter";d.BEVEL="bevel";d.ROUND="round"})(nb||(nb={}));var mb;(function(d){d.BUTT="butt";d.ROUND="round";d.SQUARE="square"})(mb||
(mb={}));var Vb={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1E-4,_segmentsCount:function(d,c){void 0===c&&(c=20);if(!this.adaptive||!d||isNaN(d))return c;d=Math.ceil(d/this.maxLength);d<this.minSegments?d=this.minSegments:d>this.maxSegments&&(d=this.maxSegments);return d}},ce=function(){function d(){this.color=16777215;this.alpha=1;this.texture=ra.WHITE;this.matrix=null;this.visible=!1;this.reset()}d.prototype.clone=function(){var c=new d;c.color=this.color;c.alpha=this.alpha;
c.texture=this.texture;c.matrix=this.matrix;c.visible=this.visible;return c};d.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=ra.WHITE;this.matrix=null;this.visible=!1};d.prototype.destroy=function(){this.matrix=this.texture=null};return d}(),Ad=function(d,c){Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Ad(d,c)},We={build:function(d){d.points=d.shape.points.slice()},
triangulate:function(d,c){var a=d.points,b=d.holes;d=c.points;c=c.indices;if(6<=a.length){for(var e=[],f=0;f<b.length;f++){var g=b[f];e.push(a.length/2);a=a.concat(g.points)}if(b=De()(a,e,2)){e=d.length/2;for(f=0;f<b.length;f+=3)c.push(b[f]+e),c.push(b[f+1]+e),c.push(b[f+2]+e);for(f=0;f<a.length;f++)d.push(a[f])}}}},Xe={build:function(d){var c=d.shape,a=d.points,b=c.x,e=c.y;a.length=0;if(d.type===Ha.CIRC)var f=d=c.radius;else f=d.shape,d=f.width,f=f.height;if(0!==d&&0!==f){c=Math.floor(30*Math.sqrt(c.radius))||
Math.floor(15*Math.sqrt(d+f));c/=2.3;for(var g=2*Math.PI/c,h=0;h<c-.5;h++)a.push(b+Math.sin(-g*h)*d,e+Math.cos(-g*h)*f);a.push(a[0],a[1])}},triangulate:function(d,c){var a=d.points,b=c.points;c=c.indices;var e=b.length/2,f=e,g=d.shape,h=d.matrix,k=g.x;g=g.y;b.push(d.matrix?h.a*k+h.c*g+h.tx:k,d.matrix?h.b*k+h.d*g+h.ty:g);for(d=0;d<a.length;d+=2)b.push(a[d],a[d+1]),c.push(e++,f,e)}},th={build:function(d){var c=d.shape,a=c.x,b=c.y,e=c.width;c=c.height;d=d.points;d.length=0;d.push(a,b,a+e,b,a+e,b+c,a,
b+c)},triangulate:function(d,c){d=d.points;var a=c.points,b=a.length/2;a.push(d[0],d[1],d[2],d[3],d[6],d[7],d[4],d[5]);c.indices.push(b,b+1,b+2,b+1,b+2,b+3)}},uh={build:function(d){var c=d.shape;d=d.points;var a=c.x,b=c.y,e=c.width,f=c.height;c=Math.max(0,Math.min(c.radius,Math.min(e,f)/2));d.length=0;c?(Kc(a,b+c,a,b,a+c,b,d),Kc(a+e-c,b,a+e,b,a+e,b+c,d),Kc(a+e,b+f-c,a+e,b+f,a+e-c,b+f,d),Kc(a+c,b+f,a,b+f,a,b+f-c,d)):d.push(a,b,a+e,b,a+e,b+f,a,b+f)},triangulate:function(d,c){d=d.points;var a=c.points;
c=c.indices;for(var b=a.length/2,e=De()(d,null,2),f=0,g=e.length;f<g;f+=3)c.push(e[f]+b),c.push(e[f+1]+b),c.push(e[f+2]+b);f=0;for(g=d.length;f<g;f++)a.push(d[f],d[++f])}},Ye=function(){function d(){}d.curveTo=function(c,a,b,e,f,g){var h=g[g.length-1]-a,k=g[g.length-2]-c;e-=a;b-=c;var l=Math.abs(h*b-k*e);if(1E-8>l||0===f)return g[g.length-2]===c&&g[g.length-1]===a||g.push(c,a),null;var m=h*h+k*k,n=e*e+b*b,p=h*e+k*b;g=f*Math.sqrt(m)/l;l=f*Math.sqrt(n)/l;m=g*p/m;n=l*p/n;p=g*b+l*k;var v=g*e+l*h;return{cx:p+
c,cy:v+a,radius:f,startAngle:Math.atan2(h*(l+m)-v,k*(l+m)-p),endAngle:Math.atan2(e*(g+n)-v,b*(g+n)-p),anticlockwise:k*e>b*h}};d.arc=function(c,a,b,e,f,g,h,k,l){c=h-g;var m=Vb._segmentsCount(Math.abs(c)*f,40*Math.ceil(Math.abs(c)/uc));c/=2*m;a=2*c;h=Math.cos(c);k=Math.sin(c);--m;for(var n=m%1/m,p=0;p<=m;++p){var v=c+g+a*(p+n*p),E=Math.cos(v);v=-Math.sin(v);l.push((h*E+k*v)*f+b,(h*-v+k*E)*f+e)}};return d}(),vh=function(){function d(){}d.curveLength=function(c,a,b,e,f,g,h,k){for(var l=0,m,n,p,v,E,J,
T,ka=c,aa=a,ja=1;10>=ja;++ja)m=ja/10,n=m*m,p=n*m,v=1-m,E=v*v,J=E*v,T=J*c+3*E*m*b+3*v*n*f+p*h,m=J*a+3*E*m*e+3*v*n*g+p*k,n=ka-T,p=aa-m,ka=T,aa=m,l+=Math.sqrt(n*n+p*p);return l};d.curveTo=function(c,a,b,e,f,g,h){var k=h[h.length-2],l=h[h.length-1];h.length-=2;var m=Vb._segmentsCount(d.curveLength(k,l,c,a,b,e,f,g));h.push(k,l);for(var n=1,p;n<=m;++n){p=n/m;var v=1-p;var E=v*v;var J=E*v;var T=p*p;var ka=T*p;h.push(J*k+3*E*p*c+3*v*T*b+ka*f,J*l+3*E*p*a+3*v*T*e+ka*g)}};return d}(),wh=function(){function d(){}
d.curveLength=function(c,a,b,e,f,g){f=c-2*b+f;g=a-2*e+g;c=2*b-2*c;e=2*e-2*a;a=4*(f*f+g*g);f=4*(f*c+g*e);e=c*c+e*e;g=2*Math.sqrt(a+f+e);c=Math.sqrt(a);b=2*a*c;var h=2*Math.sqrt(e),k=f/c;return(b*g+c*f*(g-h)+(4*e*a-f*f)*Math.log((2*c+k+g)/(k+h)))/(4*b)};d.curveTo=function(c,a,b,e,f){for(var g=f[f.length-2],h=f[f.length-1],k=Vb._segmentsCount(d.curveLength(g,h,c,a,b,e)),l,m,n=1;n<=k;++n){var p=n/k;l=g+(c-g)*p;m=h+(a-h)*p;f.push(l+(c+(b-c)*p-l)*p,m+(a+(e-a)*p-m)*p)}};return d}(),xh=function(){function d(){this.reset()}
d.prototype.begin=function(c,a,b){this.reset();this.style=c;this.start=a;this.attribStart=b};d.prototype.end=function(c,a){this.attribSize=a-this.attribStart;this.size=c-this.start};d.prototype.reset=function(){this.style=null;this.attribSize=this.attribStart=this.start=this.size=0};return d}(),Rb,jd=(Rb={},Rb[Ha.POLY]=We,Rb[Ha.CIRC]=Xe,Rb[Ha.ELIP]=Xe,Rb[Ha.RECT]=th,Rb[Ha.RREC]=uh,Rb),Ze=[],Bc=[],ge=function(){function d(c,a,b,e){void 0===a&&(a=null);void 0===b&&(b=null);void 0===e&&(e=null);this.shape=
c;this.lineStyle=b;this.fillStyle=a;this.matrix=e;this.type=c.type;this.points=[];this.holes=[]}d.prototype.clone=function(){return new d(this.shape,this.fillStyle,this.lineStyle,this.matrix)};d.prototype.destroy=function(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.fillStyle=this.lineStyle=this.points=null};return d}(),jc=new Ia,vb=new pc,cg=function(d){function c(){var a=d.call(this)||this;a.uvsFloat32=null;a.indicesUint16=null;a.points=[];a.colors=[];a.uvs=[];
a.indices=[];a.textureIds=[];a.graphicsData=[];a.dirty=0;a.batchDirty=-1;a.cacheDirty=-1;a.clearDirty=0;a.drawCalls=[];a.batches=[];a.shapeIndex=0;a._bounds=new pc;a.boundsDirty=-1;a.boundsPadding=0;a.batchable=!1;a.indicesUint16=null;a.uvsFloat32=null;a.closePointEps=1E-4;return a}zd(c,d);Object.defineProperty(c.prototype,"bounds",{get:function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds());return this._bounds},enumerable:!1,configurable:!0});c.prototype.invalidate=
function(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;for(var a=this.textureIds.length=0;a<this.drawCalls.length;a++)this.drawCalls[a].texArray.clear(),Bc.push(this.drawCalls[a]);for(a=this.drawCalls.length=0;a<this.batches.length;a++){var b=this.batches[a];b.reset();Ze.push(b)}this.batches.length=0};c.prototype.clear=function(){0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,
this.graphicsData.length=0);return this};c.prototype.drawShape=function(a,b,e,f){void 0===b&&(b=null);void 0===e&&(e=null);void 0===f&&(f=null);a=new ge(a,b,e,f);this.graphicsData.push(a);this.dirty++;return this};c.prototype.drawHole=function(a,b){void 0===b&&(b=null);if(!this.graphicsData.length)return null;a=new ge(a,null,null,b);b=this.graphicsData[this.graphicsData.length-1];a.lineStyle=b.lineStyle;b.holes.push(a);this.dirty++;return this};c.prototype.destroy=function(){d.prototype.destroy.call(this);
for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this._bounds=this.batches=null};c.prototype.containsPoint=function(a){for(var b=this.graphicsData,e=0;e<b.length;++e){var f=
b[e];if(f.fillStyle.visible&&f.shape&&(f.matrix?f.matrix.applyInverse(a,jc):jc.copyFrom(a),f.shape.contains(jc.x,jc.y))){var g=!1;if(f.holes)for(var h=0;h<f.holes.length;h++)if(f.holes[h].shape.contains(jc.x,jc.y)){g=!0;break}if(!g)return!0}}return!1};c.prototype.updateBatches=function(a){if(!this.graphicsData.length)this.batchable=!0;else if(this.validateBatching()){this.cacheDirty=this.dirty;var b=this.uvs,e=this.graphicsData,f=null,g=null;0<this.batches.length&&(f=this.batches[this.batches.length-
1],g=f.style);for(var h=this.shapeIndex;h<e.length;h++){this.shapeIndex++;var k=e[h],l=k.fillStyle,m=k.lineStyle;jd[k.type].build(k);k.matrix&&this.transformPoints(k.points,k.matrix);for(var n=0;2>n;n++){var p=0===n?l:m;if(p.visible){var v=this.indices.length,E=this.points.length/2;p.texture.baseTexture.wrapMode=qb.REPEAT;0===n?this.processFill(k):this.processLine(k);var J=this.points.length/2-E;0!==J&&(f&&!this._compareStyles(g,p)&&(f.end(v,E),f=null),f||(f=Ze.pop()||new xh,f.begin(p,v,E),this.batches.push(f),
g=p),this.addUvs(this.points,b,p.texture,E,J,p.matrix))}}}b=this.indices.length;e=this.points.length/2;f&&f.end(b,e);0===this.batches.length?this.batchable=!0:(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=65535<e&&a?new Uint32Array(this.indices):new Uint16Array(this.indices),(this.batchable=this.isBatchable())?this.packBatches():this.buildDrawCalls())}};c.prototype._compareStyles=function(a,b){return a&&b&&a.texture.baseTexture===
b.texture.baseTexture&&a.color+a.alpha===b.color+b.alpha&&!!a.native===!!b.native?!0:!1};c.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var a=0,b=this.graphicsData.length;a<b;a++){var e=this.graphicsData[a],f=e.fillStyle;e=e.lineStyle;if(f&&!f.texture.baseTexture.valid||e&&!e.texture.baseTexture.valid)return!1}return!0};c.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);for(var a=this.batches,
b=0,e=a.length;b<e;b++)for(var f=a[b],g=0;g<f.size;g++){var h=f.start+g;this.indicesUint16[h]-=f.attribStart}};c.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var a=this.batches,b=0;b<a.length;b++)if(a[b].style.native)return!1;return this.points.length<2*c.BATCHABLE_SIZE};c.prototype.buildDrawCalls=function(){for(var a=++za._globalBatch,b=0;b<this.drawCalls.length;b++)this.drawCalls[b].texArray.clear(),Bc.push(this.drawCalls[b]);this.drawCalls.length=0;var e=this.colors,
f=this.textureIds,g=Bc.pop();g||(g=new Nc,g.texArray=new Oc);g.texArray.count=0;g.start=0;g.size=0;g.type=Wa.TRIANGLES;var h=0,k=null,l=!1,m=Wa.TRIANGLES,n=0;this.drawCalls.push(g);for(b=0;b<this.batches.length;b++){var p=this.batches[b],v=p.style;var E=v.texture.baseTexture;l!==!!v.native&&(m=(l=!!v.native)?Wa.LINES:Wa.TRIANGLES,k=null,h=8,a++);k!==E&&(k=E,E._batchEnabled!==a&&(8===h&&(a++,h=0,0<g.size&&(g=Bc.pop(),g||(g=new Nc,g.texArray=new Oc),this.drawCalls.push(g)),g.start=n,g.size=0,g.texArray.count=
0,g.type=m),E.touched=1,E._batchEnabled=a,E._batchLocation=h,E.wrapMode=10497,g.texArray.elements[g.texArray.count++]=E,h++));g.size+=p.size;n+=p.size;E=E._batchLocation;this.addColors(e,v.color,v.alpha,p.attribSize);this.addTextureIds(f,E,p.attribSize)}za._globalBatch=a;this.packAttributes()};c.prototype.packAttributes=function(){for(var a=this.points,b=this.uvs,e=this.colors,f=this.textureIds,g=new ArrayBuffer(12*a.length),h=new Float32Array(g),k=new Uint32Array(g),l=0,m=0;m<a.length/2;m++)h[l++]=
a[2*m],h[l++]=a[2*m+1],h[l++]=b[2*m],h[l++]=b[2*m+1],k[l++]=e[m],h[l++]=f[m];this._buffer.update(g);this._indexBuffer.update(this.indicesUint16)};c.prototype.processFill=function(a){a.holes.length?(this.processHoles(a.holes),We.triangulate(a,this)):jd[a.type].triangulate(a,this)};c.prototype.processLine=function(a){Bd(a,this);for(var b=0;b<a.holes.length;b++)Bd(a.holes[b],this)};c.prototype.processHoles=function(a){for(var b=0;b<a.length;b++){var e=a[b];jd[e.type].build(e);e.matrix&&this.transformPoints(e.points,
e.matrix)}};c.prototype.calculateBounds=function(){var a=this._bounds,b=La.IDENTITY;this._bounds.clear();vb.clear();for(var e=0;e<this.graphicsData.length;e++){var f=this.graphicsData[e],g=f.shape,h=f.type,k=f.lineStyle,l=f.matrix||La.IDENTITY;f=0;if(k&&k.visible){var m=k.alignment;f=k.width;f=h===Ha.POLY?f*(.5+Math.abs(.5-m)):f*Math.max(0,m)}b!==l&&(vb.isEmpty()||(a.addBoundsMatrix(vb,b),vb.clear()),b=l);h===Ha.RECT||h===Ha.RREC?vb.addFramePad(g.x,g.y,g.x+g.width,g.y+g.height,f,f):h===Ha.CIRC?vb.addFramePad(g.x,
g.y,g.x,g.y,g.radius+f,g.radius+f):h===Ha.ELIP?vb.addFramePad(g.x,g.y,g.x,g.y,g.width+f,g.height+f):a.addVerticesMatrix(b,g.points,0,g.points.length,f,f)}vb.isEmpty()||a.addBoundsMatrix(vb,b);a.pad(this.boundsPadding,this.boundsPadding)};c.prototype.transformPoints=function(a,b){for(var e=0;e<a.length/2;e++){var f=a[2*e],g=a[2*e+1];a[2*e]=b.a*f+b.c*g+b.tx;a[2*e+1]=b.b*f+b.d*g+b.ty}};c.prototype.addColors=function(a,b,e,f){for(b=r((b>>16)+(b&65280)+((b&255)<<16),e);0<f--;)a.push(b)};c.prototype.addTextureIds=
function(a,b,e){for(;0<e--;)a.push(b)};c.prototype.addUvs=function(a,b,e,f,g,h){void 0===h&&(h=null);for(var k=0,l=b.length,m=e.frame;k<g;){var n=a[2*(f+k)],p=a[2*(f+k)+1];if(h){var v=h.a*n+h.c*p+h.tx;p=h.b*n+h.d*p+h.ty;n=v}k++;b.push(n/m.width,p/m.height)}a=e.baseTexture;(m.width<a.width||m.height<a.height)&&this.adjustUvs(b,e,l,g)};c.prototype.adjustUvs=function(a,b,e,f){var g=b.baseTexture;f=e+2*f;var h=b.frame;b=h.width/g.width;g=h.height/g.height;var k=h.x/h.width;h=h.y/h.height;for(var l=Math.floor(a[e]+
1E-6),m=Math.floor(a[e+1]+1E-6),n=e+2;n<f;n+=2)l=Math.min(l,Math.floor(a[n]+1E-6)),m=Math.min(m,Math.floor(a[n+1]+1E-6));k-=l;h-=m;for(n=e;n<f;n+=2)a[n]=(a[n]+k)*b,a[n+1]=(a[n+1]+h)*g};c.BATCHABLE_SIZE=100;return c}(Zd),gg=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.width=0;a.alignment=.5;a.native=!1;a.cap=mb.BUTT;a.join=nb.MITER;a.miterLimit=10;return a}zd(c,d);c.prototype.clone=function(){var a=new c;a.color=this.color;a.alpha=this.alpha;a.texture=this.texture;a.matrix=
this.matrix;a.visible=this.visible;a.width=this.width;a.alignment=this.alignment;a.native=this.native;a.cap=this.cap;a.join=this.join;a.miterLimit=this.miterLimit;return a};c.prototype.reset=function(){d.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=!1};return c}(ce),uj=new Float32Array(3),$e={},Id=function(d){function c(a){void 0===a&&(a=null);var b=d.call(this)||this;b._geometry=a||new cg;b._geometry.refCount++;b.shader=null;b.state=zb.for2d();b._fillStyle=new ce;
b._lineStyle=new gg;b._matrix=null;b._holeMode=!1;b.currentPath=null;b.batches=[];b.batchTint=-1;b.batchDirty=-1;b.vertexData=null;b.pluginName="batch";b._transformID=-1;b.tint=16777215;b.blendMode=la.NORMAL;return b}zd(c,d);Object.defineProperty(c.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0});c.prototype.clone=function(){this.finishPoly();return new c(this._geometry)};Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.state.blendMode},
set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0});c.prototype.lineStyle=function(a,b,e,f,g){void 0===a&&(a=null);void 0===
b&&(b=0);void 0===e&&(e=1);void 0===f&&(f=.5);void 0===g&&(g=!1);"number"===typeof a&&(a={width:a,color:b,alpha:e,alignment:f,native:g});return this.lineTextureStyle(a)};c.prototype.lineTextureStyle=function(a){a=Object.assign({width:0,texture:ra.WHITE,color:a&&a.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:mb.BUTT,join:nb.MITER,miterLimit:10},a);this.currentPath&&this.startPoly();var b=0<a.width&&0<a.alpha;b?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._lineStyle,
{visible:b},a)):this._lineStyle.reset();return this};c.prototype.startPoly=function(){if(this.currentPath){var a=this.currentPath.points,b=this.currentPath.points.length;2<b&&(this.drawShape(this.currentPath),this.currentPath=new vc,this.currentPath.closeStroke=!1,this.currentPath.points.push(a[b-2],a[b-1]))}else this.currentPath=new vc,this.currentPath.closeStroke=!1};c.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=
null):this.currentPath.points.length=0)};c.prototype.moveTo=function(a,b){this.startPoly();this.currentPath.points[0]=a;this.currentPath.points[1]=b;return this};c.prototype.lineTo=function(a,b){this.currentPath||this.moveTo(0,0);var e=this.currentPath.points,f=e[e.length-1];e[e.length-2]===a&&f===b||e.push(a,b);return this};c.prototype._initCurve=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[a,b]):this.moveTo(a,b)};
c.prototype.quadraticCurveTo=function(a,b,e,f){this._initCurve();var g=this.currentPath.points;0===g.length&&this.moveTo(0,0);wh.curveTo(a,b,e,f,g);return this};c.prototype.bezierCurveTo=function(a,b,e,f,g,h){this._initCurve();vh.curveTo(a,b,e,f,g,h,this.currentPath.points);return this};c.prototype.arcTo=function(a,b,e,f,g){this._initCurve(a,b);(a=Ye.curveTo(a,b,e,f,g,this.currentPath.points))&&this.arc(a.cx,a.cy,a.radius,a.startAngle,a.endAngle,a.anticlockwise);return this};c.prototype.arc=function(a,
b,e,f,g,h){void 0===h&&(h=!1);if(f===g)return this;!h&&g<=f?g+=uc:h&&f<=g&&(f+=uc);if(0===g-f)return this;var k=a+Math.cos(f)*e,l=b+Math.sin(f)*e,m=this._geometry.closePointEps,n=this.currentPath?this.currentPath.points:null;if(n){var p=Math.abs(n[n.length-1]-l);Math.abs(n[n.length-2]-k)<m&&p<m||n.push(k,l)}else this.moveTo(k,l),n=this.currentPath.points;Ye.arc(k,l,a,b,e,f,g,h,n);return this};c.prototype.beginFill=function(a,b){void 0===a&&(a=0);void 0===b&&(b=1);return this.beginTextureFill({texture:ra.WHITE,
color:a,alpha:b})};c.prototype.beginTextureFill=function(a){a=Object.assign({texture:ra.WHITE,color:16777215,alpha:1,matrix:null},a);this.currentPath&&this.startPoly();var b=0<a.alpha;b?(a.matrix&&(a.matrix=a.matrix.clone(),a.matrix.invert()),Object.assign(this._fillStyle,{visible:b},a)):this._fillStyle.reset();return this};c.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};c.prototype.drawRect=function(a,b,e,f){return this.drawShape(new xa(a,b,e,f))};c.prototype.drawRoundedRect=
function(a,b,e,f,g){return this.drawShape(new qg(a,b,e,f,g))};c.prototype.drawCircle=function(a,b,e){return this.drawShape(new Sf(a,b,e))};c.prototype.drawEllipse=function(a,b,e,f){return this.drawShape(new Xf(a,b,e,f))};c.prototype.drawPolygon=function(){for(var a=arguments,b=[],e=0;e<arguments.length;e++)b[e]=a[e];a=!0;e=b[0];e.points?(a=e.closeStroke,b=e.points):b=Array.isArray(b[0])?b[0]:b;b=new vc(b);b.closeStroke=a;this.drawShape(b);return this};c.prototype.drawShape=function(a){this._holeMode?
this._geometry.drawHole(a,this._matrix):this._geometry.drawShape(a,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);return this};c.prototype.clear=function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;this._matrix=null;this._holeMode=!1;this.currentPath=null;return this};c.prototype.isFastRect=function(){var a=this._geometry.graphicsData;return 1===a.length&&a[0].shape.type===Ha.RECT&&!(a[0].lineStyle.visible&&a[0].lineStyle.width)};c.prototype._render=
function(a){this.finishPoly();var b=this._geometry;b.updateBatches(a.context.supports.uint32Indices);b.batchable?(this.batchDirty!==b.batchDirty&&this._populateBatches(),this._renderBatched(a)):(a.batch.flush(),this._renderDirect(a))};c.prototype._populateBatches=function(){var a=this._geometry,b=this.blendMode,e=a.batches.length;this._transformID=this.batchTint=-1;this.batchDirty=a.batchDirty;this.batches.length=e;this.vertexData=new Float32Array(a.points);for(var f=0;f<e;f++){var g=a.batches[f],
h=g.style.color,k=new Float32Array(this.vertexData.buffer,8*g.attribStart,2*g.attribSize),l=new Float32Array(a.uvsFloat32.buffer,8*g.attribStart,2*g.attribSize),m=new Uint16Array(a.indicesUint16.buffer,2*g.start,g.size);g={vertexData:k,blendMode:b,indices:m,uvs:l,_batchRGB:ea(h),_tintRGB:h,_texture:g.style.texture,alpha:g.style.alpha,worldAlpha:1};this.batches[f]=g}};c.prototype._renderBatched=function(a){if(this.batches.length){a.batch.setObjectRenderer(a.plugins[this.pluginName]);this.calculateVertices();
this.calculateTints();for(var b=0,e=this.batches.length;b<e;b++){var f=this.batches[b];f.worldAlpha=this.worldAlpha*f.alpha;a.plugins[this.pluginName].render(f)}}};c.prototype._renderDirect=function(a){var b=this._resolveDirectShader(a),e=this._geometry,f=this.tint,g=this.worldAlpha,h=b.uniforms,k=e.drawCalls;h.translationMatrix=this.transform.worldTransform;h.tint[0]=(f>>16&255)/255*g;h.tint[1]=(f>>8&255)/255*g;h.tint[2]=(f&255)/255*g;h.tint[3]=g;a.shader.bind(b);a.geometry.bind(e,b);a.state.set(this.state);
b=0;for(k=k.length;b<k;b++)this._renderDrawCallDirect(a,e.drawCalls[b])};c.prototype._renderDrawCallDirect=function(a,b){var e=b.texArray,f=b.type,g=b.size;b=b.start;for(var h=e.count,k=0;k<h;k++)a.texture.bind(e.elements[k],k);a.geometry.draw(f,g,b)};c.prototype._resolveDirectShader=function(a){var b=this.shader,e=this.pluginName;if(!b){if(!$e[e]){b=a.plugins.batch.MAX_TEXTURES;for(var f=new Int32Array(b),g=0;g<b;g++)f[g]=g;b={tint:new Float32Array([1,1,1,1]),translationMatrix:new La,default:Bb.from({uSamplers:f},
!0)};$e[e]=new yb(a.plugins[e]._shader.program,b)}b=$e[e]}return b};c.prototype._calculateBounds=function(){this.finishPoly();var a=this._geometry;a.graphicsData.length&&(a=a.bounds,this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY))};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,c._TEMP_POINT);return this._geometry.containsPoint(c._TEMP_POINT)};c.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var a=ea(this.tint,
uj),b=0;b<this.batches.length;b++){var e=this.batches[b],f=e._batchRGB;f=(a[0]*f[0]*255<<16)+(a[1]*f[1]*255<<8)+(a[2]*f[2]*255|0);e._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}};c.prototype.calculateVertices=function(){var a=this.transform._worldID;if(this._transformID!==a){this._transformID=a;var b=this.transform.worldTransform;a=b.a;var e=b.b,f=b.c,g=b.d,h=b.tx;b=b.ty;for(var k=this._geometry.points,l=this.vertexData,m=0,n=0;n<k.length;n+=2){var p=k[n],v=k[n+1];l[m++]=a*p+f*v+h;l[m++]=g*v+e*p+b}}};
c.prototype.closePath=function(){var a=this.currentPath;a&&(a.closeStroke=!0);return this};c.prototype.setMatrix=function(a){this._matrix=a;return this};c.prototype.beginHole=function(){this.finishPoly();this._holeMode=!0;return this};c.prototype.endHole=function(){this.finishPoly();this._holeMode=!1;return this};c.prototype.destroy=function(a){this._geometry.refCount--;0===this._geometry.refCount&&this._geometry.dispose();this.currentPath=this._matrix=null;this._lineStyle.destroy();this._lineStyle=
null;this._fillStyle.destroy();this.vertexData=this.shader=this._geometry=this._fillStyle=null;this.batches.length=0;this.batches=null;d.prototype.destroy.call(this,a)};c._TEMP_POINT=new Ia;return c}(ab),Gi={buildPoly:We,buildCircle:Xe,buildRectangle:th,buildRoundedRectangle:uh,buildLine:Bd,ArcUtils:Ye,BezierUtils:vh,QuadraticUtils:wh,BatchPart:xh,FILL_COMMANDS:jd,BATCH_POOL:Ze,DRAW_CALL_POOL:Bc},Cd=function(d,c){Cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Cd(d,c)},Cc=new Ia,vj=new Uint16Array([0,1,2,0,2,3]),cc=function(d){function c(a){var b=d.call(this)||this;b._anchor=new Jb(b._onAnchorUpdate,b,a?a.defaultAnchor.x:0,a?a.defaultAnchor.y:0);b._texture=null;b._width=0;b._height=0;b._tint=null;b._tintRGB=null;b.tint=16777215;b.blendMode=la.NORMAL;b._cachedTint=16777215;b.uvs=null;b.texture=a||ra.EMPTY;b.vertexData=new Float32Array(8);b.vertexTrimmedData=null;b._transformID=-1;
b._textureID=-1;b._transformTrimmedID=-1;b._textureTrimmedID=-1;b.indices=vj;b.pluginName="batch";b.isSprite=!0;b._roundPixels=na.ROUND_PIXELS;return b}di(c,d);c.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this._cachedTint=16777215;this._width&&(this.scale.x=pa(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=pa(this.scale.y)*this._height/this._texture.orig.height)};c.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=
-1};c.prototype.calculateVertices=function(){var a=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==a._updateID){this._textureID!==a._updateID&&(this.uvs=this._texture._uvs.uvsFloat32);this._transformID=this.transform._worldID;this._textureID=a._updateID;var b=this.transform.worldTransform,e=b.a,f=b.b,g=b.c,h=b.d,k=b.tx,l=b.ty;b=this.vertexData;var m=a.trim,n=a.orig,p=this._anchor;if(m){var v=m.x-p._x*n.width;a=v+m.width;p=m.y-p._y*n.height;m=p+m.height}else v=-p._x*
n.width,a=v+n.width,p=-p._y*n.height,m=p+n.height;b[0]=e*v+g*p+k;b[1]=h*p+f*v+l;b[2]=e*a+g*p+k;b[3]=h*p+f*a+l;b[4]=e*a+g*m+k;b[5]=h*m+f*a+l;b[6]=e*v+g*m+k;b[7]=h*m+f*v+l;if(this._roundPixels)for(e=na.RESOLUTION,f=0;f<b.length;++f)b[f]=Math.round((b[f]*e|0)/e)}};c.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=
this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this.vertexTrimmedData,b=this._texture.orig,e=this._anchor,f=this.transform.worldTransform,g=f.a,h=f.b,k=f.c,l=f.d,m=f.tx;f=f.ty;var n=-e._x*b.width,p=n+b.width;e=-e._y*b.height;b=e+b.height;a[0]=g*n+k*e+m;a[1]=l*e+h*n+f;a[2]=g*p+k*e+m;a[3]=l*e+h*p+f;a[4]=g*p+k*b+m;a[5]=l*b+h*p+f;a[6]=g*n+k*b+m;a[7]=l*b+h*n+f};c.prototype._render=function(a){this.calculateVertices();a.batch.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};
c.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};c.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*
(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new xa),a=this._localBoundsRect),this._bounds.getRectangle(a)):d.prototype.getLocalBounds.call(this,a)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,Cc);var b=this._texture.orig.width;a=this._texture.orig.height;var e=-b*this.anchor.x;return Cc.x>=e&&Cc.x<e+b&&(b=-a*this.anchor.y,Cc.y>=b&&Cc.y<b+a)?!0:!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,
a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this._texture=null};c.from=function(a,b){a=a instanceof ra?a:ra.from(a,b);return new c(a)};Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1);this._roundPixels=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=pa(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=pa(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"anchor",
{get:function(){return this._anchor},set:function(a){this._anchor.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"texture",{get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=a||
ra.EMPTY,this._cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,a))if(a.baseTexture.valid)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)},enumerable:!1,configurable:!0});return c}(ab),Dd=function(d,c){Dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Dd(d,c)},Wb;(function(d){d[d.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";d[d.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Wb||
(Wb={}));var af={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Wb.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,
leading:0},wj="serif sans-serif monospace cursive fantasy system-ui".split(" "),Hb=function(){function d(c){this.styleID=0;this.reset();Fd(this,c,c)}d.prototype.clone=function(){var c={};Fd(c,this,af);return new d(c)};d.prototype.reset=function(){Fd(this,af,af)};Object.defineProperty(d.prototype,"align",{get:function(){return this._align},set:function(c){this._align!==c&&(this._align=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"breakWords",{get:function(){return this._breakWords},
set:function(c){this._breakWords!==c&&(this._breakWords=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(c){this._dropShadow!==c&&(this._dropShadow=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(c){this._dropShadowAlpha!==c&&(this._dropShadowAlpha=c,this.styleID++)},enumerable:!1,configurable:!0});
Object.defineProperty(d.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(c){this._dropShadowAngle!==c&&(this._dropShadowAngle=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(c){this._dropShadowBlur!==c&&(this._dropShadowBlur=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},
set:function(c){c=Ed(c);this._dropShadowColor!==c&&(this._dropShadowColor=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(c){this._dropShadowDistance!==c&&(this._dropShadowDistance=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fill",{get:function(){return this._fill},set:function(c){c=Ed(c);this._fill!==c&&(this._fill=c,this.styleID++)},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(c){this._fillGradientType!==c&&(this._fillGradientType=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(c){a:{var a=this._fillGradientStops;if(Array.isArray(a)&&Array.isArray(c)&&a.length===c.length){for(var b=0;b<a.length;++b)if(a[b]!==c[b]){a=!1;break a}a=
!0}else a=!1}a||(this._fillGradientStops=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(c){this.fontFamily!==c&&(this._fontFamily=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontSize",{get:function(){return this._fontSize},set:function(c){this._fontSize!==c&&(this._fontSize=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"fontStyle",{get:function(){return this._fontStyle},set:function(c){this._fontStyle!==c&&(this._fontStyle=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(c){this._fontVariant!==c&&(this._fontVariant=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(c){this._fontWeight!==c&&(this._fontWeight=c,
this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(c){this._letterSpacing!==c&&(this._letterSpacing=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(c){this._lineHeight!==c&&(this._lineHeight=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"leading",{get:function(){return this._leading},
set:function(c){this._leading!==c&&(this._leading=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(c){this._lineJoin!==c&&(this._lineJoin=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(c){this._miterLimit!==c&&(this._miterLimit=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"padding",{get:function(){return this._padding},set:function(c){this._padding!==c&&(this._padding=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"stroke",{get:function(){return this._stroke},set:function(c){c=Ed(c);this._stroke!==c&&(this._stroke=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(c){this._strokeThickness!==c&&(this._strokeThickness=c,
this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(c){this._textBaseline!==c&&(this._textBaseline=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"trim",{get:function(){return this._trim},set:function(c){this._trim!==c&&(this._trim=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"whiteSpace",{get:function(){return this._whiteSpace},
set:function(c){this._whiteSpace!==c&&(this._whiteSpace=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(c){this._wordWrap!==c&&(this._wordWrap=c,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(c){this._wordWrapWidth!==c&&(this._wordWrapWidth=c,this.styleID++)},enumerable:!1,configurable:!0});
d.prototype.toFontString=function(){var c="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,a=this.fontFamily;Array.isArray(this.fontFamily)||(a=this.fontFamily.split(","));for(var b=a.length-1;0<=b;b--){var e=a[b].trim();!/(["'])[^'"]+\1/.test(e)&&0>wj.indexOf(e)&&(e='"'+e+'"');a[b]=e}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+c+" "+a.join(",")};return d}(),Ua=function(){function d(c,a,b,e,f,g,h,k,l){this.text=c;this.style=a;this.width=b;this.height=e;this.lines=
f;this.lineWidths=g;this.lineHeight=h;this.maxLineWidth=k;this.fontProperties=l}d.measureText=function(c,a,b,e){void 0===e&&(e=d._canvas);b=void 0===b||null===b?a.wordWrap:b;var f=a.toFontString(),g=d.measureFont(f);0===g.fontSize&&(g.fontSize=a.fontSize,g.ascent=a.fontSize);var h=e.getContext("2d");h.font=f;b=(b?d.wordWrap(c,a,e):c).split(/(?:\r\n|\r|\n)/);e=Array(b.length);for(var k=f=0;k<b.length;k++){var l=h.measureText(b[k]).width+(b[k].length-1)*a.letterSpacing;e[k]=l;f=Math.max(f,l)}h=f+a.strokeThickness;
a.dropShadow&&(h+=a.dropShadowDistance);k=a.lineHeight||g.fontSize+a.strokeThickness;l=Math.max(k,g.fontSize+a.strokeThickness)+(b.length-1)*(k+a.leading);a.dropShadow&&(l+=a.dropShadowDistance);return new d(c,a,h,l,b,e,k+a.leading,f,g)};d.wordWrap=function(c,a,b){void 0===b&&(b=d._canvas);b=b.getContext("2d");var e=0,f="",g="",h=Object.create(null),k=a.letterSpacing,l=a.whiteSpace,m=d.collapseSpaces(l);l=d.collapseNewlines(l);var n=!m,p=a.wordWrapWidth+k;c=d.tokenize(c);for(var v=0;v<c.length;v++){var E=
c[v];if(d.isNewline(E)){if(!l){g+=d.addLine(f);n=!m;f="";e=0;continue}E=" "}if(m){var J=d.isBreakingSpace(E),T=d.isBreakingSpace(f[f.length-1]);if(J&&T)continue}J=d.getFromCache(E,k,h,b);if(J>p)if(""!==f&&(g+=d.addLine(f),f="",e=0),d.canBreakWords(E,a.breakWords))for(J=d.wordWrapSplit(E),T=0;T<J.length;T++){for(var ka=J[T],aa=1;J[T+aa];){var ja=J[T+aa];if(d.canBreakChars(ka[ka.length-1],ja,E,T,a.breakWords))break;else ka+=ja;aa++}T+=ka.length-1;aa=d.getFromCache(ka,k,h,b);aa+e>p&&(g+=d.addLine(f),
n=!1,f="",e=0);f+=ka;e+=aa}else 0<f.length&&(g+=d.addLine(f)),g+=d.addLine(E,v!==c.length-1),n=!1,f="",e=0;else if(J+e>p&&(n=!1,g+=d.addLine(f),f="",e=0),0<f.length||!d.isBreakingSpace(E)||n)f+=E,e+=J}return g+=d.addLine(f,!1)};d.addLine=function(c,a){void 0===a&&(a=!0);c=d.trimRight(c);return a?c+"\n":c};d.getFromCache=function(c,a,b,e){var f=b[c];"number"!==typeof f&&(a*=c.length,f=e.measureText(c).width+a,b[c]=f);return f};d.collapseSpaces=function(c){return"normal"===c||"pre-line"===c};d.collapseNewlines=
function(c){return"normal"===c};d.trimRight=function(c){if("string"!==typeof c)return"";for(var a=c.length-1;0<=a&&d.isBreakingSpace(c[a]);a--)c=c.slice(0,-1);return c};d.isNewline=function(c){return"string"!==typeof c?!1:0<=d._newlines.indexOf(c.charCodeAt(0))};d.isBreakingSpace=function(c,a){return"string"!==typeof c?!1:0<=d._breakingSpaces.indexOf(c.charCodeAt(0))};d.tokenize=function(c){var a=[],b="";if("string"!==typeof c)return a;for(var e=0;e<c.length;e++){var f=c[e];d.isBreakingSpace(f,c[e+
1])||d.isNewline(f)?(""!==b&&(a.push(b),b=""),a.push(f)):b+=f}""!==b&&a.push(b);return a};d.canBreakWords=function(c,a){return a};d.canBreakChars=function(c,a,b,e,f){return!0};d.wordWrapSplit=function(c){return c.split("")};d.measureFont=function(c){if(d._fonts[c])return d._fonts[c];var a={ascent:0,descent:0,fontSize:0},b=d._canvas,e=d._context;e.font=c;var f=d.METRICS_STRING+d.BASELINE_SYMBOL,g=Math.ceil(e.measureText(f).width),h=Math.ceil(e.measureText(d.BASELINE_SYMBOL).width),k=d.HEIGHT_MULTIPLIER*
h;h=h*d.BASELINE_MULTIPLIER|0;b.width=g;b.height=k;e.fillStyle="#f00";e.fillRect(0,0,g,k);e.font=c;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(f,0,h);b=e.getImageData(0,0,g,k).data;e=b.length;g*=4;var l=0,m=!1;for(f=0;f<h;++f){for(var n=0;n<g;n+=4)if(255!==b[l+n]){m=!0;break}if(m)break;else l+=g}a.ascent=h-f;l=e-g;m=!1;for(f=k;f>h;--f){for(n=0;n<g;n+=4)if(255!==b[l+n]){m=!0;break}if(m)break;else l-=g}a.descent=f-h;a.fontSize=a.ascent+a.descent;return d._fonts[c]=a};d.clearMetrics=function(c){void 0===
c&&(c="");c?delete d._fonts[c]:d._fonts={}};return d}(),kd=function(){try{var d=new OffscreenCanvas(0,0),c=d.getContext("2d");return c&&c.measureText?d:document.createElement("canvas")}catch(a){return document.createElement("canvas")}}();kd.width=kd.height=10;Ua._canvas=kd;Ua._context=kd.getContext("2d");Ua._fonts={};Ua.METRICS_STRING="|\u00c9q\u00c5";Ua.BASELINE_SYMBOL="M";Ua.BASELINE_MULTIPLIER=1.4;Ua.HEIGHT_MULTIPLIER=2;Ua._newlines=[10,13];Ua._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,
8198,8200,8201,8202,8287,12288];var xj={texture:!0,children:!1,baseTexture:!0},Hd=function(d){function c(a,b,e){var f=!1;e||(e=document.createElement("canvas"),f=!0);e.width=3;e.height=3;var g=ra.from(e);g.orig=new xa;g.trim=new xa;g=d.call(this,g)||this;g._ownCanvas=f;g.canvas=e;g.context=g.canvas.getContext("2d");g._resolution=na.RESOLUTION;g._autoResolution=!0;g._text=null;g._style=null;g._styleListener=null;g._font="";g.text=a;g.style=b;g.localStyleID=-1;return g}ei(c,d);c.prototype.updateText=
function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(this.dirty||!a){this._font=this._style.toFontString();a=this.context;var e=Ua.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),f=e.height,g=e.lines,h=e.lineHeight,k=e.lineWidths,l=e.maxLineWidth,m=e.fontProperties;this.canvas.width=Math.ceil((Math.max(1,e.width)+2*b.padding)*this._resolution);this.canvas.height=Math.ceil((Math.max(1,f)+2*b.padding)*this._resolution);
a.scale(this._resolution,this._resolution);a.clearRect(0,0,this.canvas.width,this.canvas.height);a.font=this._font;a.lineWidth=b.strokeThickness;a.textBaseline=b.textBaseline;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;for(var n,p,v=b.dropShadow?2:1,E=0;E<v;++E){var J=(p=b.dropShadow&&0===E)?Math.ceil(Math.max(1,f)+2*b.padding):0;n=J*this._resolution;p?(a.fillStyle="black",a.strokeStyle="black",p=b.dropShadowColor,p=ea("number"===typeof p?p:ia(p)),a.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+
255*p[2]+","+b.dropShadowAlpha+")",a.shadowBlur=b.dropShadowBlur,a.shadowOffsetX=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,a.shadowOffsetY=Math.sin(b.dropShadowAngle)*b.dropShadowDistance+n):(a.fillStyle=this._generateFillStyle(b,g,e),a.strokeStyle=b.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);for(var T=0;T<g.length;T++)n=b.strokeThickness/2,p=b.strokeThickness/2+T*h+m.ascent,"right"===b.align?n+=l-k[T]:"center"===b.align&&(n+=(l-k[T])/2),b.stroke&&b.strokeThickness&&
this.drawLetterSpacing(g[T],n+b.padding,p+b.padding-J,!0),b.fill&&this.drawLetterSpacing(g[T],n+b.padding,p+b.padding-J)}this.updateTexture()}};c.prototype.drawLetterSpacing=function(a,b,e,f){void 0===f&&(f=!1);var g=this._style.letterSpacing;if(0===g)f?this.context.strokeText(a,b,e):this.context.fillText(a,b,e);else for(var h=Array.from?Array.from(a):a.split(""),k=this.context.measureText(a).width,l,m=0;m<h.length;++m)l=h[m],f?this.context.strokeText(l,b,e):this.context.fillText(l,b,e),l=this.context.measureText(a.substring(m+
1)).width,b+=k-l+g,k=l};c.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=qa(a);b.data&&(a.width=b.width,a.height=b.height,this.context.putImageData(b.data,0,0))}b=this._texture;var e=this._style;e=e.trim?0:e.padding;var f=b.baseTexture;b.trim.width=b._frame.width=Math.ceil(a.width/this._resolution);b.trim.height=b._frame.height=Math.ceil(a.height/this._resolution);b.trim.x=-e;b.trim.y=-e;b.orig.width=b._frame.width-2*e;b.orig.height=b._frame.height-2*e;this._onTextureUpdate();
f.setRealSize(a.width,a.height,this._resolution);this._recursivePostUpdateTransform();this.dirty=!1};c.prototype._render=function(a){this._autoResolution&&this._resolution!==a.resolution&&(this._resolution=a.resolution,this.dirty=!0);this.updateText(!0);d.prototype._render.call(this,a)};c.prototype.getLocalBounds=function(a){this.updateText(!0);return d.prototype.getLocalBounds.call(this,a)};c.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};
c.prototype._generateFillStyle=function(a,b,e){var f=a.fill;if(!Array.isArray(f))return f;if(1===f.length)return f[0];var g=a.dropShadow?a.dropShadowDistance:0,h=a.padding||0,k=Math.ceil(this.canvas.width/this._resolution)-g-2*h,l=Math.ceil(this.canvas.height/this._resolution)-g-2*h;g=f.slice();var m=a.fillGradientStops.slice();if(!m.length)for(var n=g.length+1,p=1;p<n;++p)m.push(p/n);g.unshift(f[0]);m.unshift(0);g.push(f[f.length-1]);m.push(1);if(a.fillGradientType===Wb.LINEAR_VERTICAL)for(f=this.context.createLinearGradient(k/
2,h,k/2,l+h),a=(e.fontProperties.fontSize+a.strokeThickness)/l,p=0;p<b.length;p++)for(h=e.lineHeight*p,k=0;k<g.length;k++)n=Math.min(1,Math.max(0,h/l+("number"===typeof m[k]?m[k]:k/g.length)*a)),n=Number(n.toFixed(5)),f.addColorStop(n,g[k]);else for(f=this.context.createLinearGradient(h,l/2,k+h,l/2),b=g.length+1,e=1,p=0;p<g.length;p++)f.addColorStop("number"===typeof m[p]?m[p]:e/b,g[p]),e++;return f};c.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},xj,a);d.prototype.destroy.call(this,
a);this._ownCanvas&&(this.canvas.height=this.canvas.width=0);this._style=this.canvas=this.context=null};Object.defineProperty(c.prototype,"width",{get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=pa(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},
set:function(a){this.updateText(!0);var b=pa(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"style",{get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof Hb?a:new Hb(a);this.localStyleID=-1;this.dirty=!0},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(a){a=String(null===a||void 0===a?"":a);this._text!==
a&&(this._text=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._autoResolution=!1;this._resolution!==a&&(this._resolution=a,this.dirty=!0)},enumerable:!1,configurable:!0});return c}(cc);na.UPLOADS_PER_FRAME=4;var Gd=function(d,c){Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Gd(d,
c)},Uf=function(){function d(c){this.maxItemsPerFrame=c;this.itemsLeft=0}d.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};d.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return d}(),Mf=function(){function d(c){var a=this;this.limiter=new Uf(na.UPLOADS_PER_FRAME);this.renderer=c;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){a.queue&&a.prepareItems()};this.registerFindHook(li);
this.registerFindHook(mi);this.registerFindHook(gi);this.registerFindHook(hi);this.registerFindHook(ii);this.registerUploadHook(ji);this.registerUploadHook(ki)}d.prototype.upload=function(c,a){"function"===typeof c&&(a=c,c=null);c&&this.add(c);this.queue.length?(a&&this.completes.push(a),this.ticking||(this.ticking=!0,Oa.system.addOnce(this.tick,this,kb.UTILITY))):a&&a()};d.prototype.tick=function(){setTimeout(this.delayedTick,0)};d.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&
this.limiter.allowedToUpload();){var c=this.queue[0],a=!1;if(c&&!c._destroyed)for(var b=0,e=this.uploadHooks.length;b<e;b++)if(this.uploadHooks[b](this.uploadHookHelper,c)){this.queue.shift();a=!0;break}a||this.queue.shift()}if(this.queue.length)Oa.system.addOnce(this.tick,this,kb.UTILITY);else for(this.ticking=!1,c=this.completes.slice(0),b=this.completes.length=0,e=c.length;b<e;b++)c[b]()};d.prototype.registerFindHook=function(c){c&&this.addHooks.push(c);return this};d.prototype.registerUploadHook=
function(c){c&&this.uploadHooks.push(c);return this};d.prototype.add=function(c){for(var a=0,b=this.addHooks.length;a<b&&!this.addHooks[a](c,this.queue);a++);if(c instanceof ab)for(a=c.children.length-1;0<=a;a--)this.add(c.children[a]);return this};d.prototype.destroy=function(){this.ticking&&Oa.system.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return d}(),lg=function(d){function c(a){a=d.call(this,
a)||this;a.uploadHookHelper=a.renderer;a.registerFindHook(oi);a.registerUploadHook(Df);a.registerUploadHook(ni);return a}fi(c,d);return c}(Mf),Ei=function(){function d(c){this.maxMilliseconds=c;this.frameStart=0}d.prototype.beginFrame=function(){this.frameStart=Date.now()};d.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return d}(),tg=function(){function d(c,a,b){void 0===b&&(b=null);this._texture=c instanceof ra?c:null;this.baseTexture=c instanceof za?
c:this._texture.baseTexture;this.textures={};this.animations={};this.data=a;c=this.baseTexture.resource;this.resolution=this._updateResolution(b||(c?c.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}d.prototype._updateResolution=function(c){void 0===c&&(c=null);var a=this.data.meta.scale;c=kc(c,null);null===c&&(c=void 0!==a?parseFloat(a):1);1!==c&&this.baseTexture.setResolution(c);return c};d.prototype.parse=function(c){this._batchIndex=
0;this._callback=c;this._frameKeys.length<=d.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()};d.prototype._processFrames=function(c){for(var a=c,b=d.BATCH_SIZE;a-c<b&&a<this._frameKeys.length;){var e=this._frameKeys[a],f=this._frames[e],g=f.frame;if(g){var h=null;var k=!1!==f.trimmed&&f.sourceSize?f.sourceSize:f.frame;var l=new xa(0,0,Math.floor(k.w)/this.resolution,Math.floor(k.h)/this.resolution);k=f.rotated?new xa(Math.floor(g.x)/this.resolution,
Math.floor(g.y)/this.resolution,Math.floor(g.h)/this.resolution,Math.floor(g.w)/this.resolution):new xa(Math.floor(g.x)/this.resolution,Math.floor(g.y)/this.resolution,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);!1!==f.trimmed&&f.spriteSourceSize&&(h=new xa(Math.floor(f.spriteSourceSize.x)/this.resolution,Math.floor(f.spriteSourceSize.y)/this.resolution,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution));this.textures[e]=new ra(this.baseTexture,k,l,h,f.rotated?2:
0,f.anchor);ra.addToCache(this.textures[e],e)}a++}};d.prototype._processAnimations=function(){var c=this.data.animations||{},a;for(a in c){this.animations[a]=[];for(var b=0;b<c[a].length;b++)this.animations[a].push(this.textures[c[a][b]])}};d.prototype._parseComplete=function(){var c=this._callback;this._callback=null;this._batchIndex=0;c.call(this,this.textures)};d.prototype._nextBatch=function(){var c=this;this._processFrames(this._batchIndex*d.BATCH_SIZE);this._batchIndex++;setTimeout(function(){c._batchIndex*
d.BATCH_SIZE<c._frameKeys.length?c._nextBatch():(c._processAnimations(),c._parseComplete())},0)};d.prototype.destroy=function(c){var a;void 0===c&&(c=!1);for(var b in this.textures)this.textures[b].destroy();this.textures=this.data=this._frameKeys=this._frames=null;c&&(null===(a=this._texture)||void 0===a?void 0:a.destroy(),this.baseTexture.destroy());this.baseTexture=this._texture=null};d.BATCH_SIZE=1E3;return d}(),ug=function(){function d(){}d.use=function(c,a){var b,e,f=this,g=c.name+"_image";
if(c.data&&c.type===Xa.TYPE.JSON&&c.data.frames&&!f.resources[g]){var h=null===(e=null===(b=c.data)||void 0===b?void 0:b.meta)||void 0===e?void 0:e.related_multi_packs;if(Array.isArray(h))for(b=function(k){if("string"!==typeof k)return"continue";var l=k.replace(".json",""),m=Tb.resolve(c.url.replace(f.baseUrl,""),k);if(f.resources[l]||Object.values(f.resources).some(function(n){return Tb.format(Tb.parse(n.url))===m}))return"continue";f.add(l,m,{crossOrigin:c.crossOrigin,loadType:Xa.LOAD_TYPE.XHR,
xhrType:Xa.XHR_RESPONSE_TYPE.JSON,parentResource:c})},e=0;e<h.length;e++)b(h[e]);h={crossOrigin:c.crossOrigin,metadata:c.metadata.imageMetadata,parentResource:c};b=d.getResourcePath(c,f.baseUrl);f.add(g,b,h,function(k){if(k.error)a(k.error);else{var l=new tg(k.texture,c.data,c.url);l.parse(function(){c.spritesheet=l;c.textures=l.textures;a()})}})}else a()};d.getResourcePath=function(c,a){return c.isDataUrl?c.data.meta.image:Tb.resolve(c.url.replace(a,""),c.data.meta.image)};return d}(),Jd=function(d,
c){Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Jd(d,c)},Dc=new Ia,Di=function(d){function c(a,b,e){void 0===b&&(b=100);void 0===e&&(e=100);var f=d.call(this,a)||this;f.tileTransform=new xe;f._width=b;f._height=e;f.uvMatrix=f.texture.uvMatrix||new Wc(a);f.pluginName="tilingSprite";f.uvRespectAnchor=!1;return f}Ef(c,d);Object.defineProperty(c.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},
set:function(a){this.uvMatrix.clampMargin=a;this.uvMatrix.update(!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copyFrom(a)},enumerable:!1,configurable:!0});c.prototype._onTextureUpdate=
function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture);this._cachedTint=16777215};c.prototype._render=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};c.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-
this._anchor._y))};c.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new xa),a=this._localBoundsRect),this._bounds.getRectangle(a)):d.prototype.getLocalBounds.call(this,a)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,
Dc);var b=this._width;a=this._height;var e=-b*this.anchor._x;return Dc.x>=e&&Dc.x<e+b&&(b=-a*this.anchor._y,Dc.y>=b&&Dc.y<b+a)?!0:!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,a);this.uvMatrix=this.tileTransform=null};c.from=function(a,b){return new c(ra.from(a,b),b.width,b.height)};Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._height},
set:function(a){this._height=a},enumerable:!1,configurable:!0});return c}(cc),ld=new La,yg=function(d){function c(a){a=d.call(this,a)||this;var b={globals:a.renderer.globalUniforms};a.shader=yb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",b);a.simpleShader=yb.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",b);a.quad=new le;a.state=zb.for2d();return a}Ef(c,d);c.prototype.render=function(a){var b=this.renderer,e=this.quad,f=e.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);var g=a.uvRespectAnchor?a.anchor.x:0,h=
a.uvRespectAnchor?a.anchor.y:0;f=e.uvs;f[0]=f[6]=-g;f[1]=f[3]=-h;f[2]=f[4]=1-g;f[5]=f[7]=1-h;e.invalidate();f=a._texture;g=f.baseTexture;h=a.tileTransform.localTransform;var k=a.uvMatrix,l=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;l&&(g._glTextures[b.CONTEXT_UID]?l=g.wrapMode!==qb.CLAMP:g.wrapMode===qb.CLAMP&&(g.wrapMode=qb.REPEAT));var m=l?this.simpleShader:this.shader,n=f.width,p=f.height,v=a._width,E=a._height;ld.set(h.a*n/v,h.b*n/E,h.c*p/v,h.d*p/E,h.tx/v,h.ty/E);ld.invert();
l?ld.prepend(k.mapCoord):(m.uniforms.uMapCoord=k.mapCoord.toArray(!0),m.uniforms.uClampFrame=k.uClampFrame,m.uniforms.uClampOffset=k.uClampOffset);m.uniforms.uTransform=ld.toArray(!0);m.uniforms.uColor=F(a.tint,a.worldAlpha,m.uniforms.uColor,g.alphaMode);m.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);m.uniforms.uSampler=f;b.shader.bind(m);b.geometry.bind(e);this.state.blendMode=D(a.blendMode,g.alphaMode);b.state.set(this.state);b.geometry.draw(this.renderer.gl.TRIANGLES,6,0)};
return c}(tc),Ld=function(d,c){Ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Ld(d,c)},ig=function(){function d(c,a){this.uvBuffer=c;this.uvMatrix=a;this.data=null;this._textureUpdateId=this._bufferUpdateId=-1;this._updateID=0}d.prototype.update=function(c){if(c||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID)this._bufferUpdateId=this.uvBuffer._updateID,
this._textureUpdateId=this.uvMatrix._updateID,c=this.uvBuffer.data,this.data&&this.data.length===c.length||(this.data=new Float32Array(c.length)),this.uvMatrix.multiplyUvs(c,this.data),this._updateID++};return d}(),bf=new Ia,yh=new vc,ac=function(d){function c(a,b,e,f){void 0===f&&(f=Wa.TRIANGLES);var g=d.call(this)||this;g.geometry=a;a.refCount++;g.shader=b;g.state=e||zb.for2d();g.drawMode=f;g.start=0;g.size=0;g.uvs=null;g.indices=null;g.vertexData=new Float32Array(1);g.vertexDirty=0;g._transformID=
-1;g._roundPixels=na.ROUND_PIXELS;g.batchUvs=null;return g}Kd(c,d);Object.defineProperty(c.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"material",{get:function(){return this.shader},set:function(a){this.shader=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"blendMode",{get:function(){return this.state.blendMode},set:function(a){this.state.blendMode=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){this._roundPixels!==a&&(this._transformID=-1);this._roundPixels=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(a){this.shader.tint=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(a){this.shader.texture=a},enumerable:!1,configurable:!0});c.prototype._render=function(a){var b=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Wa.TRIANGLES&&b.length<2*c.BATCHABLE_SIZE?this._renderToBatch(a):this._renderDefault(a)};c.prototype._renderDefault=function(a){var b=this.shader;b.alpha=this.worldAlpha;b.update&&b.update();a.batch.flush();
b.program.uniformData.translationMatrix&&(b.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0));a.shader.bind(b);a.state.set(this.state);a.geometry.bind(this.geometry,b);a.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)};c.prototype._renderToBatch=function(a){var b=this.geometry,e=this.shader;e.uvMatrix&&(e.uvMatrix.update(),this.calculateUvs());this.calculateVertices();this.indices=b.indexBuffer.data;this._tintRGB=e._tintRGB;this._texture=e.texture;
b=this.material.pluginName;a.batch.setObjectRenderer(a.plugins[b]);a.plugins[b].render(this)};c.prototype.calculateVertices=function(){var a=this.geometry,b=a.buffers[0].data;if(a.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;this.vertexData.length!==b.length&&(this.vertexData=new Float32Array(b.length));var e=this.transform.worldTransform,f=e.a,g=e.b,h=e.c,k=e.d,l=e.tx,m=e.ty;e=this.vertexData;for(var n=0;n<e.length/2;n++){var p=
b[2*n],v=b[2*n+1];e[2*n]=f*p+h*v+l;e[2*n+1]=g*p+k*v+m}if(this._roundPixels)for(b=na.RESOLUTION,n=0;n<e.length;++n)e[n]=Math.round((e[n]*b|0)/b);this.vertexDirty=a.vertexDirtyId}};c.prototype.calculateUvs=function(){var a=this.geometry.buffers[1],b=this.shader;b.uvMatrix.isSimple?this.uvs=a.data:(this.batchUvs||(this.batchUvs=new ig(a,b.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)};c.prototype._calculateBounds=function(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,
0,this.vertexData.length)};c.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,bf);a=this.geometry.getBuffer("aVertexPosition").data;for(var b=yh.points,e=this.geometry.getIndex().data,f=e.length,g=4===this.drawMode?3:1,h=0;h+2<f;h+=g){var k=2*e[h],l=2*e[h+1],m=2*e[h+2];b[0]=a[k];b[1]=a[k+1];b[2]=a[l];b[3]=a[l+1];b[4]=a[m];b[5]=a[m+1];if(yh.contains(bf.x,bf.y))return!0}return!1};c.prototype.destroy=function(a){d.prototype.destroy.call(this,
a);this.geometry.refCount--;0===this.geometry.refCount&&this.geometry.dispose();this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null);this.vertexData=this.indices=this.uvs=this.state=this.shader=this.geometry=null};c.BATCHABLE_SIZE=100;return c}(ab),sc=function(d){function c(a,b){var e={uSampler:a,alpha:1,uTextureMatrix:La.IDENTITY,uColor:new Float32Array([1,1,1,1])};b=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},b);b.uniforms&&Object.assign(e,b.uniforms);e=d.call(this,
b.program||wc.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),
e)||this;e._colorDirty=!1;e.uvMatrix=new Wc(a);e.batchable=void 0===b.program;e.pluginName=b.pluginName;e.tint=b.tint;e.alpha=b.alpha;return e}Kd(c,d);Object.defineProperty(c.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(a){this.uniforms.uSampler!==a&&(this.uniforms.uSampler=a,this.uvMatrix.texture=a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"alpha",{get:function(){return this._alpha},set:function(a){a!==this._alpha&&(this._alpha=a,this._colorDirty=
!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){a!==this._tint&&(this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0});c.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,F(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode));this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)};return c}(yb),
rc=function(d){function c(a,b,e){var f=d.call(this)||this;a=new Na(a);b=new Na(b,!0);e=new Na(e,!0,!0);f.addAttribute("aVertexPosition",a,2,!1,Ca.FLOAT).addAttribute("aTextureCoord",b,2,!1,Ca.FLOAT).addIndex(e);f._updateId=-1;return f}Kd(c,d);Object.defineProperty(c.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0});return c}($b),Md=function(d,c){Md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Md(d,c)},oc=function(){return function(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=[]}}(),yj=function(){function d(){}d.test=function(c){return"string"===typeof c&&0===c.indexOf("info face=")};d.parse=function(c){c=c.match(/^[a-z]+\s+.+$/gm);var a={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]},b;for(b in c){var e=c[b].match(/^[a-z]+/gm)[0],f=c[b].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),g={},
h;for(h in f){var k=f[h].split("="),l=k[0];k=k[1].replace(/"/gm,"");var m=parseFloat(k);k=isNaN(m)?k:m;g[l]=k}a[e].push(g)}var n=new oc;a.info.forEach(function(p){return n.info.push({face:p.face,size:parseInt(p.size,10)})});a.common.forEach(function(p){return n.common.push({lineHeight:parseInt(p.lineHeight,10)})});a.page.forEach(function(p){return n.page.push({id:parseInt(p.id,10),file:p.file})});a.char.forEach(function(p){return n.char.push({id:parseInt(p.id,10),page:parseInt(p.page,10),x:parseInt(p.x,
10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xoffset:parseInt(p.xoffset,10),yoffset:parseInt(p.yoffset,10),xadvance:parseInt(p.xadvance,10)})});a.kerning.forEach(function(p){return n.kerning.push({first:parseInt(p.first,10),second:parseInt(p.second,10),amount:parseInt(p.amount,10)})});return n};return d}(),cf=function(){function d(){}d.test=function(c){return c instanceof XMLDocument&&c.getElementsByTagName("page").length&&null!==c.getElementsByTagName("info")[0].getAttribute("face")};
d.parse=function(c){var a=new oc,b=c.getElementsByTagName("info"),e=c.getElementsByTagName("common"),f=c.getElementsByTagName("page"),g=c.getElementsByTagName("char");c=c.getElementsByTagName("kerning");for(var h=0;h<b.length;h++)a.info.push({face:b[h].getAttribute("face"),size:parseInt(b[h].getAttribute("size"),10)});for(h=0;h<e.length;h++)a.common.push({lineHeight:parseInt(e[h].getAttribute("lineHeight"),10)});for(h=0;h<f.length;h++)a.page.push({id:parseInt(f[h].getAttribute("id"),10)||0,file:f[h].getAttribute("file")});
for(h=0;h<g.length;h++)b=g[h],a.char.push({id:parseInt(b.getAttribute("id"),10),page:parseInt(b.getAttribute("page"),10)||0,x:parseInt(b.getAttribute("x"),10),y:parseInt(b.getAttribute("y"),10),width:parseInt(b.getAttribute("width"),10),height:parseInt(b.getAttribute("height"),10),xoffset:parseInt(b.getAttribute("xoffset"),10),yoffset:parseInt(b.getAttribute("yoffset"),10),xadvance:parseInt(b.getAttribute("xadvance"),10)});for(h=0;h<c.length;h++)a.kerning.push({first:parseInt(c[h].getAttribute("first"),
10),second:parseInt(c[h].getAttribute("second"),10),amount:parseInt(c[h].getAttribute("amount"),10)});return a};return d}(),zj=function(){function d(){}d.test=function(c){return"string"===typeof c&&-1<c.indexOf("<font>")?(c=(new self.DOMParser).parseFromString(c,"text/xml"),cf.test(c)):!1};d.parse=function(c){c=(new self.DOMParser).parseFromString(c,"text/xml");return cf.parse(c)};return d}(),Nd=[yj,cf,zj],Yb=function(){function d(c,a,b){var e=c.info[0],f=c.common[0],g=kc(c.page[0].file),h={};this._ownsTextures=
b;this.font=e.face;this.size=e.size;this.lineHeight=f.lineHeight/g;this.chars={};this.pageTextures=h;for(b=0;b<c.page.length;b++)f=c.page[b],e=f.id,f=f.file,h[e]=a instanceof Array?a[b]:a[f];for(b=0;b<c.char.length;b++){a=c.char[b];e=a.id;a=a.page;var k=c.char[b],l=k.x,m=k.y,n=k.width,p=k.height;f=k.xoffset;var v=k.yoffset;k=k.xadvance;l/=g;m/=g;n/=g;p/=g;f/=g;v/=g;k/=g;l=new xa(l+h[a].frame.x/g,m+h[a].frame.y/g,n,p);this.chars[e]={xOffset:f,yOffset:v,xAdvance:k,kerning:{},texture:new ra(h[a].baseTexture,
l),page:a}}for(b=0;b<c.kerning.length;b++)a=c.kerning[b],h=a.first,e=a.second,a=a.amount,h/=g,e/=g,a/=g,this.chars[e]&&(this.chars[e].kerning[h]=a)}d.prototype.destroy=function(){for(var c in this.chars)this.chars[c].texture.destroy(),this.chars[c].texture=null;for(c in this.pageTextures)this._ownsTextures&&this.pageTextures[c].destroy(!0),this.pageTextures[c]=null;this.pageTextures=this.chars=null};d.install=function(c,a,b){if(!(c instanceof oc)){var e=Ff(c);if(!e)throw Error("Unrecognized data format for font.");
c=e.parse(c)}a instanceof ra&&(a=[a]);a=new d(c,a,b);return d.available[a.font]=a};d.uninstall=function(c){var a=d.available[c];if(!a)throw Error("No font found named '"+c+"'");a.destroy();delete d.available[c]};d.from=function(c,a,b){if(!c)throw Error("[BitmapFont] Property `name` is required.");b=Object.assign({},d.defaultOptions,b);var e=b.padding,f=b.resolution,g=b.textureWidth,h=b.textureHeight,k=b.chars;"string"===typeof k&&(k=[k]);b=[];for(var l=0,m=k.length;l<m;l++){var n=k[l];if(Array.isArray(n)){if(2!==
n.length)throw Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var p=n[0].charCodeAt(0);n=n[1].charCodeAt(0);if(n<p)throw Error("[BitmapFont]: Invalid character range.");for(;p<=n;p++)b.push(String.fromCharCode(p))}else b.push.apply(b,n.split(""))}if(0===b.length)throw Error("[BitmapFont]: Empty set when resolving characters.");m=a instanceof Hb?a:new Hb(a);a=new oc;a.info[0]={face:m.fontFamily,size:m.fontSize};a.common[0]={lineHeight:m.fontSize};n=p=0;var v=0;
k=[];for(l=0;l<b.length;l++){if(!E){var E=document.createElement("canvas");E.width=g;E.height=h;var J=E.getContext("2d");var T=new za(E,{resolution:f});k.push(new ra(T));a.page.push({id:k.length-1,file:""})}var ka=Ua.measureText(b[l],m,!1,E);T=ka.width;var aa=Math.ceil(ka.height),ja=Math.ceil(("italic"===m.fontStyle?2:1)*T);if(n>=h-aa*f){if(0===n)throw Error("[BitmapFont] textureHeight "+h+"px is too small for "+(m.fontSize+"px fonts"));--l;J=E=null;v=p=n=0}else if(v=Math.max(aa+ka.fontProperties.descent,
v),ja*f+p>=g)--l,n+=v*f,n=Math.ceil(n),v=p=0;else{var oa=E,O=J,ha=ka,Q=f,da=m,Ba=ha.text,Ja=ha.fontProperties;O.translate(p,n);O.scale(Q,Q);var Ea=da.strokeThickness/2,wa=-(da.strokeThickness/2);O.font=da.toFontString();O.lineWidth=da.strokeThickness;O.textBaseline=da.textBaseline;O.lineJoin=da.lineJoin;O.miterLimit=da.miterLimit;O.fillStyle=Gf(oa,O,da,Q,[Ba],ha);O.strokeStyle=da.stroke;O.font=da.toFontString();O.lineWidth=da.strokeThickness;O.textBaseline=da.textBaseline;O.lineJoin=da.lineJoin;O.miterLimit=
da.miterLimit;O.fillStyle=Gf(oa,O,da,Q,[Ba],ha);O.strokeStyle=da.stroke;oa=da.dropShadowColor;oa=ea("number"===typeof oa?oa:ia(oa));da.dropShadow?(O.shadowColor="rgba("+255*oa[0]+","+255*oa[1]+","+255*oa[2]+","+da.dropShadowAlpha+")",O.shadowBlur=da.dropShadowBlur,O.shadowOffsetX=Math.cos(da.dropShadowAngle)*da.dropShadowDistance,O.shadowOffsetY=Math.sin(da.dropShadowAngle)*da.dropShadowDistance):(O.shadowColor="black",O.shadowBlur=0,O.shadowOffsetX=0,O.shadowOffsetY=0);da.stroke&&da.strokeThickness&&
O.strokeText(Ba,Ea,wa+ha.lineHeight-Ja.descent);da.fill&&O.fillText(Ba,Ea,wa+ha.lineHeight-Ja.descent);O.setTransform(1,0,0,1,0,0);O.fillStyle="rgba(0, 0, 0, 0)";ka=ka.text.charCodeAt(0);a.char.push({id:ka,page:k.length-1,x:p/f,y:n/f,width:ja,height:aa,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0))});p+=(ja+2*e)*f;p=Math.ceil(p)}}l=0;for(E=b.length;l<E;l++)for(e=b[l],f=0;f<E;f++)g=b[f],h=J.measureText(e).width,m=J.measureText(g).width,
(h=J.measureText(e+g).width-(h+m))&&a.kerning.push({first:e.charCodeAt(0),second:g.charCodeAt(0),amount:h});J=new d(a,k,!0);void 0!==d.available[c]&&d.uninstall(c);return d.available[c]=J};d.ALPHA=[["a","z"],["A","Z"]," "];d.NUMERIC=[["0","9"]];d.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];d.ASCII=[[" ","~"]];d.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:d.ALPHANUMERIC};d.available={};return d}(),zh=[],Ah=[],xi=function(d){function c(a,b){void 0===b&&(b={});
var e=d.call(this)||this;e._tint=16777215;var f=Object.assign({},c.styleDefaults,b);b=f.align;var g=f.tint,h=f.maxWidth,k=f.letterSpacing,l=f.fontName;f=f.fontSize;if(!Yb.available[l])throw Error('Missing BitmapFont "'+l+'"');e._activePagesMeshData=[];e._textWidth=0;e._textHeight=0;e._align=b;e._tint=g;e._fontName=l;e._fontSize=f||Yb.available[l].size;e._text=a;e._maxWidth=h;e._maxLineHeight=0;e._letterSpacing=k;e._anchor=new Jb(function(){e.dirty=!0},e,0,0);e._roundPixels=na.ROUND_PIXELS;e.dirty=
!0;e._textureCache={};return e}pi(c,d);c.prototype.updateText=function(){for(var a,b=Yb.available[this._fontName],e=this._fontSize/b.size,f=new Ia,g=[],h=[],k=[],l=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",m=l.length,n=this._maxWidth*b.size/this._fontSize,p=null,v=0,E=0,J=0,T=-1,ka=0,aa=0,ja=0,oa=0,O=0;O<m;O++){var ha=l.charCodeAt(O),Q=l.charAt(O);/(?:\s)/.test(Q)&&(T=O,ka=v,oa++);if("\r"===Q||"\n"===Q)h.push(v),k.push(-1),E=Math.max(E,v),++J,++aa,f.x=0,f.y+=b.lineHeight,p=null,oa=0;else if(Q=
b.chars[ha])p&&Q.kerning[p]&&(f.x+=Q.kerning[p]),v=Ah.pop()||{texture:ra.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ia},v.texture=Q.texture,v.line=J,v.charCode=ha,v.position.x=f.x+Q.xOffset+this._letterSpacing/2,v.position.y=f.y+Q.yOffset,v.prevSpaces=oa,g.push(v),f.x+=Q.xAdvance+this._letterSpacing,v=f.x,ja=Math.max(ja,Q.yOffset+Q.texture.height),p=ha,-1!==T&&0<n&&f.x>n&&(++aa,sa(g,1+T-aa,1+O-T),O=T,T=-1,h.push(ka),k.push(0<g.length?g[g.length-1].prevSpaces:0),E=Math.max(E,ka),J++,f.x=0,f.y+=
b.lineHeight,p=null,oa=0)}O=l.charAt(l.length-1);"\r"!==O&&"\n"!==O&&(/(?:\s)/.test(O)&&(v=ka),h.push(v),E=Math.max(E,v),k.push(-1));ka=[];for(O=0;O<=J;O++)Q=0,"right"===this._align?Q=E-h[O]:"center"===this._align?Q=(E-h[O])/2:"justify"===this._align&&(Q=0>k[O]?0:(E-h[O])/k[O]),ka.push(Q);k=g.length;h={};l=[];m=this._activePagesMeshData;for(O=0;O<m.length;O++)zh.push(m[O]);for(O=0;O<k;O++)J=g[O].texture,n=J.baseTexture.uid,h[n]||(Q=zh.pop(),Q||(Q=new rc,v=new sc(ra.EMPTY),Q={index:0,indexCount:0,
vertexCount:0,uvsCount:0,total:0,mesh:new ac(Q,v),vertices:null,uvs:null,indices:null}),Q.index=0,Q.indexCount=0,Q.vertexCount=0,Q.uvsCount=0,Q.total=0,v=this._textureCache,v[n]=v[n]||new ra(J.baseTexture),Q.mesh.texture=v[n],Q.mesh.tint=this._tint,l.push(Q),h[n]=Q),h[n].total++;for(O=0;O<m.length;O++)-1===l.indexOf(m[O])&&this.removeChild(m[O].mesh);for(O=0;O<l.length;O++)l[O].mesh.parent!==this&&this.addChild(l[O].mesh);this._activePagesMeshData=l;for(O in h){Q=h[O];J=Q.total;if(!((null===(a=Q.indices)||
void 0===a?void 0:a.length)>6*J)||Q.vertices.length<2*ac.BATCHABLE_SIZE)Q.vertices=new Float32Array(8*J),Q.uvs=new Float32Array(8*J),Q.indices=new Uint16Array(6*J);else for(l=Q.vertices,m=8*Q.total;m<l.length;m++)l[m]=0;Q.mesh.size=6*J}for(O=0;O<k;O++)Q=g[O],a=Q.position.x+ka[Q.line]*("justify"===this._align?Q.prevSpaces:1),this._roundPixels&&(a=Math.round(a)),a*=e,l=Q.position.y*e,J=Q.texture,Q=h[J.baseTexture.uid],m=J.frame,J=J._uvs,n=Q.index++,Q.indices[6*n]=4*n,Q.indices[6*n+1]=1+4*n,Q.indices[6*
n+2]=2+4*n,Q.indices[6*n+3]=4*n,Q.indices[6*n+4]=2+4*n,Q.indices[6*n+5]=3+4*n,Q.vertices[8*n]=a,Q.vertices[8*n+1]=l,Q.vertices[8*n+2]=a+m.width*e,Q.vertices[8*n+3]=l,Q.vertices[8*n+4]=a+m.width*e,Q.vertices[8*n+5]=l+m.height*e,Q.vertices[8*n+6]=a,Q.vertices[8*n+7]=l+m.height*e,Q.uvs[8*n]=J.x0,Q.uvs[8*n+1]=J.y0,Q.uvs[8*n+2]=J.x1,Q.uvs[8*n+3]=J.y1,Q.uvs[8*n+4]=J.x2,Q.uvs[8*n+5]=J.y2,Q.uvs[8*n+6]=J.x3,Q.uvs[8*n+7]=J.y3;this._textWidth=E*e;this._textHeight=(f.y+b.lineHeight)*e;for(O in h){Q=h[O];if(0!==
this.anchor.x||0!==this.anchor.y)for(b=0,f=this._textWidth*this.anchor.x,E=this._textHeight*this.anchor.y,a=0;a<Q.total;a++)Q.vertices[b++]-=f,Q.vertices[b++]-=E,Q.vertices[b++]-=f,Q.vertices[b++]-=E,Q.vertices[b++]-=f,Q.vertices[b++]-=E,Q.vertices[b++]-=f,Q.vertices[b++]-=E;this._maxLineHeight=ja*e;b=Q.mesh.geometry.getBuffer("aVertexPosition");f=Q.mesh.geometry.getBuffer("aTextureCoord");E=Q.mesh.geometry.getIndex();b.data=Q.vertices;f.data=Q.uvs;E.data=Q.indices;b.update();f.update();E.update()}for(O=
0;O<g.length;O++)Ah.push(g[O])};c.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};c.prototype.getLocalBounds=function(){this.validate();return d.prototype.getLocalBounds.call(this)};c.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};Object.defineProperty(c.prototype,"tint",{get:function(){return this._tint},set:function(a){if(this._tint!==a){this._tint=a;for(var b=0;b<this._activePagesMeshData.length;b++)this._activePagesMeshData[b].mesh.tint=
a}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"align",{get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fontName",{get:function(){return this._fontName},set:function(a){if(!Yb.available[a])throw Error('Missing BitmapFont "'+a+'"');this._fontName!==a&&(this._fontName=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fontSize",
{get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"anchor",{get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copyFrom(a)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(a){a=String(null===a||void 0===a?"":a);this._text!==a&&(this._text=a,this.dirty=
!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"maxLineHeight",{get:function(){this.validate();return this._maxLineHeight},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textWidth",{get:function(){this.validate();return this._textWidth},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"letterSpacing",{get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(a){a!==this._roundPixels&&(this._roundPixels=a,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textHeight",{get:function(){this.validate();return this._textHeight},enumerable:!1,configurable:!0});
c.prototype.destroy=function(a){var b=this._textureCache,e;for(e in b)b[e].destroy(),delete b[e];this._textureCache=null;d.prototype.destroy.call(this,a)};c.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};return c}(ab),Qf=function(){function d(){}d.add=function(){Xa.setExtensionXhrType("fnt",Xa.XHR_RESPONSE_TYPE.TEXT)};d.use=function(c,a){var b=Ff(c.data);if(b){var e=d.getBaseUrl(this,c),f=b.parse(c.data),g={};b=function(v){g[v.metadata.pageFile]=v.texture;Object.keys(g).length===
f.page.length&&(c.bitmapFont=Yb.install(f,g,!0),a())};for(var h=0;h<f.page.length;++h){var k=f.page[h].file,l=e+k,m=!1,n;for(n in this.resources){var p=this.resources[n];if(p.url===l){p.metadata.pageFile=k;p.texture?b(p):p.onAfterMiddleware.add(b);m=!0;break}}m||(k={crossOrigin:c.crossOrigin,loadType:Xa.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:k},c.metadata.imageMetadata),parentResource:c},this.add(l,k,b))}}else a()};d.getBaseUrl=function(c,a){var b=a.isDataUrl?"":d.dirname(a.url);a.isDataUrl&&
("."===b&&(b=""),c.baseUrl&&b&&"/"===c.baseUrl.charAt(c.baseUrl.length-1)&&(b+="/"));(b=b.replace(c.baseUrl,""))&&"/"!==b.charAt(b.length-1)&&(b+="/");return b};d.dirname=function(c){var a=c.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return a===c?".":""===a?"/":a};return d}(),Od=function(d,c){Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Od(d,c)},Aj=function(d){function c(a){void 0===
a&&(a=1);var b=d.call(this,Ag,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;b.alpha=a;return b}qi(c,d);Object.defineProperty(c.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0});return c}(pb),Pd=function(d,c){Pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,
b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Pd(d,c)},Bj={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Bh;(function(d){d[d.WEBGL_LEGACY=0]="WEBGL_LEGACY";d[d.WEBGL=1]="WEBGL";d[d.WEBGL2=2]="WEBGL2"})(Bh||(Bh={}));var Ch;
(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.WEBGL=1]="WEBGL";d[d.CANVAS=2]="CANVAS"})(Ch||(Ch={}));var Dh;(function(d){d[d.COLOR=16384]="COLOR";d[d.DEPTH=256]="DEPTH";d[d.STENCIL=1024]="STENCIL"})(Dh||(Dh={}));var Eh;(function(d){d[d.NORMAL=0]="NORMAL";d[d.ADD=1]="ADD";d[d.MULTIPLY=2]="MULTIPLY";d[d.SCREEN=3]="SCREEN";d[d.OVERLAY=4]="OVERLAY";d[d.DARKEN=5]="DARKEN";d[d.LIGHTEN=6]="LIGHTEN";d[d.COLOR_DODGE=7]="COLOR_DODGE";d[d.COLOR_BURN=8]="COLOR_BURN";d[d.HARD_LIGHT=9]="HARD_LIGHT";d[d.SOFT_LIGHT=
10]="SOFT_LIGHT";d[d.DIFFERENCE=11]="DIFFERENCE";d[d.EXCLUSION=12]="EXCLUSION";d[d.HUE=13]="HUE";d[d.SATURATION=14]="SATURATION";d[d.COLOR=15]="COLOR";d[d.LUMINOSITY=16]="LUMINOSITY";d[d.NORMAL_NPM=17]="NORMAL_NPM";d[d.ADD_NPM=18]="ADD_NPM";d[d.SCREEN_NPM=19]="SCREEN_NPM";d[d.NONE=20]="NONE";d[d.SRC_OVER=0]="SRC_OVER";d[d.SRC_IN=21]="SRC_IN";d[d.SRC_OUT=22]="SRC_OUT";d[d.SRC_ATOP=23]="SRC_ATOP";d[d.DST_OVER=24]="DST_OVER";d[d.DST_IN=25]="DST_IN";d[d.DST_OUT=26]="DST_OUT";d[d.DST_ATOP=27]="DST_ATOP";
d[d.ERASE=26]="ERASE";d[d.SUBTRACT=28]="SUBTRACT";d[d.XOR=29]="XOR"})(Eh||(Eh={}));var Fh;(function(d){d[d.POINTS=0]="POINTS";d[d.LINES=1]="LINES";d[d.LINE_LOOP=2]="LINE_LOOP";d[d.LINE_STRIP=3]="LINE_STRIP";d[d.TRIANGLES=4]="TRIANGLES";d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Fh||(Fh={}));var Gh;(function(d){d[d.RGBA=6408]="RGBA";d[d.RGB=6407]="RGB";d[d.ALPHA=6406]="ALPHA";d[d.LUMINANCE=6409]="LUMINANCE";d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";d[d.DEPTH_COMPONENT=
6402]="DEPTH_COMPONENT";d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Gh||(Gh={}));var Hh;(function(d){d[d.TEXTURE_2D=3553]="TEXTURE_2D";d[d.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";d[d.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY";d[d.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";d[d.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";d[d.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";
d[d.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";d[d.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Hh||(Hh={}));var Ih;(function(d){d[d.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";d[d.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";d[d.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";d[d.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";d[d.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";d[d.FLOAT=5126]="FLOAT";d[d.HALF_FLOAT=36193]="HALF_FLOAT"})(Ih||(Ih={}));
var Jh;(function(d){d[d.NEAREST=0]="NEAREST";d[d.LINEAR=1]="LINEAR"})(Jh||(Jh={}));var Kh;(function(d){d[d.CLAMP=33071]="CLAMP";d[d.REPEAT=10497]="REPEAT";d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Kh||(Kh={}));var Lh;(function(d){d[d.OFF=0]="OFF";d[d.POW2=1]="POW2";d[d.ON=2]="ON";d[d.ON_MANUAL=3]="ON_MANUAL"})(Lh||(Lh={}));var Mh;(function(d){d[d.NPM=0]="NPM";d[d.UNPACK=1]="UNPACK";d[d.PMA=2]="PMA";d[d.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";d[d.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";
d[d.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Mh||(Mh={}));var Ec;(function(d){d[d.NO=0]="NO";d[d.YES=1]="YES";d[d.AUTO=2]="AUTO";d[d.BLEND=0]="BLEND";d[d.CLEAR=1]="CLEAR";d[d.BLIT=2]="BLIT"})(Ec||(Ec={}));var Nh;(function(d){d[d.AUTO=0]="AUTO";d[d.MANUAL=1]="MANUAL"})(Nh||(Nh={}));var Oh;(function(d){d.LOW="lowp";d.MEDIUM="mediump";d.HIGH="highp"})(Oh||(Oh={}));var Ph;(function(d){d[d.NONE=0]="NONE";d[d.SCISSOR=1]="SCISSOR";d[d.STENCIL=2]="STENCIL";d[d.SPRITE=3]="SPRITE"})(Ph||(Ph={}));var Qh;(function(d){d[d.NONE=
0]="NONE";d[d.LOW=2]="LOW";d[d.MEDIUM=4]="MEDIUM";d[d.HIGH=8]="HIGH"})(Qh||(Qh={}));var df=function(d){function c(a,b,e,f,g){void 0===b&&(b=8);void 0===e&&(e=4);void 0===f&&(f=na.FILTER_RESOLUTION);void 0===g&&(g=5);var h=g;var k=Math.ceil(h/2),l="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",
m="";var n=a?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var p=0;p<h;p++){var v=n.replace("%index%",p.toString());v=v.replace("%sampleIndex%",p-(k-1)+".0");m+=v;m+="\n"}l=l.replace("%blur%",m);h=l=l.replace("%size%",h.toString());k=Bj[g];l=k.length;m="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}";
n="";for(v=0;v<g;v++){var E="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",v.toString());p=v;v>=l&&(p=g-v-1);E=E.replace("%value%",k[p].toString());n+=E;n+="\n"}m=m.replace("%blur%",n);m=m.replace("%size%",g.toString());h=d.call(this,h,m)||this;h.horizontal=a;h.resolution=f;h._quality=0;h.quality=e;h.blur=b;return h}Hf(c,d);c.prototype.apply=function(a,b,e,f){this.uniforms.strength=e?this.horizontal?1/e.width*(e.width/b.width):1/e.height*(e.height/b.height):
this.horizontal?1/a.renderer.width*(a.renderer.width/b.width):1/a.renderer.height*(a.renderer.height/b.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,b,e,f);else{var g=a.getFilterTexture(),h=a.renderer,k=g;this.state.blend=!1;a.applyFilter(this,b,k,Ec.CLEAR);for(var l=1;l<this.passes-1;l++){a.bindAndClear(b,Ec.BLIT);var m=this.uniforms.uSampler=k;k=b;b=m;h.shader.bind(this);h.geometry.draw(5)}this.state.blend=!0;a.applyFilter(this,
k,e,f);a.returnFilterTexture(g)}};Object.defineProperty(c.prototype,"blur",{get:function(){return this.strength},set:function(a){this.padding=1+2*Math.abs(a);this.strength=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"quality",{get:function(){return this._quality},set:function(a){this.passes=this._quality=a},enumerable:!1,configurable:!0});return c}(pb),Cj=function(d){function c(a,b,e,f){void 0===a&&(a=8);void 0===b&&(b=4);void 0===e&&(e=na.FILTER_RESOLUTION);void 0===f&&(f=
5);var g=d.call(this)||this;g.blurXFilter=new df(!0,a,b,e,f);g.blurYFilter=new df(!1,a,b,e,f);g.resolution=e;g.quality=b;g.blur=a;g.repeatEdgePixels=!1;return g}Hf(c,d);c.prototype.apply=function(a,b,e,f){var g=Math.abs(this.blurYFilter.strength);Math.abs(this.blurXFilter.strength)&&g?(g=a.getFilterTexture(),this.blurXFilter.apply(a,b,g,Ec.CLEAR),this.blurYFilter.apply(a,g,e,f),a.returnFilterTexture(g)):g?this.blurYFilter.apply(a,b,e,f):this.blurXFilter.apply(a,b,e,f)};c.prototype.updatePadding=function(){this.padding=
this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))};Object.defineProperty(c.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(a){this.blurYFilter.blendMode=
a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(a){this._repeatEdgePixels=a;this.updatePadding()},enumerable:!1,configurable:!0});return c}(pb),Qd=function(d,c){Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Qd(d,c)},ef=function(d){function c(){var a={m:new Float32Array([1,0,0,0,0,0,1,0,0,
0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};a=d.call(this,ze,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",
a)||this;a.alpha=1;return a}ri(c,d);c.prototype._loadMatrix=function(a,b){void 0===b&&(b=!1);var e=a;b&&(this._multiply(e,this.uniforms.m,a),e=this._colorMatrix(e));this.uniforms.m=e};c.prototype._multiply=function(a,b,e){a[0]=b[0]*e[0]+b[1]*e[5]+b[2]*e[10]+b[3]*e[15];a[1]=b[0]*e[1]+b[1]*e[6]+b[2]*e[11]+b[3]*e[16];a[2]=b[0]*e[2]+b[1]*e[7]+b[2]*e[12]+b[3]*e[17];a[3]=b[0]*e[3]+b[1]*e[8]+b[2]*e[13]+b[3]*e[18];a[4]=b[0]*e[4]+b[1]*e[9]+b[2]*e[14]+b[3]*e[19]+b[4];a[5]=b[5]*e[0]+b[6]*e[5]+b[7]*e[10]+b[8]*
e[15];a[6]=b[5]*e[1]+b[6]*e[6]+b[7]*e[11]+b[8]*e[16];a[7]=b[5]*e[2]+b[6]*e[7]+b[7]*e[12]+b[8]*e[17];a[8]=b[5]*e[3]+b[6]*e[8]+b[7]*e[13]+b[8]*e[18];a[9]=b[5]*e[4]+b[6]*e[9]+b[7]*e[14]+b[8]*e[19]+b[9];a[10]=b[10]*e[0]+b[11]*e[5]+b[12]*e[10]+b[13]*e[15];a[11]=b[10]*e[1]+b[11]*e[6]+b[12]*e[11]+b[13]*e[16];a[12]=b[10]*e[2]+b[11]*e[7]+b[12]*e[12]+b[13]*e[17];a[13]=b[10]*e[3]+b[11]*e[8]+b[12]*e[13]+b[13]*e[18];a[14]=b[10]*e[4]+b[11]*e[9]+b[12]*e[14]+b[13]*e[19]+b[14];a[15]=b[15]*e[0]+b[16]*e[5]+b[17]*e[10]+
b[18]*e[15];a[16]=b[15]*e[1]+b[16]*e[6]+b[17]*e[11]+b[18]*e[16];a[17]=b[15]*e[2]+b[16]*e[7]+b[17]*e[12]+b[18]*e[17];a[18]=b[15]*e[3]+b[16]*e[8]+b[17]*e[13]+b[18]*e[18];a[19]=b[15]*e[4]+b[16]*e[9]+b[17]*e[14]+b[18]*e[19]+b[19];return a};c.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};c.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};c.prototype.greyscale=function(a,b){this._loadMatrix([a,
a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};c.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};c.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var e=Math.cos(a);a=Math.sin(a);var f=Math.sqrt,g=1/3;f=f(g);this._loadMatrix([e+(1-e)*g,g*(1-e)-f*a,g*(1-e)+f*a,0,0,g*(1-e)+f*a,e+g*(1-e),g*(1-e)-f*a,0,0,g*(1-e)-f*a,g*(1-e)+f*a,e+g*(1-e),0,0,0,0,0,1,0],b)};c.prototype.contrast=function(a,b){a=(a||0)+1;var e=-.5*(a-1);this._loadMatrix([a,0,0,0,e,
0,a,0,0,e,0,0,a,0,e,0,0,0,1,0],b)};c.prototype.saturate=function(a,b){void 0===a&&(a=0);a=2*a/3+1;var e=-.5*(a-1);this._loadMatrix([a,e,e,0,0,e,a,e,0,0,e,e,a,0,0,0,0,0,1,0],b)};c.prototype.desaturate=function(){this.saturate(-1)};c.prototype.negative=function(a){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a)};c.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};c.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,
-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)};c.prototype.polaroid=function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)};c.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};c.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,
-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a)};c.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,
0,0,0,1,0],a)};c.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};c.prototype.colorTone=function(a,b,e,f,g){e=e||16770432;f=f||3375104;var h=(e>>16&255)/255,k=(e>>8&255)/255;e=(e&255)/255;var l=(f>>16&255)/255,m=(f>>8&255)/255;f=(f&255)/255;this._loadMatrix([.3,
.59,.11,0,0,h,k,e,a||.2,0,l,m,f,b||.15,0,h-l,k-m,e-f,0,0],g)};c.prototype.night=function(a,b){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],b)};c.prototype.predator=function(a,b){this._loadMatrix([11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],
b)};c.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};c.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperty(c.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a},enumerable:!1,configurable:!0});
return c}(pb);ef.prototype.grayscale=ef.prototype.greyscale;var Rd=function(d,c){Rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Rd(d,c)},Dj=function(d){function c(a,b){var e=new La;a.renderable=!1;var f=d.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",
{mapSampler:a._texture,filterMatrix:e,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this;f.maskSprite=a;f.maskMatrix=e;if(null===b||void 0===b)b=20;f.scale=new Ia(b,b);return f}si(c,d);c.prototype.apply=function(a,b,e,f){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;var g=this.maskSprite.worldTransform,h=Math.sqrt(g.a*g.a+g.b*g.b),k=Math.sqrt(g.c*g.c+g.d*g.d);0!==h&&0!==k&&(this.uniforms.rotation[0]=
g.a/h,this.uniforms.rotation[1]=g.b/h,this.uniforms.rotation[2]=g.c/k,this.uniforms.rotation[3]=g.d/k);a.applyFilter(this,b,e,f)};Object.defineProperty(c.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a},enumerable:!1,configurable:!0});return c}(pb),Sd=function(d,c){Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Sd(d,c)},Ej=function(d){function c(){return d.call(this,
"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||
this}ti(c,d);return c}(pb),Td=function(d,c){Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Td(d,c)},Fj=function(d){function c(a,b){void 0===a&&(a=.5);void 0===b&&(b=Math.random());var e=d.call(this,ze,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",
{uNoise:0,uSeed:0})||this;e.noise=a;e.seed=b;return e}ui(c,d);Object.defineProperty(c.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a},enumerable:!1,configurable:!0});return c}(pb),Db=new La;Ka.prototype._cacheAsBitmap=!1;Ka.prototype._cacheData=null;Ka.prototype._cacheAsBitmapResolution=null;
var Gj=function(){return function(){this.sprite=this.originalContainsPoint=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRender=this.textureCacheId=null}}();Object.defineProperties(Ka.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(d){d!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=d,this.cacheAsBitmap&&
(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(d){this._cacheAsBitmap!==d&&((this._cacheAsBitmap=d)?(this._cacheData||(this._cacheData=new Gj),d=this._cacheData,d.originalRender=this.render,d.originalRenderCanvas=this.renderCanvas,d.originalUpdateTransform=this.updateTransform,d.originalCalculateBounds=this.calculateBounds,d.originalGetLocalBounds=this.getLocalBounds,d.originalDestroy=this.destroy,d.originalContainsPoint=this.containsPoint,
d.originalMask=this._mask,d.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(d=this._cacheData,d.sprite&&this._destroyCachedDisplayObject(),this.render=d.originalRender,this.renderCanvas=d.originalRenderCanvas,this.calculateBounds=d.originalCalculateBounds,this.getLocalBounds=d.originalGetLocalBounds,this.destroy=d.originalDestroy,this.updateTransform=d.originalUpdateTransform,this.containsPoint=
d.originalContainsPoint,this._mask=d.originalMask,this.filterArea=d.originalFilterArea))}}});Ka.prototype._renderCached=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(d),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(d))};Ka.prototype._initCachedDisplayObject=function(d){if(!this._cacheData||!this._cacheData.sprite){var c=this.alpha;this.alpha=1;d.batch.flush();
var a=this.getLocalBounds(null,!0).clone();this.filters&&a.pad(this.filters[0].padding);a.ceil(na.RESOLUTION);var b=d.renderTexture.current,e=d.renderTexture.sourceFrame.clone(),f=d.renderTexture.destinationFrame.clone(),g=d.projection.transform,h=xb.create({width:a.width,height:a.height,resolution:this.cacheAsBitmapResolution||d.resolution}),k="cacheAsBitmap_"+ ++Fb;this._cacheData.textureCacheId=k;za.addToCache(h.baseTexture,k);ra.addToCache(h,k);k=this.transform.localTransform.copyTo(Db).invert().translate(-a.x,
-a.y);this.render=this._cacheData.originalRender;d.render(this,{renderTexture:h,clear:!0,transform:k,skipUpdateTransform:!1});d.projection.transform=g;d.renderTexture.bind(b,e,f);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;d=new cc(h);d.transform.worldTransform=this.transform.worldTransform;d.anchor.x=-(a.x/a.width);d.anchor.y=-(a.y/
a.height);d.alpha=c;d._bounds=this._bounds;this._cacheData.sprite=d;this.transform._parentID=-1;this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null));this.containsPoint=d.containsPoint.bind(d)}};Ka.prototype._renderCachedCanvas=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(d),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(d))};Ka.prototype._initCachedDisplayObjectCanvas=
function(d){if(!this._cacheData||!this._cacheData.sprite){var c=this.getLocalBounds(null,!0),a=this.alpha;this.alpha=1;var b=d.context,e=d._projTransform;c.ceil(na.RESOLUTION);var f=xb.create({width:c.width,height:c.height}),g="cacheAsBitmap_"+ ++Fb;this._cacheData.textureCacheId=g;za.addToCache(f.baseTexture,g);ra.addToCache(f,g);this.transform.localTransform.copyTo(Db);Db.invert();Db.tx-=c.x;Db.ty-=c.y;this.renderCanvas=this._cacheData.originalRenderCanvas;d.render(this,{renderTexture:f,clear:!0,
transform:Db,skipUpdateTransform:!1});d.context=b;d._projTransform=e;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;b=new cc(f);b.transform.worldTransform=this.transform.worldTransform;b.anchor.x=-(c.x/c.width);b.anchor.y=-(c.y/c.height);b.alpha=a;b._bounds=this._bounds;this._cacheData.sprite=b;this.transform._parentID=-1;
this.parent?this.updateTransform():(this.parent=d._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=b.containsPoint.bind(b)}};Ka.prototype._calculateCachedBounds=function(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};Ka.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ka.prototype._destroyCachedDisplayObject=
function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;za.removeFromCache(this._cacheData.textureCacheId);ra.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};Ka.prototype._cacheAsBitmapDestroy=function(d){this.cacheAsBitmap=!1;this.destroy(d)};Ka.prototype.name=null;ab.prototype.getChildByName=function(d,c){for(var a=0,b=this.children.length;a<b;a++)if(this.children[a].name===d)return this.children[a];if(c)for(a=0,b=this.children.length;a<
b;a++)if(this.children[a].getChildByName&&(c=this.children[a].getChildByName(d,!0)))return c;return null};Ka.prototype.getGlobalPosition=function(d,c){void 0===d&&(d=new Ia);void 0===c&&(c=!1);this.parent?this.parent.toGlobal(this.position,d,c):(d.x=this.position.x,d.y=this.position.y);return d};var Ud=function(d,c){Ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Ud(d,c)},kg=function(d){function c(a,
b,e,f){void 0===a&&(a=100);void 0===b&&(b=100);void 0===e&&(e=10);void 0===f&&(f=10);var g=d.call(this)||this;g.segWidth=e;g.segHeight=f;g.width=a;g.height=b;g.build();return g}Xb(c,d);c.prototype.build=function(){for(var a=this.segWidth*this.segHeight,b=[],e=[],f=[],g=this.segWidth-1,h=this.segHeight-1,k=this.width/g,l=this.height/h,m=0;m<a;m++){var n=m%this.segWidth,p=m/this.segWidth|0;b.push(n*k,p*l);e.push(n/g,p/h)}a=g*h;for(m=0;m<a;m++)h=m%g,k=m/g|0,l=k*this.segWidth+h+1,n=(k+1)*this.segWidth+
h,f.push(k*this.segWidth+h,l,n,l,(k+1)*this.segWidth+h+1,n);this.buffers[0].data=new Float32Array(b);this.buffers[1].data=new Float32Array(e);this.indexBuffer.data=new Uint16Array(f);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()};return c}(rc),pg=function(d){function c(a,b,e){void 0===a&&(a=200);void 0===e&&(e=0);var f=d.call(this,new Float32Array(4*b.length),new Float32Array(4*b.length),new Uint16Array(6*(b.length-1)))||this;f.points=b;f._width=a;f.textureScale=e;f.build();
return f}Xb(c,d);Object.defineProperty(c.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0});c.prototype.build=function(){var a=this.points;if(a){var b=this.getBuffer("aVertexPosition"),e=this.getBuffer("aTextureCoord"),f=this.getIndex();if(!(1>a.length)){b.data.length/4!==a.length&&(b.data=new Float32Array(4*a.length),e.data=new Float32Array(4*a.length),f.data=new Uint16Array(6*(a.length-1)));var g=e.data;b=f.data;g[0]=0;g[1]=0;g[2]=0;g[3]=1;for(var h=0,k=a[0],l=
this._width*this.textureScale,m=a.length,n=0;n<m;n++){var p=4*n;if(0<this.textureScale){var v=k.x-a[n].x;k=k.y-a[n].y;v=Math.sqrt(v*v+k*k);k=a[n];h+=v/l}else h=n/(m-1);g[p]=h;g[p+1]=0;g[p+2]=h;g[p+3]=1}for(n=a=0;n<m-1;n++)p=2*n,b[a++]=p,b[a++]=p+1,b[a++]=p+2,b[a++]=p+2,b[a++]=p+1,b[a++]=p+3;e.update();f.update();this.updateVertices()}}};c.prototype.updateVertices=function(){var a=this.points;if(!(1>a.length)){for(var b=a[0],e,f,g=this.buffers[0].data,h=a.length,k=0;k<h;k++){var l=a[k],m=4*k;e=k<a.length-
1?a[k+1]:l;f=-(e.x-b.x);b=e.y-b.y;e=Math.sqrt(b*b+f*f);var n=0<this.textureScale?this.textureScale*this._width/2:this._width/2;b/=e;f/=e;b*=n;f*=n;g[m]=l.x+b;g[m+1]=l.y+f;g[m+2]=l.x-b;g[m+3]=l.y-f;b=l}this.buffers[0].update()}};c.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()};return c}(rc),Ci=function(d){function c(a,b,e){void 0===e&&(e=0);b=new pg(a.height,b,e);var f=new sc(a);0<e&&(a.baseTexture.wrapMode=qb.REPEAT);a=d.call(this,b,f)||this;a.autoUpdate=!0;return a}
Xb(c,d);c.prototype._render=function(a){var b=this.geometry;if(this.autoUpdate||b._width!==this.shader.texture.height)b._width=this.shader.texture.height,b.update();d.prototype._render.call(this,a)};return c}(ac),rg=function(d){function c(a,b,e){b=new kg(a.width,a.height,b,e);e=new sc(ra.WHITE);b=d.call(this,b,e)||this;b.texture=a;return b}Xb(c,d);c.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var a=this.geometry;a.width=this.shader.texture.width;a.height=this.shader.texture.height;
a.build()};Object.defineProperty(c.prototype,"texture",{get:function(){return this.shader.texture},set:function(a){if(this.shader.texture!==a)if(this.shader.texture=a,this._textureID=-1,a.baseTexture.valid)this.textureUpdated();else a.once("update",this.textureUpdated,this)},enumerable:!1,configurable:!0});c.prototype._render=function(a){this._textureID!==this.shader.texture._updateID&&this.textureUpdated();d.prototype._render.call(this,a)};c.prototype.destroy=function(a){this.shader.texture.off("update",
this.textureUpdated,this);d.prototype.destroy.call(this,a)};return c}(ac),Bi=function(d){function c(a,b,e,f,g){void 0===a&&(a=ra.EMPTY);b=new rc(b,e,f);b.getBuffer("aVertexPosition").static=!1;a=new sc(a);g=d.call(this,b,a,null,g)||this;g.autoUpdate=!0;return g}Xb(c,d);Object.defineProperty(c.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0});c.prototype._render=
function(a){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update();d.prototype._render.call(this,a)};return c}(ac),zi=function(d){function c(a,b,e,f,g){void 0===b&&(b=10);void 0===e&&(e=10);void 0===f&&(f=10);void 0===g&&(g=10);var h=d.call(this,ra.WHITE,4,4)||this;h._origWidth=a.orig.width;h._origHeight=a.orig.height;h._width=h._origWidth;h._height=h._origHeight;h._leftWidth=b;h._rightWidth=f;h._topHeight=e;h._bottomHeight=g;h.texture=a;return h}Xb(c,d);c.prototype.textureUpdated=function(){this._textureID=
this.shader.texture._updateID;this._refresh()};Object.defineProperty(c.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(a){this.geometry.getBuffer("aVertexPosition").data=a},enumerable:!1,configurable:!0});c.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._getMinScale();a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=
function(){var a=this.vertices,b=this._getMinScale();a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._getMinScale=function(){var a=this._leftWidth+this._rightWidth,b=this._topHeight+this._bottomHeight;return Math.min(this._width>a?1:this._width/a,this._height>b?1:this._height/b)};Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a;this._refresh()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._height},set:function(a){this._height=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(a){this._leftWidth=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;this._refresh()},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"topHeight",{get:function(){return this._topHeight},set:function(a){this._topHeight=a;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a;this._refresh()},enumerable:!1,configurable:!0});c.prototype._refresh=function(){var a=this.texture,b=this.geometry.buffers[1].data;this._origWidth=a.orig.width;this._origHeight=
a.orig.height;a=1/this._origWidth;var e=1/this._origHeight;b[0]=b[8]=b[16]=b[24]=0;b[1]=b[3]=b[5]=b[7]=0;b[6]=b[14]=b[22]=b[30]=1;b[25]=b[27]=b[29]=b[31]=1;b[2]=b[10]=b[18]=b[26]=a*this._leftWidth;b[4]=b[12]=b[20]=b[28]=1-a*this._rightWidth;b[9]=b[11]=b[13]=b[15]=e*this._topHeight;b[17]=b[19]=b[21]=b[23]=1-e*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()};return c}(rg),Vd=function(d,c){Vd=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};return Vd(d,c)},wi=function(d){function c(a,b){void 0===b&&(b=!0);var e=d.call(this,a[0]instanceof ra?a[0]:a[0].texture)||this;e._textures=null;e._durations=null;e._autoUpdate=b;e._isConnectedToTicker=!1;e.animationSpeed=1;e.loop=!0;e.updateAnchor=!1;e.onComplete=null;e.onFrameChange=null;e.onLoop=null;e._currentTime=0;e._playing=!1;e._previousFrame=null;e.textures=a;return e}
vi(c,d);c.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Oa.shared.remove(this.update,this),this._isConnectedToTicker=!1))};c.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Oa.shared.add(this.update,this,kb.HIGH),this._isConnectedToTicker=!0))};c.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};c.prototype.gotoAndPlay=
function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();this.play()};c.prototype.update=function(a){if(this._playing){var b=this.animationSpeed*a,e=this.currentFrame;if(null!==this._durations){var f=this._currentTime%1*this._durations[this.currentFrame];for(f+=b/60*1E3;0>f;)this._currentTime--,f+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);f>=this._durations[this.currentFrame];)f-=
this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=f/this._durations[this.currentFrame]}else this._currentTime+=b;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(e!==this.currentFrame){if(this.loop&&this.onLoop)if(0<this.animationSpeed&&this.currentFrame<e)this.onLoop();else if(0>
this.animationSpeed&&this.currentFrame>e)this.onLoop();this.updateTexture()}}};c.prototype.updateTexture=function(){var a=this.currentFrame;if(this._previousFrame!==a&&(this._previousFrame=a,this._texture=this._textures[a],this._textureTrimmedID=this._textureID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange))this.onFrameChange(this.currentFrame)};c.prototype.destroy=function(a){this.stop();
d.prototype.destroy.call(this,a);this.onLoop=this.onFrameChange=this.onComplete=null};c.fromFrames=function(a){for(var b=[],e=0;e<a.length;++e)b.push(ra.from(a[e]));return new c(b)};c.fromImages=function(a){for(var b=[],e=0;e<a.length;++e)b.push(ra.from(a[e]));return new c(b)};Object.defineProperty(c.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textures",{get:function(){return this._textures},set:function(a){if(a[0]instanceof
ra)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this._previousFrame=null;this.gotoAndStop(0);this.updateTexture()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"currentFrame",{get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isConnectedToTicker?(Oa.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Oa.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});return c}(cc);
lb.registerPlugin("accessibility",Kf);lb.registerPlugin("extract",Yf);lb.registerPlugin("interaction",eg);lb.registerPlugin("particle",jg);lb.registerPlugin("prepare",lg);lb.registerPlugin("batch",Of);lb.registerPlugin("tilingSprite",yg);ib.registerPlugin(Qf);ib.registerPlugin(Tf);ib.registerPlugin(Vf);ib.registerPlugin(fg);ib.registerPlugin(ug);Mc.registerPlugin(xg);Mc.registerPlugin(Lf);var Fi={AlphaFilter:Aj,BlurFilter:Cj,BlurFilterPass:df,ColorMatrixFilter:ef,DisplacementFilter:Dj,FXAAFilter:Ej,
NoiseFilter:Fj}},350:function(t){t.exports=function(u,A,w,L){w=w||"=";var B={};if("string"!==typeof u||0===u.length)return B;var G=/\+/g;u=u.split(A||"&");A=1E3;L&&"number"===typeof L.maxKeys&&(A=L.maxKeys);L=u.length;0<A&&L>A&&(L=A);for(A=0;A<L;++A){var y=u[A].replace(G,"%20"),x=y.indexOf(w);if(0<=x){var I=y.substr(0,x);y=y.substr(x+1)}else I=y,y="";I=decodeURIComponent(I);y=decodeURIComponent(y);Object.prototype.hasOwnProperty.call(B,I)?Array.isArray(B[I])?B[I].push(y):B[I]=[B[I],y]:B[I]=y}return B}},
104:function(t){var u=function(A){switch(typeof A){case "string":return A;case "boolean":return A?"true":"false";case "number":return isFinite(A)?A:"";default:return""}};t.exports=function(A,w,L,B){w=w||"&";L=L||"=";null===A&&(A=void 0);return"object"===typeof A?Object.keys(A).map(function(G){var y=encodeURIComponent(u(G))+L;return Array.isArray(A[G])?A[G].map(function(x){return y+encodeURIComponent(u(x))}).join(w):y+encodeURIComponent(u(A[G]))}).join(w):B?encodeURIComponent(u(B))+L+encodeURIComponent(u(A)):
""}},966:function(t,u,A){u.decode=u.parse=A(350);u.encode=u.stringify=A(104)},947:function(t,u,A){A.r(u);A.d(u,{"default":function(){return w}});t=A(892);t=A.n(t);A=A(660);t()(A.Z,{insert:"head",singleton:!1});var w=A.Z.locals||{}},892:function(t,u,A){function w(W){for(var ea=-1,Y=0;Y<K.length;Y++)if(K[Y].identifier===W){ea=Y;break}return ea}function L(W,ea){for(var Y={},ia=[],z=0;z<W.length;z++){var D=W[z],q=ea.base?D[0]+ea.base:D[0],r=Y[q]||0,F="".concat(q," ").concat(r);Y[q]=r+1;q=w(F);D={css:D[1],
media:D[2],sourceMap:D[3]};-1!==q?(K[q].references++,K[q].updater(D)):K.push({identifier:F,updater:x(D,ea),references:1});ia.push(F)}return ia}function B(W){var ea=document.createElement("style"),Y=W.attributes||{};if("undefined"===typeof Y.nonce){var ia=A.nc;ia&&(Y.nonce=ia)}Object.keys(Y).forEach(function(z){ea.setAttribute(z,Y[z])});if("function"===typeof W.insert)W.insert(ea);else{W=C(W.insert||"head");if(!W)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
W.appendChild(ea)}return ea}function G(W,ea,Y,ia){Y=Y?"":ia.media?"@media ".concat(ia.media," {").concat(ia.css,"}"):ia.css;W.styleSheet?W.styleSheet.cssText=N(ea,Y):(Y=document.createTextNode(Y),ia=W.childNodes,ia[ea]&&W.removeChild(ia[ea]),ia.length?W.insertBefore(Y,ia[ea]):W.appendChild(Y))}function y(W,ea,Y){ea=Y.css;var ia=Y.media;Y=Y.sourceMap;ia?W.setAttribute("media",ia):W.removeAttribute("media");Y&&"undefined"!==typeof btoa&&(ea+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Y)))),
" */"));if(W.styleSheet)W.styleSheet.cssText=ea;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(ea))}}function x(W,ea){if(ea.singleton){var Y=X++;var ia=ba||(ba=B(ea));var z=G.bind(null,ia,Y,!1);var D=G.bind(null,ia,Y,!0)}else ia=B(ea),z=y.bind(null,ia,ea),D=function(){null!==ia.parentNode&&ia.parentNode.removeChild(ia)};z(W);return function(q){q?(q.css!==W.css||q.media!==W.media||q.sourceMap!==W.sourceMap)&&z(W=q):D()}}var I=function(){var W;return function(){"undefined"===
typeof W&&(W=!(!(window&&document&&document.all)||window.atob));return W}}(),C=function(){var W={};return function(ea){if("undefined"===typeof W[ea]){var Y=document.querySelector(ea);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch(ia){Y=null}W[ea]=Y}return W[ea]}}(),K=[],N=function(){var W=[];return function(ea,Y){W[ea]=Y;return W.filter(Boolean).join("\n")}}(),ba=null,X=0;t.exports=function(W,ea){ea=ea||{};ea.singleton||"boolean"===typeof ea.singleton||
(ea.singleton=I());W=W||[];var Y=L(W,ea);return function(ia){ia=ia||[];if("[object Array]"===Object.prototype.toString.call(ia)){for(var z=0;z<Y.length;z++){var D=w(Y[z]);K[D].references--}ia=L(ia,ea);for(z=0;z<Y.length;z++)D=w(Y[z]),0===K[D].references&&(K[D].updater(),K.splice(D,1));Y=ia}}}},477:function(t,u,A){Object.defineProperty(u,"__esModule",{value:!0});u.App=void 0;var w=A(496),L=A(138),B=A(677);t=function(){return w.Module.call(this,[new L.Canvas,new B.Layout])||this};$jscomp.inherits(t,
w.Module);$jscomp.global.Object.defineProperties(t.prototype,{canvas:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(L.Canvas)}}});$jscomp.global.Object.defineProperties(t,{instance:{configurable:!0,enumerable:!0,get:function(){return this._instance}}});u.App=t;t._instance=new t},138:function(t,u,A){var w=this&&this.__createBinding||(Object.create?function(C,K,N,ba){void 0===ba&&(ba=N);Object.defineProperty(C,ba,{enumerable:!0,get:function(){return K[N]}})}:function(C,K,N,ba){void 0===
ba&&(ba=N);C[ba]=K[N]}),L=this&&this.__setModuleDefault||(Object.create?function(C,K){Object.defineProperty(C,"default",{enumerable:!0,value:K})}:function(C,K){C["default"]=K});t=this&&this.__importStar||function(C){if(C&&C.__esModule)return C;var K={};if(null!=C)for(var N in C)"default"!==N&&Object.prototype.hasOwnProperty.call(C,N)&&w(K,C,N);L(K,C);return K};Object.defineProperty(u,"__esModule",{value:!0});u.Canvas=void 0;var B=t(A(655)),G=A(496),y=A(514),x=A(379),I=function(){var C=G.Module.call(this,
[new x.Ticker,new y.Space])||this;C._app=new B.Application({width:window.innerWidth,height:window.innerHeight,backgroundColor:I.CANVAS_BACKGROUND});C._viewCanvas=C.viewCanvas;return C};$jscomp.inherits(I,G.Module);I.prototype.onInit=function(){this._viewCanvas.appendChild(this._app.view);this._app.ticker.add(this.ticker.update,this.ticker);this._app.stage.addChild(this.space.container)};$jscomp.global.Object.defineProperties(I.prototype,{viewCanvas:{configurable:!0,enumerable:!0,get:function(){if(this._viewCanvas)return this._viewCanvas;
var C=document.getElementById("background-canvas");if(!C)throw Error("Canvas element does not exist on document");return C}},ticker:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(x.Ticker)}},space:{configurable:!0,enumerable:!0,get:function(){return this.getSubmodule(y.Space)}},app:{configurable:!0,enumerable:!0,get:function(){return this._app}}});u.Canvas=I;I.CANVAS_BACKGROUND=1052688},514:function(t,u,A){var w=this&&this.__createBinding||(Object.create?function(N,ba,X,W){void 0===
W&&(W=X);Object.defineProperty(N,W,{enumerable:!0,get:function(){return ba[X]}})}:function(N,ba,X,W){void 0===W&&(W=X);N[W]=ba[X]}),L=this&&this.__setModuleDefault||(Object.create?function(N,ba){Object.defineProperty(N,"default",{enumerable:!0,value:ba})}:function(N,ba){N["default"]=ba});t=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var ba={};if(null!=N)for(var X in N)"default"!==X&&Object.prototype.hasOwnProperty.call(N,X)&&w(ba,N,X);L(ba,N);return ba};Object.defineProperty(u,
"__esModule",{value:!0});u.Space=void 0;var B=t(A(655)),G=A(496),y=A(682),x=A(574),I=A(741),C=A(220),K=function(){var N=G.Module.call(this)||this;N._stars=[];N._container=new B.Container;N._container.interactive=!0;N._container.interactiveChildren=!1;N._container.on("pointermove",function(ba){return x.Events.emit(y.Event.SPACE_POINTER_MOVE,{base:ba})});window.addEventListener("mouseout",N._onMouseOut);window.addEventListener("touchend",N._onMouseOut);return N};$jscomp.inherits(K,G.Module);K.prototype.onInit=
function(){this._populateStars();this._drawSpace();x.Events.emit(y.Event.ADD_TICKER,{ticker:new I.InitStarsTicker(this._stars)});x.Events.on(y.Event.ADD_DISPLAY_OBJECT,this._onAddDisplayObject.bind(this))};K.prototype.onDispose=function(){this._container.destroy({children:!0});window.removeEventListener("mouseout",this._onMouseOut);window.removeEventListener("touchend",this._onMouseOut)};K.prototype._onAddDisplayObject=function(N){N&&this._container.addChild(N.object)};K.prototype._onMouseOut=function(N){x.Events.emit(y.Event.SPACE_POINTER_OUT,
{base:N})};K.prototype._populateStars=function(){var N=window;N=N.innerWidth*N.innerHeight*K.STAR_RATIO*window.devicePixelRatio;for(var ba=0;ba<N;ba++){var X=C.Star.random();this._stars.push(X)}};K.prototype._drawSpace=function(){this._container.addChild.apply(this._container,$jscomp.arrayFromIterable(this._stars.map(function(N){return N.sprite})))};$jscomp.global.Object.defineProperties(K.prototype,{container:{configurable:!0,enumerable:!0,get:function(){return this._container}},stars:{configurable:!0,
enumerable:!0,get:function(){return this._stars}}});u.Space=K;K.STAR_RATIO=.008},220:function(t,u,A){var w=this&&this.__createBinding||(Object.create?function(K,N,ba,X){void 0===X&&(X=ba);Object.defineProperty(K,X,{enumerable:!0,get:function(){return N[ba]}})}:function(K,N,ba,X){void 0===X&&(X=ba);K[X]=N[ba]}),L=this&&this.__setModuleDefault||(Object.create?function(K,N){Object.defineProperty(K,"default",{enumerable:!0,value:N})}:function(K,N){K["default"]=N});t=this&&this.__importStar||function(K){if(K&&
K.__esModule)return K;var N={};if(null!=K)for(var ba in K)"default"!==ba&&Object.prototype.hasOwnProperty.call(K,ba)&&w(N,K,ba);L(N,K);return N};Object.defineProperty(u,"__esModule",{value:!0});u.Star=void 0;var B=t(A(655)),G=A(541),y=A(682),x=A(574),I=A(968),C=function(K,N,ba,X,W){this._position=K;this._size=N;this._brightness=ba;this._color=X;this._cloned=void 0===W?!1:W;this._sprite=this._buildSprite()};C.prototype.clone=function(){var K=new C(this._position,this._size,this._brightness,this._color,
!0);K.sprite.x=this._position.x;K.sprite.y=this._position.y;x.Events.emit(y.Event.ADD_DISPLAY_OBJECT,{object:K.sprite});return K};C.prototype._buildSprite=function(){var K=this.position.x,N=this.size,ba=this.color,X=new B.Sprite(I.StarTextureGenerator.base);X.blendMode=B.BLEND_MODES.SATURATION;X.x=K-N/2;X.y=window.innerHeight;X.scale.set(N);X.tint=ba;X.alpha=0;return X};C.random=function(){var K=window,N=K.innerWidth;K=K.innerHeight;var ba=G.getBetween(20,63.75),X=1===G.getBetween(1,10)?2:1,W=G.getBetween(0,
100);W=this._starColors[W];return new C({x:G.getBetween(0,N),y:G.getBetween(0,K)},X,ba,W)};C._computeStarColorProbabilities=function(){var K=this.STAR_COLORS,N=Array(100).fill(K[K.length-1][1]),ba=0;K=$jscomp.makeIterator(K);for(var X=K.next();!X.done;X=K.next()){var W=$jscomp.makeIterator(X.value);X=W.next().value;W=W.next().value;N.fill(W,ba,X);ba+=X}return N};$jscomp.global.Object.defineProperties(C.prototype,{position:{configurable:!0,enumerable:!0,get:function(){return this._position}},size:{configurable:!0,
enumerable:!0,get:function(){return this._size}},brightness:{configurable:!0,enumerable:!0,get:function(){return this._brightness}},color:{configurable:!0,enumerable:!0,get:function(){return this._color}},sprite:{configurable:!0,enumerable:!0,get:function(){return this._sprite}},cloned:{configurable:!0,enumerable:!0,get:function(){return this._cloned}}});u.Star=C;C.STAR_COLORS=[[2,15717547],[2,15707051],[10,15707112],[30,11259375],[30,16777215]];C._starColors=C._computeStarColorProbabilities()},968:function(t,
u,A){var w=this&&this.__createBinding||(Object.create?function(y,x,I,C){void 0===C&&(C=I);Object.defineProperty(y,C,{enumerable:!0,get:function(){return x[I]}})}:function(y,x,I,C){void 0===C&&(C=I);y[C]=x[I]}),L=this&&this.__setModuleDefault||(Object.create?function(y,x){Object.defineProperty(y,"default",{enumerable:!0,value:x})}:function(y,x){y["default"]=x});t=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var x={};if(null!=y)for(var I in y)"default"!==I&&Object.prototype.hasOwnProperty.call(y,
I)&&w(x,y,I);L(x,y);return x};Object.defineProperty(u,"__esModule",{value:!0});u.StarTextureGenerator=void 0;var B=t(A(655)),G=A(477);A=function(){};A._buildStarBaseTexture=function(){var y=new B.Graphics;y.beginFill(16777215);y.drawCircle(0,0,.75);y.endFill();return G.App.instance.canvas.app.renderer.generateTexture(y)};$jscomp.global.Object.defineProperties(A,{base:{configurable:!0,enumerable:!0,get:function(){var y;return null!=(y=this._base)?y:this._base=this._buildStarBaseTexture()}}});u.StarTextureGenerator=
A},741:function(t,u,A){Object.defineProperty(u,"__esModule",{value:!0});u.InitStarsTicker=void 0;var w=A(682),L=A(574),B=A(810),G=A(495);t=function(y){var x=B.AbstractTicker.call(this)||this;x._stars=y;x._starAnimations=x._initStarAnimations();x._remainingDelay=20;return x};$jscomp.inherits(t,B.AbstractTicker);t.prototype.update=function(y){if(0<this._remainingDelay)this._remainingDelay--;else{y=!1;for(var x=$jscomp.makeIterator(this._starAnimations),I=x.next();!I.done;I=x.next())I=I.value,I.ended||
(y=!0,I.ended=this._updateStarAnimation(I));y||this.dispose()}};t.prototype.onDispose=function(){L.Events.emit(w.Event.ADD_TICKER,{ticker:new G.StarAnimationTicker});L.Events.emit(w.Event.SPACE_INITIALIZED)};t.prototype._initStarAnimations=function(){return this._stars.map(function(y){return{star:y,yVelocity:50*Math.random()+10,ended:!1}})};t.prototype._updateStarAnimation=function(y){var x=y.star,I=x.sprite,C=x.position.y;x=x.brightness;I.y-=y.yVelocity;I.y<=C&&(I.y=C);I.alpha+=.01;y=x/255;I.alpha>=
y&&(I.alpha=y);return I.alpha===y&&I.y===C};u.InitStarsTicker=t},495:function(t,u,A){Object.defineProperty(u,"__esModule",{value:!0});u.StarAnimationTicker=void 0;var w=A(774),L=A(682),B=A(67),G=A(574),y=A(477),x=A(810),I=function(){var C=x.AbstractTicker.call(this)||this;C._oldAnimatingStars=new Set;C._animatingStars=new Set;C._buttonAnimatingStars=new Set;C._buttonAnimatingStarsTarget=new Map;C._runningButtonAnimation=!1;G.Events.on(L.Event.SPACE_POINTER_MOVE,C._onSpacePointerOver,C);G.Events.on(L.Event.SPACE_POINTER_OUT,
C._onSpacePointerOut,C);G.Events.on(L.Event.SPACE_BUTTON_HOVER,C._onSpaceButtonHover,C);G.Events.on(L.Event.SPACE_BUTTON_OUT,C._onSpaceButtonOut,C);return C};$jscomp.inherits(I,x.AbstractTicker);I.prototype.update=function(C){C=$jscomp.makeIterator(this._oldAnimatingStars);for(var K=C.next();!K.done;K=C.next()){K=K.value;K.sprite.alpha-=.05;var N=K.brightness/255;K.sprite.alpha<=N&&(K.sprite.alpha=N,this._oldAnimatingStars.delete(K))}C=$jscomp.makeIterator(this._animatingStars);for(K=C.next();!K.done;K=
C.next())K=K.value,N=this._buttonAnimatingStars.has(K)?.025:.1,K.sprite.alpha+=N,1<=K.sprite.alpha&&(K.sprite.alpha=1);C=!1;K=$jscomp.makeIterator(this._buttonAnimatingStarsTarget);for(N=K.next();!N.done;N=K.next()){var ba=$jscomp.makeIterator(N.value);N=ba.next().value;ba=ba.next().value;if(ba.progress===I.ANIMATION_DURATION)ba.persistent||this._deleteStar(N);else{C=!0;var X=ba,W=X.target,ea=W.targetX;W=W.targetY;var Y=X.initial;X=Y.initialX;Y=Y.initialY;var ia=this._applyEaseInOutQuad(ba.progress/
I.ANIMATION_DURATION);W=(W-Y)*ia;N.sprite.x=(ea-X)*ia+X;N.sprite.y=W+Y;ba.progress++}}this._runningButtonAnimation=C};I.prototype._onSpacePointerOver=function(C){C&&this._addAnimatingStars(this._getClosePointChildren(C.base))};I.prototype._onSpacePointerOut=function(){this._addStarsToOldAnimatingStars()};I.prototype._onSpaceButtonHover=function(C){if(C&&(C=C.base.target,C instanceof HTMLButtonElement)){this._buttonBounds=C=C.getBoundingClientRect();var K=this._runningButtonAnimation?Array.from(this._buttonAnimatingStarsTarget.keys()):
this._getCloseRectChildren(C).map(function(N){return N.clone()});this._addAnimatingStars(K,!0);this._assignButtonAnimatingStarTargets(K,C)}};I.prototype._deleteStar=function(C){C.sprite.destroy();this._oldAnimatingStars.delete(C);this._animatingStars.delete(C);this._buttonAnimatingStars.delete(C);this._buttonAnimatingStarsTarget.delete(C)};I.prototype._assignButtonAnimatingStarTargets=function(C,K){K=this._getButtonAnimatingStarTargets(C.length,K);C=$jscomp.makeIterator(C);for(var N=C.next();!N.done;N=
C.next()){N=N.value;var ba=N.position,X=ba.x;ba=ba.y;for(var W=K[0],ea=Infinity,Y=-1,ia=0;ia<K.length;ia++){var z=K[ia],D=w.get2DVectorDistance(X,ba,z.targetX,z.targetY);D<ea&&(W=z,ea=D,Y=ia)}K.splice(Y,1);this._buttonAnimatingStarsTarget.set(N,{target:W,initial:{initialX:N.sprite.x,initialY:N.sprite.y},progress:0,persistent:!0})}};I.prototype._onSpaceButtonOut=function(){var C=Array.from(this._buttonAnimatingStarsTarget.keys());C=$jscomp.makeIterator(C);for(var K=C.next();!K.done;K=C.next())K=K.value,
this._buttonAnimatingStarsTarget.set(K,{target:{targetX:K.position.x,targetY:K.position.y},initial:{initialX:K.sprite.x,initialY:K.sprite.y},progress:0,persistent:!1});this._buttonAnimatingStars.clear();this._addStarsToOldAnimatingStars()};I.prototype._getCloseRectChildren=function(C){var K=C.x,N=C.y,ba=C.width,X=C.height;return y.App.instance.canvas.space.stars.filter(function(W){W=W.sprite;return 40>w.get2DVectorToRectDistance(W.x,W.y,K,N,ba,X)})};I.prototype._getClosePointChildren=function(C){C=
C.data.global;var K=C.x,N=C.y;return y.App.instance.canvas.space.stars.filter(function(ba){ba=ba.sprite;return 40>w.get2DVectorDistance(K,N,ba.x,ba.y)})};I.prototype._addAnimatingStars=function(C,K){K=void 0===K?!1:K;this._addStarsToOldAnimatingStars(C);C=$jscomp.makeIterator(C);for(var N=C.next();!N.done;N=C.next())N=N.value,K&&!this._buttonAnimatingStars.has(N)&&this._buttonAnimatingStars.add(N),this._animatingStars.has(N)||this._animatingStars.add(N)};I.prototype._getButtonAnimatingStarTargets=
function(C,K){var N=[],ba=K.x,X=K.y,W=K.width;K=K.height;for(var ea=ba+W,Y=X+K,ia=(2*W+2*K)/C,z=0;z<C;z++){var D=ia*z,q=ba+D,r=X;q>ea&&(D-=W,q=ea,r=X+D);r>Y&&(D-=K,r=X+K,q=ea-D);q<ba&&(D-=W,q=ba,r=Y-D);D=0;B.isPhone()&&(D=5);q+=10*Math.random()-D;r+=10*Math.random()-D;N.push({targetX:q,targetY:r})}return N};I.prototype._addStarsToOldAnimatingStars=function(C){for(var K=$jscomp.makeIterator(this._animatingStars),N=K.next();!N.done;N=K.next())N=N.value,C&&C.includes(N)||this._buttonAnimatingStars.has(N)||
(this._animatingStars.delete(N),this._oldAnimatingStars.has(N)||this._oldAnimatingStars.add(N))};I.prototype._applyEaseInOutQuad=function(C){return.5>C?2*C*C:1-Math.pow(-2*C+2,2)/2};u.StarAnimationTicker=I;I.ANIMATION_DURATION=50},810:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.AbstractTicker=void 0;t=function(){this._disposed=!1};t.prototype.onDispose=function(){};t.prototype.dispose=function(){this.onDispose();this._disposed=!0};$jscomp.global.Object.defineProperties(t.prototype,
{disposed:{configurable:!0,enumerable:!0,get:function(){return this._disposed}}});u.AbstractTicker=t},379:function(t,u,A){Object.defineProperty(u,"__esModule",{value:!0});u.Ticker=void 0;var w=A(496),L=A(682),B=A(574);t=function(){var G=w.Module.call(this)||this;G._tickers=[];return G};$jscomp.inherits(t,w.Module);t.prototype.onInit=function(){B.Events.on(L.Event.ADD_TICKER,this._addTicker,this)};t.prototype.onDispose=function(){for(var G=$jscomp.makeIterator(this._tickers),y=G.next();!y.done;y=G.next())y.value.dispose()};
t.prototype.update=function(G){this._tickers=this._tickers.filter(function(I){return!I.disposed});for(var y=$jscomp.makeIterator(this._tickers),x=y.next();!x.done;x=y.next())x.value.update(G)};t.prototype._addTicker=function(G){G&&this._tickers.push(G.ticker)};u.Ticker=t},682:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Event=void 0;t=u.Event||(u.Event={});t[t.SPACE_INITIALIZED=0]="SPACE_INITIALIZED";t[t.ADD_TICKER=1]="ADD_TICKER";t[t.ADD_DISPLAY_OBJECT=2]="ADD_DISPLAY_OBJECT";
t[t.SPACE_POINTER_MOVE=3]="SPACE_POINTER_MOVE";t[t.SPACE_POINTER_OUT=4]="SPACE_POINTER_OUT";t[t.SPACE_BUTTON_HOVER=5]="SPACE_BUTTON_HOVER";t[t.SPACE_BUTTON_OUT=6]="SPACE_BUTTON_OUT"},574:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Events=void 0;t=function(){};t.on=function(A,w,L){var B=this._subscriptions.get(A);w=w.bind(L);this._subscriptions.set(A,B?[].concat($jscomp.arrayFromIterable(B),[w]):[w])};t.emit=function(A,w){var L;A=$jscomp.makeIterator(null!=(L=this._subscriptions.get(A))?
L:[]);for(L=A.next();!L.done;L=A.next())L=L.value,L(w)};u.Events=t;t._subscriptions=new Map},677:function(t,u,A){Object.defineProperty(u,"__esModule",{value:!0});u.Layout=void 0;var w=A(496),L=A(682),B=A(574);t=function(){var G=w.Module.call(this)||this;B.Events.on(L.Event.SPACE_INITIALIZED,G._onSpaceInitialized.bind(G));return G};$jscomp.inherits(t,w.Module);t.prototype._onSpaceInitialized=function(){this._displayStartButton();this._bindSpaceButtons()};t.prototype._displayStartButton=function(){var G=
document.getElementById("start-btn");G&&(G.style.opacity="1")};t.prototype._bindSpaceButtons=function(){for(var G=$jscomp.makeIterator(document.querySelectorAll("button[is=space-button]")),y=G.next();!y.done;y=G.next())y=y.value,y instanceof HTMLButtonElement&&(y.addEventListener("mouseover",this._onSpaceButtonHover.bind(this)),y.addEventListener("touchstart",this._onSpaceButtonHover.bind(this)),y.addEventListener("mouseout",this._onSpaceButtonOut.bind(this)),y.addEventListener("touchend",this._onSpaceButtonOut.bind(this)))};
t.prototype._onSpaceButtonHover=function(G){B.Events.emit(L.Event.SPACE_BUTTON_HOVER,{base:G})};t.prototype._onSpaceButtonOut=function(G){B.Events.emit(L.Event.SPACE_BUTTON_OUT,{base:G})};u.Layout=t},496:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.Module=void 0;t=function(A){A=void 0===A?[]:A;this._submodules=new Map;A=$jscomp.makeIterator(A);for(var w=A.next();!w.done;w=A.next())w=w.value,this._submodules.set(w.constructor.name,w)};t.prototype.onInit=function(){};t.prototype.init=
function(){this.onInit();for(var A=$jscomp.makeIterator(this._submodules.values()),w=A.next();!w.done;w=A.next())w.value.init()};t.prototype.getSubmodule=function(A){return this._submodules.get(A.name)};t.prototype.onDispose=function(){};t.prototype.dispose=function(){this.onDispose();for(var A=$jscomp.makeIterator(this._submodules.values()),w=A.next();!w.done;w=A.next())w.value.dispose()};u.Module=t},541:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.getBetween=void 0;u.getBetween=
function(A,w){A=Math.ceil(A);return Math.floor(Math.random()*(Math.floor(w)-A+1))+A}},774:function(t,u){Object.defineProperty(u,"__esModule",{value:!0});u.get2DVectorToRectDistance=u.get2DVectorDistance=void 0;u.get2DVectorDistance=function(A,w,L,B){return Math.sqrt(Math.pow(Math.abs(A-L),2)+Math.pow(Math.abs(w-B),2))};u.get2DVectorToRectDistance=function(A,w,L,B,G,y){return Math.sqrt(Math.pow(Math.max(L-A,0,A-(L+G)),2)+Math.pow(Math.max(B-w,0,w-(B+y)),2))}},67:function(t,u){Object.defineProperty(u,
"__esModule",{value:!0});u.isPhone=void 0;u.isPhone=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(A){return navigator.userAgent.match(A)})}},884:function(t,u,A){t=A.nmd(t);var w;(function(L){function B(z){throw RangeError(ea[z]);}function G(z,D){for(var q=z.length,r=[];q--;)r[q]=D(z[q]);return r}function y(z,D){var q=z.split("@"),r="";1<q.length&&(r=q[0]+"@",z=q[1]);z=z.replace(W,".");z=z.split(".");D=G(z,D).join(".");return r+D}function x(z){for(var D=
[],q=0,r=z.length,F,M;q<r;)F=z.charCodeAt(q++),55296<=F&&56319>=F&&q<r?(M=z.charCodeAt(q++),56320==(M&64512)?D.push(((F&1023)<<10)+(M&1023)+65536):(D.push(F),q--)):D.push(F);return D}function I(z){return G(z,function(D){var q="";65535<D&&(D-=65536,q+=ia(D>>>10&1023|55296),D=56320|D&1023);return q+=ia(D)}).join("")}function C(z,D,q){var r=0;z=q?Y(z/700):z>>1;for(z+=Y(z/D);455<z;r+=36)z=Y(z/35);return Y(r+36*z/(z+38))}function K(z){var D=[],q=z.length,r=0,F=128,M=72,S,U;var ca=z.lastIndexOf("-");0>
ca&&(ca=0);for(S=0;S<ca;++S)128<=z.charCodeAt(S)&&B("not-basic"),D.push(z.charCodeAt(S));for(ca=0<ca?ca+1:0;ca<q;){S=r;var Z=1;for(U=36;;U+=36){ca>=q&&B("invalid-input");var V=z.charCodeAt(ca++);V=10>V-48?V-22:26>V-65?V-65:26>V-97?V-97:36;(36<=V||V>Y((2147483647-r)/Z))&&B("overflow");r+=V*Z;var sa=U<=M?1:U>=M+26?26:U-M;if(V<sa)break;V=36-sa;Z>Y(2147483647/V)&&B("overflow");Z*=V}Z=D.length+1;M=C(r-S,Z,0==S);Y(r/Z)>2147483647-F&&B("overflow");F+=Y(r/Z);r%=Z;D.splice(r++,0,F)}return I(D)}function N(z){var D,
q,r,F=[];z=x(z);var M=z.length;var S=128;var U=0;var ca=72;for(r=0;r<M;++r){var Z=z[r];128>Z&&F.push(ia(Z))}for((D=q=F.length)&&F.push("-");D<M;){var V=2147483647;for(r=0;r<M;++r)Z=z[r],Z>=S&&Z<V&&(V=Z);var sa=D+1;V-S>Y((2147483647-U)/sa)&&B("overflow");U+=(V-S)*sa;S=V;for(r=0;r<M;++r)if(Z=z[r],Z<S&&2147483647<++U&&B("overflow"),Z==S){var pa=U;for(V=36;;V+=36){Z=V<=ca?1:V>=ca+26?26:V-ca;if(pa<Z)break;var va=pa-Z;pa=36-Z;var Ga=F;Z+=va%pa;Ga.push.call(Ga,ia(Z+22+75*(26>Z)-0));pa=Y(va/pa)}F.push(ia(pa+
22+75*(26>pa)-0));ca=C(U,sa,D==q);U=0;++D}++U;++S}return F.join("")}var ba=/^xn--/,X=/[^\x20-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,ea={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=Math.floor,ia=String.fromCharCode;!(w={version:"1.3.2",ucs2:{decode:x,encode:I},decode:K,encode:N,toASCII:function(z){return y(z,function(D){return X.test(D)?"xn--"+N(D):D})},toUnicode:function(z){return y(z,function(D){return ba.test(D)?
K(D.slice(4).toLowerCase()):D})}},void 0!==w&&(t.exports=w))})(this)},760:function(t,u,A){function w(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function L(z,D,q){if(z&&G.isObject(z)&&z instanceof w)return z;var r=new w;r.parse(z,D,q);return r}var B=A(884),G=A(569);u.Qc=L;u.DB=function(z,D){return L(z,!1,!0).resolve(D)};u.WU=function(z){G.isString(z)&&(z=L(z));return z instanceof w?z.format():w.prototype.format.call(z)};
var y=/^([a-z0-9.+-]+:)/i,x=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;t="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var C=["'"].concat(t),K=["%","/","?",";","#"].concat(C),N=["/","?","#"],ba=/^[+a-z0-9A-Z_-]{0,63}$/,X=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,W={javascript:!0,"javascript:":!0},ea={javascript:!0,"javascript:":!0},Y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ia=A(966);w.prototype.parse=function(z,D,q){if(!G.isString(z))throw new TypeError("Parameter 'url' must be a string, not "+
typeof z);var r=z.indexOf("?");r=-1!==r&&r<z.indexOf("#")?"?":"#";z=z.split(r);z[0]=z[0].replace(/\\/g,"/");z=z.join(r);r=z.trim();if(!q&&1===z.split("#").length&&(z=I.exec(r)))return this.href=this.path=r,this.pathname=z[1],z[2]?(this.search=z[2],this.query=D?ia.parse(this.search.substr(1)):this.search.substr(1)):D&&(this.search="",this.query={}),this;if(z=y.exec(r)){z=z[0];var F=z.toLowerCase();this.protocol=F;r=r.substr(z.length)}if(q||z||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var M="//"===r.substr(0,
2);!M||z&&ea[z]||(r=r.substr(2),this.slashes=!0)}if(!ea[z]&&(M||z&&!Y[z])){M=-1;for(q=0;q<N.length;q++)z=r.indexOf(N[q]),-1!==z&&(-1===M||z<M)&&(M=z);M=-1===M?r.lastIndexOf("@"):r.lastIndexOf("@",M);-1!==M&&(q=r.slice(0,M),r=r.slice(M+1),this.auth=decodeURIComponent(q));M=-1;for(q=0;q<K.length;q++)z=r.indexOf(K[q]),-1!==z&&(-1===M||z<M)&&(M=z);-1===M&&(M=r.length);this.host=r.slice(0,M);r=r.slice(M);this.parseHost();this.hostname=this.hostname||"";M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-
1];if(!M){var S=this.hostname.split(/\./);q=0;for(z=S.length;q<z;q++){var U=S[q];if(U&&!U.match(ba)){for(var ca="",Z=0,V=U.length;Z<V;Z++)ca=127<U.charCodeAt(Z)?ca+"x":ca+U[Z];if(!ca.match(ba)){z=S.slice(0,q);q=S.slice(q+1);if(U=U.match(X))z.push(U[1]),q.unshift(U[2]);q.length&&(r="/"+q.join(".")+r);this.hostname=z.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();M||(this.hostname=B.toASCII(this.hostname));q=this.port?":"+this.port:"";this.host=(this.hostname||
"")+q;this.href+=this.host;M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!W[F])for(q=0,z=C.length;q<z;q++)M=C[q],-1!==r.indexOf(M)&&(U=encodeURIComponent(M),U===M&&(U=escape(M)),r=r.split(M).join(U));q=r.indexOf("#");-1!==q&&(this.hash=r.substr(q),r=r.slice(0,q));q=r.indexOf("?");-1!==q?(this.search=r.substr(q),this.query=r.substr(q+1),D&&(this.query=ia.parse(this.query)),r=r.slice(0,q)):D&&(this.search="",this.query={});r&&(this.pathname=r);Y[F]&&this.hostname&&
!this.pathname&&(this.pathname="/");if(this.pathname||this.search)q=this.pathname||"",this.path=q+(this.search||"");this.href=this.format();return this};w.prototype.format=function(){var z=this.auth||"";z&&(z=encodeURIComponent(z),z=z.replace(/%3A/i,":"),z+="@");var D=this.protocol||"",q=this.pathname||"",r=this.hash||"",F=!1,M="";this.host?F=z+this.host:this.hostname&&(F=z+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(F+=":"+this.port));this.query&&G.isObject(this.query)&&
Object.keys(this.query).length&&(M=ia.stringify(this.query));z=this.search||M&&"?"+M||"";D&&":"!==D.substr(-1)&&(D+=":");this.slashes||(!D||Y[D])&&!1!==F?(F="//"+(F||""),q&&"/"!==q.charAt(0)&&(q="/"+q)):F||(F="");r&&"#"!==r.charAt(0)&&(r="#"+r);z&&"?"!==z.charAt(0)&&(z="?"+z);q=q.replace(/[?#]/g,function(S){return encodeURIComponent(S)});z=z.replace("#","%23");return D+F+q+z+r};w.prototype.resolve=function(z){return this.resolveObject(L(z,!1,!0)).format()};w.prototype.resolveObject=function(z){if(G.isString(z)){var D=
new w;D.parse(z,!1,!0);z=D}D=new w;for(var q=Object.keys(this),r=0;r<q.length;r++){var F=q[r];D[F]=this[F]}D.hash=z.hash;if(""===z.href)return D.href=D.format(),D;if(z.slashes&&!z.protocol){q=Object.keys(z);for(r=0;r<q.length;r++)F=q[r],"protocol"!==F&&(D[F]=z[F]);Y[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/");D.href=D.format();return D}if(z.protocol&&z.protocol!==D.protocol){if(!Y[z.protocol]){q=Object.keys(z);for(r=0;r<q.length;r++)F=q[r],D[F]=z[F];D.href=D.format();return D}D.protocol=
z.protocol;if(z.host||ea[z.protocol])D.pathname=z.pathname;else{for(var M=(z.pathname||"").split("/");M.length&&!(z.host=M.shift()););z.host||(z.host="");z.hostname||(z.hostname="");""!==M[0]&&M.unshift("");2>M.length&&M.unshift("");D.pathname=M.join("/")}D.search=z.search;D.query=z.query;D.host=z.host||"";D.auth=z.auth;D.hostname=z.hostname||z.host;D.port=z.port;if(D.pathname||D.search)D.path=(D.pathname||"")+(D.search||"");D.slashes=D.slashes||z.slashes;D.href=D.format();return D}q=D.pathname&&
"/"===D.pathname.charAt(0);var S=z.host||z.pathname&&"/"===z.pathname.charAt(0),U=q=S||q||D.host&&z.pathname;r=D.pathname&&D.pathname.split("/")||[];M=z.pathname&&z.pathname.split("/")||[];if(F=D.protocol&&!Y[D.protocol])D.hostname="",D.port=null,D.host&&(""===r[0]?r[0]=D.host:r.unshift(D.host)),D.host="",z.protocol&&(z.hostname=null,z.port=null,z.host&&(""===M[0]?M[0]=z.host:M.unshift(z.host)),z.host=null),q=q&&(""===M[0]||""===r[0]);if(S)D.host=z.host||""===z.host?z.host:D.host,D.hostname=z.hostname||
""===z.hostname?z.hostname:D.hostname,D.search=z.search,D.query=z.query,r=M;else if(M.length)r||(r=[]),r.pop(),r=r.concat(M),D.search=z.search,D.query=z.query;else if(!G.isNullOrUndefined(z.search))return F&&(D.hostname=D.host=r.shift(),F=D.host&&0<D.host.indexOf("@")?D.host.split("@"):!1)&&(D.auth=F.shift(),D.host=D.hostname=F.shift()),D.search=z.search,D.query=z.query,G.isNull(D.pathname)&&G.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!r.length)return D.pathname=
null,D.path=D.search?"/"+D.search:null,D.href=D.format(),D;S=r.slice(-1)[0];M=(D.host||z.host||1<r.length)&&("."===S||".."===S)||""===S;for(var ca=0,Z=r.length;0<=Z;Z--)S=r[Z],"."===S?r.splice(Z,1):".."===S?(r.splice(Z,1),ca++):ca&&(r.splice(Z,1),ca--);if(!q&&!U)for(;ca--;ca)r.unshift("..");!q||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift("");M&&"/"!==r.join("/").substr(-1)&&r.push("");U=""===r[0]||r[0]&&"/"===r[0].charAt(0);F&&(D.hostname=D.host=U?"":r.length?r.shift():"",F=D.host&&0<D.host.indexOf("@")?
D.host.split("@"):!1)&&(D.auth=F.shift(),D.host=D.hostname=F.shift());(q=q||D.host&&r.length)&&!U&&r.unshift("");r.length?D.pathname=r.join("/"):(D.pathname=null,D.path=null);G.isNull(D.pathname)&&G.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:""));D.auth=z.auth||D.auth;D.slashes=D.slashes||z.slashes;D.href=D.format();return D};w.prototype.parseHost=function(){var z=this.host,D=x.exec(z);D&&(D=D[0],":"!==D&&(this.port=D.substr(1)),z=z.substr(0,z.length-D.length));z&&(this.hostname=
z)}},569:function(t){t.exports={isString:function(u){return"string"===typeof u},isObject:function(u){return"object"===typeof u&&null!==u},isNull:function(u){return null===u},isNullOrUndefined:function(u){return null==u}}}},P={};(function(){H.n=function(t){var u=t&&t.__esModule?function(){return t["default"]}:function(){return t};H.d(u,{a:u});return u}})();(function(){H.d=function(t,u){for(var A in u)H.o(u,A)&&!H.o(t,A)&&Object.defineProperty(t,A,{enumerable:!0,get:u[A]})}})();(function(){H.g=function(){if("object"===
typeof globalThis)return globalThis;try{return this||(new Function("return this"))()}catch(t){if("object"===typeof window)return window}}()})();(function(){H.o=function(t,u){return Object.prototype.hasOwnProperty.call(t,u)}})();(function(){H.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})}})();(function(){H.nmd=function(t){t.paths=[];t.children||(t.children=[]);return t}})();
H(947);H(477).App.instance.init()})();}).call(this || window)

//# sourceMappingURL=main.bundle.js.map